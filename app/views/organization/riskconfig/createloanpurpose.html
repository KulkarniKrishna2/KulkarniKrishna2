<div class="col-md-12" ng-controller="CreateLoanPurposeController">
    <div class="paddedbottom10">
        <ul class="breadcrumb">
            <li><a href="#/organization">{{'label.anchor.organization' | translate}}</a></li>
            <li><a href="#/loanpurposeandtagging">{{'label.anchor.loanpurposeandtagging' | translate}}</a></li>
            <li><a href="#/loanpurpose">{{'label.anchor.loanpurpose' | translate}}</a></li>
            <li class="active">{{'label.view.create.loanpurpose' | translate}}</li>
        </ul>
        <api-validate></api-validate>
        <div class="clearfix"></div>

        <form name="createLoanPurpose" novalidate="" class="form-horizontal well"
              rc-submit="submit()">
            <fieldset>

                <div ng-if="entityType != 'viewloanpurposegroups'">
                    <legend>{{'label.view.create.loanpurpose' | translate}}</legend>
                </div>
               <div ng-if="entityType == 'viewloanpurposegroups'">
                   <legend>{{ loanPurposeGroupData.loanPurposeGroupType.name}}: {{loanPurposeGroupData.name}}</legend>
               </div>

                <div class="form-group">
                    <label class="control-label col-sm-2" for="loanpurpose">{{ 'label.input.loanpurpose' | translate
                        }}<span
                                class="required">*</span></label>

                    <div class="col-sm-3">
                        <input type="text" autocomplete="off" id="loanpurpose" name="loanpurpose"
                               ng-model="formData.name"
                               class="form-control" required late-validate/>
                    </div>
                    <div class="col-sm-2">
                        <form-validate valattributeform="createLoanPurpose" valattribute="loanpurpose"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2" for="systemCode">{{ 'label.input.shortName' | translate }}<span
                            class="required">*</span></label>

                    <div class="col-sm-3">
                        <input type="text" autocomplete="off" id="systemCode" name="systemCode"
                               ng-model="formData.systemCode" class="form-control" required late-validate/>
                    </div>
                    <div class="col-sm-2">
                        <form-validate valattributeform="createLoanPurpose" valattribute="systemCode"/>
                    </div>
                </div>
                <div class="form-group" ng-if="!entityId">
                    <label class="control-label col-sm-2">{{ 'label.input.loan.purpose.group.type' | translate }}</label>

                    <div class="col-sm-3">
                        <select id="categoryOption" name="categoryOption" ng-model="uiData.categoryId" class="form-control"
                                ng-options="categoryOption.id as categoryOption.name for categoryOption in categoryOptions "
                                value="categoryOption.id" data-ng-change="populateClassificationOption();">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                    <div class="col-sm-2">
                        <form-validate valattributeform="createLoanPurposeGroups" valattribute="categoryOption"/>
                    </div>
                </div>

                <div class="form-group" ng-if="!entityId">
                    <label class="control-label col-sm-2">{{ 'label.input.loan.purpose.groups' | translate }}</label>

                    <div class="col-sm-3">
                        <select id="classfication" name="classfication" ng-model="uiData.classificationId" class="form-control"
                                ng-options="classificationOption.id as classificationOption.name for classificationOption in classificationOptions"
                                value="classificationOption.id">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                    <div class="col-sm-2">
                        <form-validate valattributeform="createLoanPurposeGroups" valattribute="classfication"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.description' | translate }}</label>

                    <div class="col-sm-3">
                        <textarea name="description" id="description" name="description" ng-model="formData.description"
                                  type="text" autocomplete="off" class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{'label.input.isActive' | translate}}</label>

                    <div class="col-sm-3">
                        <input id="isActive" type="checkbox" ng-model="formData.isActive">
                    </div>
                </div>

                <div class="col-md-offset-2 paddedleft">
                    <a href="#/loanpurpose" class="btn btn-default" ng-show="entityType == 'loanpurposes'">{{'label.button.cancel' |
                        translate}}</a>
                    <a href="#/viewloanpurposegroup/{{entityId}}" class="btn btn-default" ng-show="entityType == 'viewloanpurposegroups'">{{'label.button.cancel' |
                        translate}}</a>
                    <button id="save" type="submit" class="btn btn-primary">{{'label.button.save' |
                        translate}}</button>
                </div>
            </fieldset>
        </form>

    </div>
</div>