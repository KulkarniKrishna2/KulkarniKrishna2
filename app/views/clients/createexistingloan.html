<div class="col-md-12" ng-controller="CreateExistingLoanController">
    <div class="paddedbottom10">
        <ul class="breadcrumb">
            <li><a href="#/viewclient/{{clientId}}">{{'label.anchor.viewclient' | translate}}</a></li>
            <li class="active">{{'label.view.add.existingloan' | translate}}</li>
        </ul>

        <api-validate></api-validate>
        <div class="clearfix"></div>

        <form name="existingLoan" novalidate="" class="form-horizontal well" rc-submit="submit()">
            <fieldset>
                <legend>{{'label.view.add.existingloan' | translate}}</legend>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.source' | translate }}</label>
                    <div class="col-sm-3">
                        <select id="source" name="source" ng-model="formData.sourceId" class="form-control"
                                ng-options="existingLoanSource.id as existingLoanSource.name for existingLoanSource in existingLoanSourceOption"
                                value="existingLoanSource.id">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                    <label class="control-label col-sm-2">{{ 'label.input.creditbureau' | translate }}</label>
                    <div class="col-sm-3">
                        <select id="creditbureau" name="creditbureau" ng-model="formData.creditBureauProductId" class="form-control"
                                ng-options="creditBureauProduct.creditBureauId as creditBureauProduct.creditBureauName for creditBureauProduct in creditBureauProductsOption"
                                value="creditBureauProduct.creditBureauId">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.lender' | translate }}</label>
                    <div class="col-sm-3">
                        <select id="lender" name="lender" ng-model="formData.lenderId" class="form-control"
                                ng-options="lender.id as lender.name for lender in lenderOption"
                                value="lender.id">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                    <label class="control-label col-sm-2">{{ 'label.input.otherlender' | translate }}</label>
                    <div class="col-sm-3">
                        <input ng-autofocus="true" type="text" id="lenderName" name="lenderName"
                               ng-model="formData.lenderName" class="form-control" required late-validate/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.loantype' | translate }}</label>
                    <div class="col-sm-3">
                        <select id="loanTypeId" name="loanTypeId" ng-model="formData.loanTypeId" class="form-control"
                                ng-options="loanType.id as loanType.name for loanType in loanTypeOption"
                                value="loanType.id">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                    <label class="control-label col-sm-2">{{ 'label.input.loanpurpose' | translate }}</label>
                    <div class="col-sm-3">
                        <select id="externalLoanPurposeId" name="externalLoanPurposeId" ng-model="formData.externalLoanPurposeId" class="form-control"
                                ng-options="externalLoanPurpose.id as externalLoanPurpose.name for externalLoanPurpose in externalLoanPurposeOption"
                                value="externalLoanPurpose.id">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.disbursedate' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-3">
                        <input id="disburseDate" type="text" name="disburseDate" datepicker-pop="{{df}}"
                               ng-model="formData.disbursedDate" is-open="opened1" max="restrictDate"
                               class="form-control"/>
                    </div>

                    <label class="control-label col-sm-2">{{ 'label.input.loan.status' | translate }}</label>
                    <div class="col-sm-3">
                        <select id="loanStatusId" name="loanStatusId" ng-model="formData.loanStatusId" class="form-control"
                                ng-options="loanStatus.id as loanStatus.value for loanStatus in loanStatusOption"
                                value="loanStatus.id">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.amountborrowed' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-3">
                        <input id="amountBorrowed" type="text" name="amountBorrowed"
                               ng-model="formData.amountBorrowed"
                                   lass="form-control"/>
                    </div>

                    <label class="control-label col-sm-2">{{ 'label.input.gt0dpd3mths' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-2">
                        <input id="gt0dpd3mths" type="text" name="gt0dpd3mths" ng-model="formData.gt0dpd3mths"
                               class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.outstanding' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-3">
                        <input id="outstanding" type="text" name="outstanding"
                               ng-model="formData.currentOutstanding"
                               lass="form-control"/>
                    </div>

                    <label class="control-label col-sm-2">{{ 'label.input.dpd30mths12' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-2">
                        <input id="dpd30mths12" type="text" name="dpd30mths12" ng-model="formData.dpd30mths12"
                               class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.amtOverdue' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-3">
                        <input id="amtOverdue" type="text" name="amtOverdue"
                               ng-model="formData.amtOverdue"
                               lass="form-control"/>
                    </div>

                    <label class="control-label col-sm-2">{{ 'label.input.dpd30mths24' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-2">
                        <input id="dpd30mths24" type="text" name="dpd30mths24" ng-model="formData.dpd30mths24"
                               class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.WrittenOffAmount' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-3">
                        <input id="WrittenOffAmount" type="text" name="WrittenOffAmount"
                               ng-model="formData.writtenOffAmount"
                               lass="form-control"/>
                    </div>

                    <label class="control-label col-sm-2">{{ 'label.input.dpd60mths24' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-2">
                        <input id="dpd60mths24" type="text" name="dpd60mths24" ng-model="formData.dpd60mths24"
                               class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.installmentAmount' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-2">
                        <input id="installmentAmount" type="text" name="installmentAmount"
                               ng-model="formData.installmentAmount"
                               class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-sm-2">{{ 'label.input.loanTenure' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-1">
                        <input id="loanTenure" type="text"
                               name="loanTenure"
                               ng-model="formData.loanTenure"
                               class="form-control"/>
                    </div>
                    <div class="col-sm-1">
                        <select id="loanTenaureType" name="loanTenaureType" ng-model="formData.loanTenurePeriodType" class="form-control"
                                ng-options="loanTenaure.id as loanTenaure.value  for loanTenaure in loanTenaureOption"
                                value="loanTenaure.id">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>

                    <label class="control-label col-sm-3">{{ 'label.input.repaymentFrequency' | translate }}<span
                            class="required"></span></label>
                    <div class="col-sm-1">
                        <input id="repaymentFrequency" type="text"
                               name="repaymentFrequency"
                               ng-model="formData.repaymentFrequencyMultipleOf"
                               class="form-control"/>
                    </div>
                    <div class="col-sm-1">
                        <select id="" name="status" ng-model="formData.repaymentFrequency" class="form-control"
                                ng-options="termPeriodFrequency.id as termPeriodFrequency.value  for termPeriodFrequency in termPeriodFrequencyType"
                                value="termPeriodFrequency.id">
                            <option value="">--{{'label.input.selectoptions' | translate}}--</option>
                        </select>
                    </div>
                </div>
                <br/>
                <div class="col-md-offset-4 paddedleft">
                    <a id="cancel" href="#/viewclient/{{clientId}}" class="btn btn-default">{{'label.button.cancel'
                        | translate}}</a>
                    <a id="save" ng-click="submit()" type="submit" class="btn btn-primary">{{'label.button.save' |
                        translate}}</a>
                </div>
            </fieldset>
        </form>
    </div>
</div>