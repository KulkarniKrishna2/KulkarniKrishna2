<div class="col-md-12" ng-controller="ViewClientController" xmlns="http://www.w3.org/1999/html">
	<div>
	    <ul class="breadcrumb">
	        <li ng-hide="loanApplicationReferenceId"><a ng-href="#/viewoffice/{{client.officeId}}">{{client.officeName}}</a></li>
			<li ng-show="group.villageData && !loanApplicationReferenceId"><a ng-href="#/viewvillage/{{group.villageData.villageId}}">{{group.villageData.villageName}}</a></li>
			<li ng-show="group.centerName && !loanApplicationReferenceId"><a ng-href="#/viewcenter/{{group.centerId}}">{{group.centerName}}</a></li>
			<li ng-show="center.name && !loanApplicationReferenceId"><a ng-href="#/viewcenter/{{center.id}}">{{center.name}}</a></li>
			<li ng-show="group.name && !loanApplicationReferenceId"><a ng-href="#/viewgroup/{{group.id}}">{{group.name}}</a></li>
			<li ng-if="loanApplicationReferenceId"><a href="#/managecoapplicants/{{loanApplicationReferenceId}}">{{'label.anchor.managecoapplicants' | translate}}</a></li>
			<li ng-if="!displayNameInReverseOrder">{{client.displayName}}</li>
			<li ng-if="displayNameInReverseOrder">{{client.displayNameInReverseOrder}}</li>
	    </ul>
	</div>
	<div class="row">
	    <div class="col-md-8 col-sm-8">
	        <h3 class="client-title">
	        	<i class="icon-circle {{client.status.code | StatusLookup}}"></i>
				<small ng-if="client.subStatus.description">
					[{{client.subStatus.description}}]
				</small>
	            <strong ng-if="!displayNameInReverseOrder">{{client.displayName}} </strong>
	            <strong ng-if="displayNameInReverseOrder">{{client.displayNameInReverseOrder}} </strong>
				<small data-ng-show="client.clientType.name">
					{{ 'label.input.clienttype' | translate }}: {{client.clientType.name}} |
				</small>
				<small data-ng-show="client.clientClassification.name">
					{{ 'label.input.clientclassification' | translate }}: {{client.clientClassification.name}} |
				</small>
	            <small>
	            	{{ 'label.heading.clientno' | translate }}: {{client.accountNo}} |
	            	{{ 'label.input.clientexternalid' | translate }}: {{client.externalId}} |
	            	{{ 'label.input.staff' | translate }}: {{client.staffName}}
	            </small>
				<small data-ng-show="client.closureReason">
					| {{'label.input.closurereason' | translate}}:{{client.closureReason.name}}
				</small>
	        </h3>
	    </div>
		<div class="col-md-1 col-sm-1"></div>
		<div class="col-md-3 col-sm-3">
			<h3 class="client-title">
				<div class="pull-right">
					<span ng-repeat="r in [1, 2, 3, 4, 5]">
						<i ng-if="profileRatingData && profileRatingData.finalScore && profileRatingData.finalScore >= r" class="icon-star"></i>
						<i ng-if="profileRatingData && profileRatingData.finalScore && profileRatingData.finalScore < r" class="icon-star-empty"></i>
						<i ng-if="profileRatingData === undefined || profileRatingData.finalScore === undefined" class="icon-star-empty"></i>
					</span>
					<span>
						&nbsp;&nbsp;&nbsp;
						<button class="btn btn-warning" ng-click="reComputeProfileRating()">
	                    	<i class="icon-repeat"></i>
	                	</button>
	                	<span ng-if="isActiveClient">
	                		<button class="btn btn-warning" ng-if="!client.isLocked" has-permission="LOCK_CLIENT" ng-click="lockOrUnLockClient()">
							<i class="icon-unlock"></i>
		                	</button>
							<button class="btn btn-warning" ng-if="client.isLocked" has-permission="UNLOCK_CLIENT" ng-click="lockOrUnLockClient()">
		                    	<i class="icon-lock"></i>
							</button>
	                	</span>
					</span>
				</div>
				<div class="pull-right" ng-if="profileRatingData && profileRatingData.updatedTime">
					<small>
						Computed on {{profileRatingData.updatedTime}}
					</small>
				</div>
			</h3>
		</div>
	</div>
	<script type="text/ng-template" id="viewDocument.html">
	    	 <div style="position: fixed; top:20%; right:10%; width:600px; height: 500px;">
            	<view-document-directive  ng-entity-type="{{data.parentEntityType}}"
            	ng-entity-id="{{data.parentEntityId}}"
            	ng-document-id="{{data.id}}"></view-document-directive>
        	</div>
	</script>


	<script type="text/ng-template" id="deleteClient.html">
    <div class="modal-header silver">
        <h3 class="bolder">{{'label.heading.delete' | translate}}</h3>
    </div>
    <div class="modal-body">
        <api-validate></api-validate>
        <br>
        <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
        <button class="btn btn-primary" ng-click="delete()">{{'label.button.confirm' | translate}}</button>
    </div>
	</script>
    <script type="text/ng-template" id="photo-dialog.html">
        <div class="modal-header silver">
            <img ng-src="{{largeImage}}" alt="Avatar">
        </div>
        <div class="modal-body ">
            <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
        </div>
    </script>
    <script type="text/ng-template" id="clientSignature.html">
        <div class="modal-header silver">
            <img ng-src="{{largeImage}}" alt="Signature">
        </div>
        <div class="modal-body ">
            <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
        </div>
    </script>
    <script type="text/ng-template" id="clientWithoutSignature.html">
        <div class="modal-header silver">
            <h3 class="bolder">{{'label.noClientSignature' | translate}}</h3>
        </div>
        <div class="modal-body ">
            <button class="btn btn-warning" ng-click="cancel()">{{'label.button.ok' | translate}}</button>
        </div>
    </script>

    <script type="text/ng-template" id="uploadpic.html">
    <div class="modal-header silver">
        <h3 class="bolder">{{'label.heading.selectclientimage' | translate}}</h3>
    </div>
    <div class="modal-body">
        <api-validate></api-validate>
        <br>
        <input type="file" ng-file-select="onFileSelect($files)">
    </div>
    <div class="modal-footer">
        <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
        <button class="btn btn-primary" ng-click="upload()">{{'label.button.upload' | translate}}</button>
    </div>
    </script>
	<script type="text/ng-template" id="capturepic.html">
	    <div class="modal-header silver">
	        <h3 class="bolder">{{'label.heading.captureclientimage' | translate}}</h3>
	    </div>
	    <div class="modal-body">
	        <api-validate></api-validate>
	        <div ng-show="error != null" class="error">
	            {{'label.error' | translate}}: {{error}}
	        </div>
	        <br>
	            <div>
	                <div class="left">
	                    <webcam on-streaming="onVideoSuccess()" channel="channel" video="video"
	                        on-error="onVideoError(err)" video-width="320" video-height="240"></webcam>
	                </div>
	                <div class="right">
	                    <canvas id="clientSnapshot" width="320" height="240"></canvas>
	                </div>
	            </div>
	            <div class="center" style="margin-top: 10px">
	                <button class="btn btn-warning" ng-click="takeScreenshot()">
	                    <i class="icon-camera icon-white"></i>
	                    {{'label.button.capture' | translate}}
	                </button>
	            </div>
	    </div>
	    <div class="modal-footer">
	        <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
	        <button class="btn btn-primary" ng-click="uploadscreenshot()">{{'label.button.upload' | translate}}</button>
	    </div>
	</script>
	<script type="text/ng-template" id="deletePic.html">
		<div class="modal-header silver">
			<h3 class="bolder">{{'label.heading.deleteclientimage' | translate}}</h3>
		</div>
		<div class="modal-body">
			<api-validate></api-validate>
			<br>
			<button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
			<button class="btn btn-primary" ng-click="delete()">{{'label.button.confirm' | translate}}</button>
		</div>
	</script>
	<script type="text/ng-template" id="clientunassignstaff.html">
    <div class="modal-header silver">
        <h3 class="bolder">{{'label.heading.unassignstaff' | translate}}</h3>
    </div>
    <div class="modal-body">
        <api-validate></api-validate>
        <br>
        <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
        <button class="btn btn-primary" ng-click="unassign()">{{'label.button.confirm' | translate}}</button>
    </div>
	</script>
	<script type="text/ng-template" id="uploadsig.html">
	    <div class="modal-header silver">
	        <h3 class="bolder">{{'label.heading.selectclientsignature' | translate}}</h3>
	    </div>
	    <div class="modal-body">
	        <api-validate></api-validate>
	        <br>
	        <input type="file" ng-file-select="onFileSelect($files)">
	    </div>
	    <div class="modal-footer">
	        <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
	        <button class="btn btn-primary" ng-click="upload()">{{'label.button.upload' | translate}}</button>
	    </div>
	</script>

	<tabset class="overflowhidden marginbottom0" tabset-name="clientTabset">
		<tab heading="{{'label.heading.general' | translate}}">
			<div class="col-md-12 col-sm-12">
				<div class="row primarydiv">
				    <div class="pull-right" ng-hide="loanApplicationReferenceId">
						<span ng-repeat="button in buttonsArray.singlebuttons" ng-hide="button.isEnableButton === false">
						  <a href="{{button.href}}/{{client.id}}/{{button.subhref}}" class="btn btn-primary"
						     has-permission='{{button.taskPermissionName}}'><i
						          class="{{button.icon}} icon-white"></i>{{button.name | translate}}</a>
						</span>
				        <button type="button" class="btn btn-primary" data-ng-click="deleteClient()"
				                data-ng-show="client.status.value=='Pending'" has-permission='DELETE_CLIENT'><i
				                class="icon-trash icon-white"></i>{{"label.button.delete"
				            | translate}}
				        </button>
                        <a href="#/client/{{client.id}}/updatedefaultaccount" class="btn btn-primary"
                                data-ng-show="updateDefaultSavings" has-permission='UPDATESAVINGSACCOUNT_CLIENT'><i
                                class="icon-edit icon-white"></i>{{"label.button.updatedefaultsavings" | translate}}
                        </a>
				        <button type="button" class="btn btn-primary" data-ng-click="unassignStaffCenter()"
				                data-ng-show="client.staffId" has-permission='UNASSIGNSTAFF_CLIENT'><i class="icon-user icon-white"></i>{{"label.button.unassignstaff"
				            |
				            translate}}
				        </button>
						<span ng-show="buttonsArray.options" class="btn-group dropdown" on-toggle="toggled(open)">
						    <a class="btn btn-primary dropdown-toggle">
						        {{ 'label.button.more' | translate}}
                                    <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown dropdown-menu dropdown-menu-right">
                                        <li class="{{button.icon}}" ng-repeat="button in buttonsArray.options">
                                            <a href="#/clientscreenreport/{{client.id}}"
						               has-permission='{{button.taskPermissionName}}'>{{'label.'+ button.name |
						                translate}}</a>
						        </li>
						        <li>
						            <a data-ng-click="uploadSig()" has-permission='CREATE_CLIENTIMAGE'>{{'label.button.uploadsig'
						                | translate}}</a>
						        </li>
						        <li data-ng-show="clientAccounts.savingsAccounts">
						            <a data-ng-click="viewstandinginstruction()" has-permission='CREATE_STANDINGINSTRUCTION'>{{'label.button.viewstandinginstruction'
						                | translate}}</a>
						        </li>
						        <li data-ng-show="clientAccounts.savingsAccounts">
						            <a data-ng-click="createstandinginstruction()" has-permission='READ_STANDINGINSTRUCTION'>{{'label.button.createstandinginstruction'
						                | translate}}</a>
						        </li>
						        <li class="{{button.icon}}" data-ng-show="client.status.value=='Active'">
						            <a href="#/newclientfixeddepositaccount/{{client.id}}" has-permission='CREATE_FIXEDDEPOSITACCOUNT'>{{'label.newfixeddepositaccount' | translate}}</a>
						        </li>
						        <li class="{{button.icon}}" data-ng-show="client.status.value=='Active'">
						            <a href="#/newclientrecurringdepositaccount/{{client.id}}" has-permission='CREATE_RECURRINGDEPOSITACCOUNT'>{{'label.newrecurringdepositaccount' | translate}}</a>
						        </li>
								<li >
									<a ng-href="#{{pathToChargeOverview()}}" has-permission='READ_CLIENTCHARGE'>{{'label.button.chargesoverview' | translate }}</a>
								</li>
								<li >
									<a href="#/collateralvaluecalculator/{{client.id}}" has-permission='READ_COLLATERALPLEDGE'>{{'label.button.attachpledge' | translate }}</a>
								</li>
								<li ng-show="false" class="{{button.icon}}">
						            <a href="#/survey/{{client.id}}">{{'label.survey' | translate}}</a>
						        </li>
								<li>
									<a href="#/clients/{{client.id}}/sms" has-permission='READ_SMS'>{{'label.button.sendsms' | translate }}</a>
								</li>
								<li>
									<a href="#/clients/{{client.id}}/surveys">{{'label.button.view.surveys' | translate }}</a>
								</li>
								<li>
									<a href="#/clients/{{client.id}}/guarantees" has-permission='READ_CLIENTGUARANTEE'>{{'label.button.viewguarantees' | translate }}</a>
								</li>
								<li>
									<a href="#/clients/{{client.id}}/accountlimits" has-permission='READ_CUSTOMERACCOUNTLIMITS'>{{'label.button.accountlimits' | translate }}</a>
								</li>
						    </ul>
						</span>
				    </div>
				    <div ng-hide="client.isWorkflowEnabled">	
						<div class="pull-right" ng-show="loanApplicationReferenceId && client.status.value === 'Pending'">
							  <a href="#/client/{{client.id}}/activate/{{loanApplicationReferenceId}}" class="btn btn-primary"
								 has-permission='ACTIVATE_CLIENT'><i
									  class="icon-ok-sign icon-white"></i>{{'label.button.activate' | translate}}</a>
						</div>
				    </div>
				</div>
				<div class="row client">
				    <div class="col-sm-9 col-md-9 paddingleft0px">
				    	<div data-ng-show="client.status.value=='Closed'">
				            <h3>{{'label.heading.clientclosed' | translate}}</h3>
				        </div>
						<div data-ng-show="client.status.value=='Rejected'">
							<h3>{{'label.heading.clientrejected' | translate}}</h3>
						</div>
						<div data-ng-show="client.status.value=='Withdrawn'">
							<h3>{{'label.heading.withdrawn' | translate}}</h3>
						</div>
				        <div>
							<api-validate></api-validate>
							<div class="pull-right" data-ng-show="charges">
						        <span>
						            <button type="button" class="btn-primary btn btn-sm" data-ng-click="routeToChargeOverview()">{{
										'label.button.chargesoverview' | translate }}
									</button>
						        </span>
							</div>
							<div  data-ng-show="charges">
								<div class="span gray-head">
										<span class="boldlabel">
											  <strong>{{ 'label.heading.upcomingcharges' | translate }}</strong>
										</span>
								</div>
								<table class="table table-condensed">
									<tr class="graybg">
										<th>{{'label.heading.name' | translate}}</th>
										<th>{{'label.heading.dueasof' | translate}}</th>
										<th>{{'label.heading.due' | translate}}</th>
										<th>{{'label.heading.paid' | translate}}</th>
										<th>{{'label.heading.waived' | translate}}</th>
										<th>{{'label.heading.outstanding' | translate}}</th>
										<th>{{'label.heading.actions' | translate}}</th>
									</tr>
									<tr class="pointer-main" ng-repeat="charge in charges">
										<td class="pointer" data-ng-click="routeToCharge(charge.id)">
                                            <i class="icon-stop  {{ (!(charge.isWaived || charge.isPaid)) |StatusLookup}}" ></i>&nbsp;{{charge.name}}
                                            </td>
										<td class="pointer" data-ng-click="routeToCharge(charge.id)">{{charge.dueDate|DateFormat}}</td>
										<td class="pointer" data-ng-click="routeToCharge(charge.id)">{{charge.amount | number}}</td>
										<td class="pointer" data-ng-click="routeToCharge(charge.id)">{{charge.amountPaid | number}}</td>
										<td class="pointer" data-ng-click="routeToCharge(charge.id)">{{charge.amountWaived | number}}</td>
										<td class="pointer" data-ng-click="routeToCharge(charge.id)">{{charge.amountOutstanding | number}}</td>
										<td class="pointer center">
											<a tooltip="{{'label.button.paycharge' | translate}}" has-permission='PAY_CLIENTCHARGE' ng-href="#/viewclient/{{client.id}}/paycharge/{{charge.id}}" class="btn btn-xs btn-primary ng-binding">
												<i class="icon-dollar icon-white"></i>
											</a>&thinsp;
											<a tooltip="{{'label.button.waivecharge' | translate}}" has-permission='WAIVE_CLIENTCHARGE' ng-click="waiveCharge(charge.id)" class="btn btn-xs btn-primary ng-binding">
												<i class="icon-flag icon-white"></i>
											</a>
										</td>
									</tr>
								</table>
							</div>

							<div class="pull-right" ng-hide="true">
						        <span data-ng-show="clientAccounts.loanAccounts">
						            <button type="button" class="btn-primary btn btn-sm" data-ng-click="setLonaAppStatusFilter('above300')">{{
										'label.button.viewclosedloans' | translate }}
									</button>
						            <button type="button" class="btn-primary btn btn-sm" data-ng-click="setLonaAppStatusFilter()">{{
										'label.button.viewactiveloans' | translate }}
									</button>
						        </span>
							</div>
							<div data-ng-show="loanApplications.length > 0">
								<div class="span gray-head">
									<span class="boldlabel">
									      <strong>{{ 'label.heading.loanapplications' | translate }}</strong>
									</span>
								</div>
								<table class="table table-condensed">
									<tr class="graybg">
										<th>{{'label.heading.loan.application.number' | translate}}</th>
										<th>{{'label.heading.loan.amount.requested' | translate}}</th>
										<th>{{'label.heading.loanproduct' | translate}}</th>
										<th>{{'label.heading.type' | translate}}</th>
										<th>{{'label.heading.actions' | translate}}</th>
									</tr>
									<tr class="pointer-main" ng-repeat="loanApp in loanApplications | orderBy:'loanApplicationReferenceId':true| filter:isLoanAppIncompleted">
										<td class="pointer" data-ng-click="routeToLoanApplication(loanApp)">
											<i tooltip-placement="right" tooltip="{{loanApp.status.value}}"
											   class="icon-stop {{loanApp.status.code | StatusLookup}}"></i>
											{{loanApp.loanApplicationReferenceNo}}
										</td>
										<td class="pointer" data-ng-click="routeToLoanApplication(loanApp)">{{loanApp.loanAmountRequested|number}}</td>
										<td class="pointer" data-ng-click="routeToLoanApplication(loanApp)">{{loanApp.loanProductName}}</td>
										<td class="pointer center" ng-if="loanApp.accountType.value == 'Individual'" data-ng-click="routeToLoanApplication(loanApp)">
											<i tooltip="{{loanApp.accountType.value}}" class="icon-user icon-large"></i><span ng-show="loanApp.isCoApplicant">*</span>
										</td>
										<td class="pointer center" ng-if="loanApp.accountType.value != 'Individual'" data-ng-click="routeToLoanApplication(loanApp)">
											<i tooltip="{{loanApp.accountType.value}}" class="icon-group icon-large"></i><span ng-show="loanApp.isCoApplicant">*</span>
										</td>
										<td class="pointer center">
											<a tooltip="{{'label.button.request.approval' | translate}}" has-permission='REQUESTFORAPPROVAL_LOANAPPLICATIONREFERENCE' data-ng-click="requestApprovalLoanAppRef(loanApp.loanApplicationReferenceId)" class="btn btn-xs btn-primary ng-binding" ng-if="loanApp.status.id === 100" 
											ng-disabled="loanApp.isCreditBureauProduct">
												<i class="icon-ok icon-white"></i>
											</a>
											<a tooltip="{{'label.button.approve' | translate}}" has-permission='APPROVE_LOANAPPLICATIONREFERENCE' ng-href="#/approveloanapplicationreference/{{loanApp.loanApplicationReferenceId}}" class="btn btn-xs btn-primary ng-binding" ng-if="loanApp.status.id === 200">
												<i class="icon-ok icon-white"></i>
											</a>
											<a tooltip="{{'label.button.disburse' | translate}}" has-permission='DISBURSE_LOANAPPLICATIONREFERENCE' ng-href="#/disburseloanapplicationreference/{{loanApp.loanApplicationReferenceId}}" class="btn btn-xs btn-primary ng-binding" ng-if="loanApp.status.id === 300">
												<i class="icon-flag icon-white"></i>
											</a>
										</td>
									</tr>
								</table>
							</div>

							<div class="pull-right">
						        <span data-ng-show="clientAccounts.loanAccounts">
						            <button data-ng-show="openLoan" type="button" class="btn-primary btn btn-sm" data-ng-click="setLoan()">{{
										'label.button.viewclosedloans' | translate }}
									</button>
						            <button data-ng-show="!openLoan" type="button" class="btn-primary btn btn-sm" data-ng-click="setLoan()">{{
										'label.button.viewactiveloans' | translate }}
									</button>
						        </span>
							</div>
						    <div data-ng-show="clientAccounts.loanAccounts">
						        <div class="span gray-head">
									<span class="boldlabel">
									      <strong>{{ 'label.heading.loanaccoverview' | translate }}</strong>
									</span>
						        </div>
						        <table class="table table-condensed" data-ng-show="openLoan">
						            <tr class="graybg">
						            	<th>{{'label.heading.accnum' | translate}}</th>
						                <th>{{'label.heading.loanaccount' | translate}}</th>
						                <th>{{'label.heading.loanamount' | translate}}</th>
						                <th>{{'label.heading.loanbalance' | translate}}</th>
						                <th>{{'label.heading.amountpaid' | translate}}</th>
						                <th>{{'label.heading.type' | translate}}</th>
						                <th>{{'label.heading.actions' | translate}}</th>
						            </tr>
						            <tr class="pointer-main"
						                ng-repeat="loanaccount in clientAccounts.loanAccounts | orderBy:'id':true | filter:isLoanNotClosed">
						                <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
						                	<i ng-hide="loanaccount.inArrears" tooltip-placement="right" tooltip="{{loanaccount.status.value}}"
						                    	class="icon-stop {{loanaccount.status.code | StatusLookup}}"></i>
						                    <i ng-show="loanaccount.inArrears" tooltip-placement="right" tooltip="{{loanaccount.status.value}}"
						                     	class="icon-stop {{loanaccount.status.code | StatusLookup}}overdue"></i>
						                	{{loanaccount.accountNo}}
						                </td>
						                <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">{{loanaccount.productName}}</td>
						                <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">{{loanaccount.originalLoan|number}}</td>
						                <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">{{loanaccount.loanBalance|number}}</td>
						                <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">{{loanaccount.amountPaid|number}}</td>
						                <td class="pointer center" data-ng-click="routeToLoan(loanaccount.id)" ng-if="loanaccount.loanType.value == 'Individual'">
						                	<i tooltip="{{loanaccount.loanType.value}}" class="icon-user icon-large"></i><span ng-show="loanaccount.isCoApplicant">*</span>
						                </td>
						                <td class="pointer center" data-ng-click="routeToLoan(loanaccount.id)" ng-if="loanaccount.loanType.value != 'Individual'">
						                	<i tooltip="{{loanaccount.loanType.value}}" class="icon-group icon-large"></i><span ng-show="loanaccount.isCoApplicant">*</span>
						                </td>
						                <td class="pointer center" ng-if="isRepaymentOption(loanaccount)">
						                	<a tooltip="{{'label.button.makerepayment' | translate}}" ng-href="#/loanaccount/{{loanaccount.id}}/repayment" class="btn btn-xs btn-primary ng-binding">
						                		<i class="icon-dollar icon-white"></i>
						                	</a>
						                </td>
						                <td class="pointer center" ng-if="isApproveOption(loanaccount)">
						                	<a tooltip="{{'label.button.approve' | translate}}" has-permission='APPROVE_LOAN' ng-href="#/loanaccount/{{loanaccount.id}}/approve" class="btn btn-xs btn-primary ng-binding">
						                		<i class="icon-ok icon-white"></i>
						                	</a>
						                </td>
						                <td class="pointer center" ng-if="isDisburseOption(loanaccount)">
						                	<a tooltip="{{'label.button.disburse' | translate}}" has-permission='DISBURSE_LOAN' data-ng-click="routeToLoanNextAction(loanaccount)" class="btn btn-xs btn-primary ng-binding">
						                		<i class="icon-flag icon-white"></i>
						                	</a>
						                </td>
						                <td class="pointer center" ng-if="isRefundOption(loanaccount)">
						                	<a tooltip="{{'label.button.refund' | translate}}" has-permission="REFUND_LOAN" ng-href="#/loanaccount/{{loanaccount.id}}/refund" class="btn btn-xs btn-primary ng-binding">
						                		<i class="icon-exchange icon-white"></i>
						                	</a>
						                </td>
										<td ng-show="loanaccount.loanType.value == 'GLIM'"></td>
						            </tr>
						        </table>
						        <table class="table table-condensed" data-ng-show="!openLoan">
						            <tr class="graybg">
						            	<th>{{'label.heading.accnum' | translate}}</th>
										<th>{{'label.heading.loanaccount' | translate}}</th>
										<th>{{'label.heading.loanamount' | translate}}</th>
										<th>{{'label.heading.loanbalance' | translate}}</th>
										<th>{{'label.heading.amountpaid' | translate}}</th>
						                <th class="center">{{'label.heading.type' | translate}}</th>
						                <th>{{'label.heading.closedate' | translate}}</th>
						            </tr>
						            <tr class="pointer-main"
						                ng-repeat="loanaccount in clientAccounts.loanAccounts | orderBy:'id':true | filter:isClosed">
						                <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
						                	<i tooltip-placement="right" tooltip="{{loanaccount.status.value}}" class="icon-stop {{loanaccount.status.code | StatusLookup}}"></i>
						                	{{loanaccount.accountNo}}
						                </td>
						                <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">{{loanaccount.productName}}</td>
                                        <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">{{loanaccount.originalLoan|number}}</td>
                                        <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">{{loanaccount.loanBalance|number}}</td>
                                        <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">{{loanaccount.amountPaid|number}}</td>
						                <td class="pointer center" data-ng-click="routeToLoan(loanaccount.id)" ng-if="loanaccount.loanType.value == 'Individual'">
						                	<i tooltip="{{loanaccount.loanType.value}}" class="icon-user icon-large"></i>
						                </td>
						                <td class="pointer center" data-ng-click="routeToLoan(loanaccount.id)" ng-if="loanaccount.loanType.value != 'Individual'">
						                	<i tooltip="{{loanaccount.loanType.value}}" class="icon-group icon-large"></i>
						                </td>
						                <td class="pointer" data-ng-click="routeToLoan(loanaccount.id)">
						                    <span data-ng-show="loanaccount.timeline.closedOnDate">{{loanaccount.timeline.closedOnDate | DateFormat}}</span>
						                </td>
						            </tr>
						        </table>
						    </div>
						    <div data-ng-show="clientAccounts.savingsAccounts">
						        <div class="pull-right">
						            <span data-ng-show="clientAccounts.savingsAccounts">
						                <button data-ng-show="openSaving" type="button" data-ng-click="setSaving()"
						                        class="btn-primary btn btn-sm">
						                    {{ 'label.button.viewclosedsavings' | translate }}
						                </button>
						                <button data-ng-show="!openSaving" type="button" data-ng-click="setSaving()"
						                        class="btn-primary btn btn-sm">
						                    {{ 'label.button.viewactivesavings' | translate }}
						                </button>
						            </span>
						        </div>
						        <div class="span gray-head">
						            <span class="boldlabel">
						                <strong>{{'label.heading.savingsaccoverview' | translate }}</strong>
						            </span>
						        </div>
						        <table class="table table-condensed" data-ng-show="openSaving">
						            <tr class="graybg">
						                <th>{{'label.heading.accnum' | translate}}</th>
   						                <th>{{'label.heading.savingaccount' | translate}}</th>
										<th>{{'label.heading.lastActive' | translate}}</th>
										<th class="center">{{'label.heading.balance' | translate}}</th>
						                <th>Actions</th>
						            </tr>
						            <tr class="pointer-main"
						                ng-repeat="savingaccount in clientAccounts.savingsAccounts | orderBy:'id':true | filter:isSavingNotClosed">
						                <td class="pointer" data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
					                		<i tooltip-placement="right" ng-show="savingaccount.subStatus.id==0" tooltip="{{savingaccount.status.value}}" class="icon-stop {{savingaccount.status.code | StatusLookup}}"></i>
											<i tooltip-placement="right" ng-hide="savingaccount.subStatus.id==0"  tooltip="{{savingaccount.status.value+':'+savingaccount.subStatus.value}}" class="icon-stop {{savingaccount.status.code+savingaccount.subStatus.value | StatusLookup}}"></i>
											{{savingaccount.accountNo}}
						                </td>
						                <td class="pointer" data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">{{savingaccount.productName}}</td>
										<td class="pointer" data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">{{savingaccount.lastActiveTransactionDate|DateFormat}}</td>
						                <td class="pointer center" data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">{{savingaccount.accountBalance|number}}</td>
						                <td class="pointer" ng-if="savingaccount.status.active">
											<span ng-repeat="button in savingsActionbuttons">
											  <a tooltip="{{'label.'+button.name | translate}}" ng-show="button.name" has-permission='{{button.taskPermissionName}}'
												 ng-click="navigateToSavingsOrDepositAccount(button.name.replace('button.',''), savingaccount.id, savingaccount.depositType.id)"
												 class="btn btn-xs btn-primary ng-binding" ng-if="savingaccount.depositType.id==button.type"><i class="{{button.icon}} icon-white"></i>
											  </a>
											</span>
						                </td>
						                <td class="pointer" ng-if="savingaccount.status.submittedAndPendingApproval">
						                	<a tooltip="{{'label.button.approve' | translate}}" has-permission='APPROVE_SAVINGSACCOUNT' ng-href="#/savingaccount/{{savingaccount.id}}/approve" class="btn btn-xs btn-primary ng-binding">
						                		<i class="icon-ok icon-white"></i>
						                	</a>
						                </td>
						                <td class="pointer" ng-if="!savingaccount.status.submittedAndPendingApproval && !savingaccount.status.active">
						                	<a tooltip="{{'label.button.undoapproval' | translate}}" has-permission='APPROVALUNDO_SAVINGSACCOUNT' ng-href="#/savingaccount/{{savingaccount.id}}/undoapproval" class="btn btn-xs btn-primary ng-binding">
						                		<i class="icon-undo icon-white"></i>
						                	</a>
						                	<a tooltip="{{'label.button.activate' | translate}}" has-permission='ACTIVATE_SAVINGSACCOUNT' ng-href="#/savingaccount/{{savingaccount.id}}/activate" class="btn btn-xs btn-primary ng-binding">
						                		<i class="icon-ok-sign icon-white"></i>
						                	</a>
						                </td>
						            </tr>
						        </table>
						        <table class="table table-condensed" data-ng-show="!openSaving">
						            <tr class="graybg">
						                <th>{{'label.heading.accnum' | translate}}</th>
						                <th>{{'label.heading.savingaccount' | translate}}</th>
						                <th>{{'label.heading.closedate' | translate}}</th>
						            </tr>
						            <tr class="pointer-main"
						                ng-repeat="savingaccount in clientAccounts.savingsAccounts | orderBy:'id':true | filter:isSavingClosed">
						                <td class="pointer" data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
						                	<i tooltip="{{savingaccount.status.value}}" class="icon-stop {{savingaccount.status.code | StatusLookup}}"></i>
						                	{{savingaccount.accountNo}}
						                </td>
						                <td class="pointer" data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">{{savingaccount.productName}}</td>
						                <td class="pointer" data-ng-click="routeToSaving(savingaccount.id, savingaccount.depositType.code)">
						                    <span data-ng-show="savingaccount.timeline.closedOnDate">{{savingaccount.timeline.closedOnDate | DateFormat}}</span>
						                </td>
						            </tr>
						        </table>
						    </div>
							<div data-ng-show="clientAccounts.pledges">
								<div class="pull-right">
						            <span>
						                <button  type="button" class="btn-primary btn btn-sm" ng-show="!showClosedPledges" ng-click="showClosedPledges=true">
											{{ 'label.button.viewclosedpledges' | translate }}
										</button>
										<button  type="button" class="btn-primary btn btn-sm" ng-show="showClosedPledges" ng-click="showClosedPledges=false">
											{{ 'label.button.viewpledges' | translate }}
										</button>
						            </span>
								</div>
								<div class="span gray-head">
						            <span class="boldlabel">
						                <strong>{{'label.heading.pledgeoverview' | translate }}</strong>
						            </span>
								</div>
								<table class="table table-condensed">
									<tr class="graybg">
										<th>{{'label.heading.pledgenumber' | translate}}</th>
										<th>{{'label.heading.currentserialnumber' | translate}}</th>
										<th>{{'label.heading.systemcalculatedvalue' | translate}}</th>
										<th>{{'label.heading.userdefinedvalue' | translate}}</th>
										<th>{{'label.heading.actions' | translate}}</th>
									</tr>
									<tr class="pointer-main" ng-repeat="pledge in pledges" ng-show="((!showClosedPledges && (pledge.status.id==1 || pledge.status.id==2) ) || (showClosedPledges && pledge.status.id==3))">
										<td class="pointer">
											<i tooltip-placement="right" tooltip="{{pledge.status.value}}"
											   class="icon-stop {{pledge.status.code | StatusLookup}}"></i>
											{{pledge.pledgeNumber}}
										</td>
										<td class="pointer">{{pledge.sealNumber}}</td>
										<td class="pointer">{{pledge.systemValue}}</td>
										<td class="pointer">{{pledge.userValue}}</td>
										<td>
											<a tooltip="{{'label.button.closepledge' | translate}}" ng-hide="pledge.status.id==3" href='#/viewpledge/{{pledge.id}}?close=true&id={{id}}' class="btn btn-primary pull-right"  has-permission='CLOSE_COLLATERALPLEDGE'><i class="icon-ok icon-white"></i></a>
											<a tooltip="{{'label.button.deletepledge' | translate}}" ng-show="pledge.status.id==1" ng-click="deletePledge(pledge.id)" class="btn btn-primary pull-right"  has-permission='DELETE_COLLATERALPLEDGE'><i class="icon-trash icon-white"></i></a>
											<a tooltip="{{'label.button.viewpledge' | translate}}" href='#/viewpledge/{{pledge.id}}?id={{id}}' class="btn btn-primary pull-right"  has-permission='READ_COLLATERALPLEDGE'><i class="icon-eye-open icon-white"></i></a>
										</td>
									</tr>
								</table>
							</div>


                            <div data-ng-show="clientAccounts.shareAccounts">
                                <div class="pull-right">
						            <span data-ng-show="clientAccounts.shareAccounts">
						                <button data-ng-show="openShares" type="button" data-ng-click="setShares()"
                                                class="btn-primary btn btn-sm">
                                            {{ 'label.button.viewclosedshares' | translate }}
                                        </button>
						                <button data-ng-show="!openShares" type="button" data-ng-click="setShares()"
                                                class="btn-primary btn btn-sm">
                                            {{ 'label.button.viewactiveshares' | translate }}
                                        </button>
						            </span>
                                </div>
                                <div class="span gray-head">
						            <span class="boldlabel">
						                <strong>{{'label.heading.sharesaccoverview' | translate }}</strong>
						            </span>
                                </div>
                                <table class="table table-condensed" data-ng-show="openShares">
                                    <tr class="graybg">
                                        <th>{{'label.heading.accnum' | translate}}</th>
                                        <th>{{'label.heading.shareaccount' | translate}}</th>
                                        <th class="center">{{'label.heading.approvedshares' | translate}}</th>
                                        <th class="center">{{'label.heading.pendingforapproval' | translate}}</th>
                                        <th>Actions</th>
                                    </tr>
                                    <tr class="pointer-main"
                                        ng-repeat="shareaccount in clientAccounts.shareAccounts | orderBy:'id':true | filter:isShareNotClosed">
                                        <td class="pointer" data-ng-click="routeToShareAccount(shareaccount.id)">
                                            <i tooltip-placement="right" tooltip="{{shareaccount.status.value}}" class="icon-stop {{shareaccount.status.code | StatusLookup}}"></i>
                                            {{shareaccount.accountNo}}
                                        </td>
                                        <td class="pointer" data-ng-click="routeToShareAccount(shareaccount.id)">{{shareaccount.productName}}</td>
                                        <td class="pointer center" data-ng-click="routeToShareAccount(shareaccount.id)">{{shareaccount.totalApprovedShares|number}}</td>
                                        <td class="pointer center" data-ng-click="routeToShareAccount(shareaccount.id)">{{shareaccount.totalPendingForApprovalShares|number}}</td>
                                        <td class="pointer" ng-if="shareaccount.status.active">
											<span ng-repeat="button in savingsActionbuttons">
											  <a tooltip="{{'label.'+button.name | translate}}" ng-show="button.name" has-permission='{{button.taskPermissionName}}'
                                                 ng-click="navigateToSavingsOrDepositAccount(button.name.replace('button.',''), shareaccount.id)"
                                                 class="btn btn-xs btn-primary ng-binding" ng-if="shareaccount.depositType.id==button.type"><i class="{{button.icon}} icon-white"></i>
                                              </a>
											</span>
                                        </td>
                                        <td class="pointer" ng-if="shareaccount.status.submittedAndPendingApproval">
                                            <a tooltip="{{'label.button.approve' | translate}}" has-permission='APPROVE_SHAREACCOUNT' ng-href="#/shareaccount/{{shareaccount.id}}/approve" class="btn btn-xs btn-primary ng-binding">
                                                <i class="icon-ok icon-white"></i>
                                            </a>
                                        </td>
                                        <td class="pointer" ng-if="!shareaccount.status.submittedAndPendingApproval && !shareaccount.status.active">
                                            <a tooltip="{{'label.button.undoapproval' | translate}}" has-permission='APPROVALUNDO_SHAREACCOUNT' ng-href="#/shareaccount/{{shareaccount.id}}/undoapproval" class="btn btn-xs btn-primary ng-binding">
                                                <i class="icon-undo icon-white"></i>
                                            </a>
                                            <a tooltip="{{'label.button.activate' | translate}}" has-permission='ACTIVATE_SHAREACCOUNT' ng-href="#/shareaccount/{{shareaccount.id}}/activate" class="btn btn-xs btn-primary ng-binding">
                                                <i class="icon-ok-sign icon-white"></i>
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                                <table class="table table-condensed" data-ng-show="!openShares">
                                    <tr class="graybg">
                                        <th>{{'label.heading.accnum' | translate}}</th>
                                        <th>{{'label.heading.shareaccount' | translate}}</th>
                                        <th class="center">{{'label.heading.approvedshares' | translate}}</th>
                                        <th class="center">{{'label.heading.pendingforapproval' | translate}}</th>
                                        <th>Actions</th>
                                    </tr>
                                    <tr class="pointer-main"
                                        ng-repeat="shareaccount in clientAccounts.shareAccounts | orderBy:'id':true | filter:isShareClosed">
                                        <td class="pointer" data-ng-click="routeToShareAccount(shareaccount.id)">
                                            <i tooltip="{{shareaccount.status.value}}" class="icon-stop {{shareaccount.status.code | StatusLookup}}"></i>
                                            {{shareaccount.accountNo}}
                                        </td>
                                        <td class="pointer" data-ng-click="routeToShareAccount(shareaccount.id)">{{shareaccount.productName}}</td>
                                        <td class="pointer center" data-ng-click="routeToShareAccount(shareaccount.id)">{{shareaccount.totalApprovedShares|number}}</td>
                                        <td class="pointer center" data-ng-click="routeToShareAccount(shareaccount.id)">{{shareaccount.totalPendingForApprovalShares|number}}</td>
                                        <td class="pointer" data-ng-click="routeToShareAccount(shareaccount.id)">
                                            <span data-ng-show="shareaccount.timeline.closedDate">{{savingaccount.timeline.closedDate | DateFormat}}</span>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            
						</div>
				    </div>

				    <div class="col-sm-3 col-md-3">
				    	<div class="thumbnail row">
				    		<h4><strong ng-if="!displayNameInReverseOrder">{{client.displayName}}</strong>
				    		 <strong ng-if="displayNameInReverseOrder">{{client.displayNameInReverseOrder}}</strong> </h4>
					    	<img ng-hide="client.imagePresent" ng-src="./images/client-image-placeholder.png" alt="Avatar">
				        	<img ng-show="client.imagePresent"  ng-src="{{image}}" alt="Avatar" data-ng-click="showPicture()" title="{{'label.zoom' | translate}}" >
					        <div class="btn-group-xs center">
					            <button type="button" class="btn btn-primary" data-ng-click="uploadPic()" has-permission='CREATE_CLIENTIMAGE'
					                    tooltip="{{'label.button.uploadpic' | translate}}">
					                <i class="icon-upload-alt"></i>
					            </button>
					            <button type="button" class="btn btn-primary" data-ng-click="capturePic()" has-permission='CREATE_CLIENTIMAGE'
					                    tooltip="{{'label.button.capturepic' | translate}}">
					                <i class="icon-camera"></i>
					            </button>
					            <button type="button" class="btn btn-primary" ng-show="client.imagePresent" data-ng-click="deletePic()" has-permission='DELETE_CLIENTIMAGE'
					                    tooltip="{{'label.button.deletepic' | translate}}">
					                <i class="icon-trash"></i>
					            </button>
					        </div>
					        <div ng-show="signature_url" class="show-large-picture" data-ng-click="showSignature()">{{'label.showClientSignature' | translate}}</div>
					        <div ng-hide="signature_url" class="show-large-picture" data-ng-click="showWithoutSignature()">{{'label.showClientSignature' | translate}}</div>
					        <table class="table-minified">
					            <tr>
					                <th class="table-bold">{{ 'label.input.activationdate' | translate }}</th>
					                <td><span class="padded-td">{{client.timeline.activatedOnDate | DateFormat}}<span
					                        data-ng-hide="client.timeline.activatedOnDate">{{ 'label.notactivated' | translate }}</span></span>
					                </td>
					            </tr>
					            <tr>
					                <th class="table-bold">{{ 'label.heading.memberof' | translate }}</th>
					                <td>
					                    <span class="padded-td" data-ng-hide="client.groups">{{ 'label.unassigned' | translate }}</span>
										<span class="padded-td" ng-repeat="group in client.groups">
										 <a ng-if="!isCenter" class="list-group-item-text" href="#/viewgroup/{{group.id}}">{{group.name}}</a>
										 <a ng-if="isCenter" class="list-group-item-text" href="#/viewcenter/{{group.id}}">{{group.name}}</a>&nbsp;<span
										        data-ng-hide="client.groups">{{ 'label.unassigned' | translate }}</span><span
										        ng-show="!$last">|</span>
										</span>
					                </td>
					            </tr>
					            <tr data-ng-show="client.mobileNo">
					                <th class="table-bold">{{ 'label.input.mobilenumber' | translate }}</th>
					                <td><span class="padded-td">{{client.mobileNo}}</span>
					                </td>
					            </tr>
					            <tr data-ng-show="client.gender.name">
					                <th class="table-bold">{{ 'label.input.gender' | translate }}</th>
					                <td><span class="padded-td">{{client.gender.name}}</span>
					                </td>
					            </tr>
                                <tr data-ng-show="client.clientType.name">
                                    <th class="table-bold">{{ 'label.input.clienttype' | translate }}</th>
                                    <td><span class="padded-td">{{client.clientType.name}}</span>
                                    </td>
                                </tr>
                                <tr data-ng-show="client.clientClassification.name">
                                    <th class="table-bold">{{ 'label.input.clientclassification' | translate }}</th>
                                    <td><span class="padded-td">{{client.clientClassification.name}}</span>
                                    </td>
                                </tr>

                                <tr data-ng-show="client.dateOfBirth">
					                <th class="table-bold">{{ dob | translate }}</th>
					                <td><span class="padded-td">{{client.dateOfBirth | DateFormat}}</span>
					                </td>
					            </tr>
								<tr data-ng-show="client.dateOfBirth">
									<th class="table-bold">{{ 'label.input.age' | translate }}</th>
									<td><span class="padded-td">{{age}}</span>
									</td>
								</tr>
					            <tr data-ng-show="client.status.value=='Closed'">
					                <th class="table-bold">{{ 'label.heading.closedate' | translate }}</th>
					                <td><span class="padded-td">{{client.timeline.closedOnDate | DateFormat}}</span></td>
					            </tr>
					            <tr>
					                <th class="whitebg" colspan="2">{{ 'label.heading.performancehistory' | translate }}</th>
					            </tr>
								<tr>
					                <th>{{ 'label.heading.numofloancycle' | translate }}</th>
					                <td><span class="padded-td">{{client.ClientSummary.loanCycle}}</span></td>
					            </tr>
								<tr>
									<th colspan="2">{{ 'label.heading.numofproductloancycle' | translate }}</th>
								</tr>
								<tr ng-repeat="cycle in loancycledetail" >
									 <th class = "text-center">{{cycle.productName}}</th>
									<td><span class="padded-td">{{cycle.loanProductCycle}}</span></td>
								</tr>

					            <tr>
					                <th>{{ 'label.lastloanamount' | translate }}</th>
					                <td><span class="padded-td">{{client.ClientSummary.lastLoanAmount|number}}</span></td>
					            </tr>
					            <tr>
					                <th>{{ 'label.numofactiveloans' | translate }}</th>
					                <td><span class="padded-td">{{client.ClientSummary.activeLoans}}</span></td>
					            </tr>
					            <tr>
					                <th>{{ 'label.totalsavings' | translate }}</th>
					                <td><span class="padded-td">{{client.ClientSummary.totalSavings|number}}</span></td>
					            </tr>
					            <tr>
					                <th>{{ 'label.numofactivesavings' | translate }}</th>
					                <td><span class="padded-td">{{client.ClientSummary.activeSavings}}</span></td>
					            </tr>
					        </table>
				    	</div>
				    </div>
				</div>
			</div>
		</tab>
		<tab heading="{{'label.heading.identities' | translate}}" select="getClientIdentityDocuments()"
		     has-permission='READ_CLIENTIDENTIFIER'>
			<div><api-validate></api-validate></div>
			<div class="pull-right btn-group">
				<a href="#/addclientidentifier/{{client.id}}" class="btn btn-primary"
				   has-permission='CREATE_CLIENTIDENTIFIER'><i class="icon-plus icon-white"></i>{{
					'label.button.add' | translate }}</a>
			</div>

		    <br>
		    <table class="table" ng-show="identitydocuments.length > 0">
		        <thead>
		        <tr class="graybg">
		            <th>{{'label.heading.id' | translate}}</th>
		            <th>{{'label.heading.description' | translate}}</th>
		            <th>{{'label.heading.type' | translate}}</th>
		            <th>{{'label.heading.identitydocuments' | translate}}</th>
					<th>{{'label.heading.status' | translate}}</th>
		            <th>{{'label.heading.actions' | translate}}</th>
		        </tr>
		        </thead>
		        <tbody>
		        <tr ng-repeat="document in identitydocuments">
		            <td>{{document.documentKey}}</td>
		            <td>{{document.description}}</td>
		            <td>{{document.documentType.name}}</td>
		            <td>
		                  <span ng-repeat="file in document.documents">
		                    {{file.fileName}}&nbsp;&nbsp;
		                    <a target="_blank" data-ng-click="openViewDocument(file)" has-permission='READ_DOCUMENT'><i
		                            class="icon-eye-open text-success"></i></a>
		                    <a target="_blank" href="{{hostUrl}}{{file.docUrl}}" has-permission='READ_DOCUMENT'><i
		                            class="icon-cloud-download"></i></a>
		                  </span>
		            </td>
					<td>{{document.status | translate}}</td>
		            <td>
		                  <span>
		                      <a href="#/addclientidentifierdocument/{{client.id}}/{{document.id}}"
		                         has-permission='CREATE_DOCUMENT'><i
		                              class="icon-cloud-upload"></i></a>&nbsp;
		                      <a ng-click="deleteClientIdentifierDocument(client.id,document.id,$index)"
		                         has-permission='DELETE_CLIENTIDENTIFIER'><i
		                              class="icon-remove"></i></a>
		                      <a ng-click="editClientIdentifier(document.id)"
								 has-permission='UPDATE_CLIENTIDENTIFIER'><i class="icon-edit icon-white"></i></a>
		                  </span>
		            </td>
		        </tr>
		        </tbody>
		    </table>
		</tab>
		<tab heading="{{'label.heading.address'|translate}}" has-permission='READ_ADDRESSES' ng-if="enableClientAddress" select="fetchEntityAddress()">
				<div class="pull-right">
					<a href="#/addclientaddress/{{client.officeId}}/{{client.id}}" class="btn btn-primary"
					   has-permission='CREATE_ADDRESSES'>
						<i class="icon-plus icon-white"></i>
						{{'label.button.add'|translate}}
					</a>
					</a>
				</div>
				<br>

				<div class="row span" style="margin-left:1px;margin-top:20px" ng-repeat="address in addressData">
					<div class="col-sm-6 col-md-6">
						<div class="span gray-head" ng-show="addressData.length > 0">
                        <span class="boldlabel">
                            <strong>{{address.addressEntityData[0].addressType.name}}</strong>
                             <button type="button" ng-click="deleteAddress(address.addressId)"
									 class="pull right btn btn-primary" has-permission='DELETE_ADDRESSES'>
                                 <i class="icon-trash icon-white"></i>{{'label.button.delete' | translate}}
                            </button>
							<a ng-hide="address.addressEntityData[0].addressType.name=='kycAddress'" href="#/editaddress/{{client.id}}/{{address.addressId}}"
							   class="pull right btn btn-primary" has-permission='UPDATE_ADDRESSES'>
								<i class="icon-edit icon-white"></i>{{'label.button.edit' | translate}}
							</a>
                        </span>
						</div>
						<table class="table table-stripped table-bordered" ng-show="addressData.length > 0">

							<tr>
								<th class="table-bold-loan">{{'label.heading.houseno' | translate}}</th>
								<td>
									<span class="padded-td">{{address.houseNo}}</span>
								</td>
							</tr>
							<tr>
								<th class="table-bold-loan">{{'label.heading.streetname' | translate}}</th>
								<td>
									<span class="padded-td">{{address.addressLineOne}}</span>
								</td>
							</tr>
							<tr>
								<th class="table-bold-loan">{{'label.heading.address.line.two' | translate}}</th>
								<td>
									<span class="padded-td">{{address.addressLineTwo}}</span>
								</td>
							</tr>
							<tr>
								<th class="table-bold-loan">{{'label.heading.villagename' | translate}}</th>
								<td>
									<span class="padded-td">{{address.villageTown}}</span>
								</td>
							</tr>
							<tr>
								<th class="table-bold-loan">{{'label.heading.talukname' | translate}}</th>
								<td>
									<span class="padded-td">{{address.talukaData.talukaName}}</span>
								</td>
							</tr>
							<tr>
								<th class="table-bold-loan">{{'label.heading.countryname' | translate}}</th>
								<td>
									<span class="padded-td">{{address.countryData.countryName}}</span>
								</td>
							</tr>
							<tr>
								<th class="table-bold-loan">{{'label.heading.statename' | translate}}</th>
								<td>
									<span class="padded-td">{{address.stateData.stateName}}</span>
								</td>
							</tr>
							<tr>
								<th class="table-bold-loan">{{'label.heading.districtname' | translate}}</th>
								<td>
									<span class="padded-td">{{address.districtData.districtName}}</span>
								</td>
							</tr>
							<tr  ng-if="!pincode">
								<th  class="table-bold-loan">{{'label.heading.pincode' | translate}}</th>
								<td>
									<span class="padded-td">{{address.postalCode}}</span>
								</td>
							</tr>
							</tr>
						</table>
					</div>
				</div>
				<script type="text/ng-template" id="deleteaddress.html">
					<div class="modal-header silver">
						<h3 class="bolder">{{'label.heading.delete' | translate}}</h3>
					</div>
					<div class="modal-body ">
						<api-validate></api-validate>
						<br>
						<button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}
						</button>
						<button class="btn btn-primary" ng-click="delete()">{{'label.button.confirm' | translate}}
						</button>
					</div>
				</script>
			</tab>
		<tab heading="{{'label.heading.documents' | translate}}" select="getClientDocuments()" has-permission='READ_DOCUMENT'>
			<div><api-validate></api-validate></div>
			<div class="pull-right">
		        <a href="#/addclientdocument/{{client.id}}" class="btn btn-primary" has-permission='CREATE_DOCUMENT'><i
		                class="icon-plus icon-white"></i>
		            {{'label.button.upload' | translate}}</a>
		    </div>
		    <div ng-repeat="(key, value) in clientdocuments">
		    	<h3>{{key | translate}}</h3>
		    	<table class="table" ng-show="value.length > 0">
			        <thead>
			        <tr class="graybg">
			            <th>{{'label.heading.name' | translate}}</th>
			            <th>{{'label.heading.description' | translate}}</th>
			            <th>{{'label.heading.filename' | translate}}</th>
			            <th>{{'label.heading.actions' | translate}}</th>
			        </tr>
			        </thead>
			        <tbody>
			        <tr ng-repeat="clientdocument in value">
			            <td>{{clientdocument.name}}</td>
			            <td>{{clientdocument.description}}</td>
			            <td>
			            	<span>
			            		{{clientdocument.fileName}}&nbsp;
			            		<a target="_blank" data-ng-click="openViewDocument(clientdocument)"><i
		                           class="icon-eye-open text-success"></i></a>
			            	</span>
			            </td>
			            <td>
			                <a ng-show="clientdocument.id" target="_blank" href="{{hostUrl}}{{clientdocument.docUrl}}"><i class="icon-cloud-download"></i></a>&nbsp;
			                <a ng-show="clientdocument.id" ng-click="deleteDocument(clientdocument,$index, key)"><i class="icon-remove"></i></a>
							<a ng-show="clientdocument.id && clientdocument.reportIdentifier" ng-click="reGenerateDocument(clientdocument)"><i class="icon-repeat"></i></a>
							<a ng-hide="clientdocument.id" ng-click="generateDocument(clientdocument)"><i class="icon-link"></i></a>
			            </td>
			        </tr>
			        </tbody>
			    </table>	
		    </div>
		</tab>
		<tab heading="{{'label.heading.smartcard' | translate}}" has-permission='READ_SMARTCARD' select="fetchSmartCardData()">

			<div class="form-group col-sm-12">
				<table class="table table-condensed" ng-if="showSmartcard">
					<tr class="graybg">
						<th>{{'label.heading.cardnumber' | translate}}</th>
						<th>{{'label.heading.cardtype' | translate}}</th>
						<th>{{'label.heading.registreddate' | translate}}</th>
						<th>{{'label.heading.closeddate' | translate}}</th>
						<th>{{'label.heading.actions' | translate}}</th>
					</tr>
					<tr ng-repeat="smartCard in smartCardData">
						<td>
							<i tooltip-placement="right" tooltip="{{smartCard.statusEnumOptionData.value}}"
							   class="icon-stop {{smartCard.statusEnumOptionData.code | StatusLookup}}">
							</i>{{smartCard.cardNumber}}</td>
						<td>{{smartCard.entityEnumOptionData.value}}</td>
						<td>{{smartCard.createdDate|DateFormat}}</td>
						<td>{{smartCard.deactivatedDate|DateFormat}}</td>
						<td>
							<a tooltip="{{'label.button.inactivate' | translate}}" has-permission='INACTIVATE_SMARTCARD' ng-click="inactivate(smartCard)" class="pull center btn btn-primary">
								<i class="icon-remove"></i>
							</a>
						</td>
					</tr>
				</table>
			</div>

			<div class="form-group col-sm-12" ng-if="showNoteField">
				<label class="control-label col-sm-1" for="note">{{ 'label.input.note' | translate}}</label>
				<div class="col-sm-3">
					<textarea id="note" rows="2" class="form-control" ng-model="smartformData.note"></textarea>
				</div>
			</div>

			<div class="col-md-offset-2" ng-if="showNoteField" >
				<a id="cancel" ng-click="cancel()">
					<button type="reset" class="btn btn-default">{{'label.button.cancel' | translate}}</button>
				</a>
				<button id="save" ng-click="submit()" type="submit" class="btn btn-primary"  ng-hide="blockUI" has-permission='INACTIVATE_SMARTCARD'>{{'label.button.save' | translate}}</button>
				<button class="btn btn-info" ng-show="blockUI"><strong>{{'label.button.processing' | translate}}</strong></button>
			</div>
		</tab>

		<tab heading="{{ 'label.heading.familydetails' | translate }}" select="familyDetails()" ng-hide="client.legalForm && client.legalForm.value === 'ENTITY'" ng-if="isBetaEnabled && isBetaEnabled == true">
		<br/>
		<a href="#/createfamilydetails/{{id}}" class="btn btn-primary pull-right"><i
				class="icon-plus icon-white"></i>
			{{'label.button.create.familymembers' | translate}}</a>

		<script type="text/ng-template" id="deletefamilydetail.html">
			<div class="modal-header silver">
				<h3 class="bolder">{{'label.heading.delete' | translate}}</h3>
			</div>
			<div class="modal-body ">
				<api-validate></api-validate>
				<br>
				<button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
				<button class="btn btn-primary" ng-click="delete()">{{'label.button.confirm' | translate}}</button>
			</div>
		</script>

		<div class="form-horizontal well">
			<h2>{{'label.heading.familydetails' | translate}}</h2>
			<br>
			<table class="table">
				<thead>
				<tr>
					<th>{{ 'label.heading.name' | translate }}</th>
					<th>{{ 'label.heading.belongs.to.families.of' | translate }}</th>
					<th>{{ 'label.heading.dob' | translate }}</th>
					<th>{{ 'label.heading.age' | translate }}</th>
					<th>{{ 'label.heading.dependent' | translate }}</th>
					<th>{{ 'label.heading.medical.condition' | translate }}</th>
					<th>{{ 'label.heading.deceased' | translate }}</th>
					<th>{{ 'label.heading.existing.customer' | translate }}</th>
					<th></th>
				</tr>
				</thead>
				<tbody>
				<tr class="pointer-main" ng-repeat="familyMember in familyDetailsOfClient">
					<td class="pointer" data-ng-click="routeTo(familyMember.id)">{{familyMember.firstname}}
						{{familyMember.lastname}}
					</td>
					<td class="pointer" data-ng-click="routeTo(familyMember.id)">
						{{familyMember.relationship.name}}
					</td>
					<td class="pointer" data-ng-click="routeTo(familyMember.id)">{{familyMember.dateOfBirth |
						DateFormat}}
					</td>
					<td class="pointer" data-ng-click="routeTo(familyMember.id)">{{familyMember.age}}</td>
					<td class="pointer" data-ng-click="routeTo(familyMember.id)">{{familyMember.isDependent == true
						? 'Yes' : 'No'}}
					</td>
					<td class="pointer" data-ng-click="routeTo(familyMember.id)">{{familyMember.isSeriousIllness ==
						true ? 'Yes' : 'No'}}
					</td>
					<td class="pointer" data-ng-click="routeTo(familyMember.id)">{{familyMember.isDeceased == true ?
						'Yes' : 'No'}}
					</td>
					 <td class="pointer" ng-class="familyMember.isExistingCustomer == true ?'glyphicon glyphicon-user':'glyphicon'" data-ng-click="routeToClientDetails(familyMember)">

					<td class="pull-right">
						<a  ng-click="showEdit(familyMember.id)">
							<i class="icon-edit"></i>
						</a>

						<a ng-click="deleteFamilyDetail(familyMember.id)">
							<i class="icon-remove"></i>
						</a>
					</td>

				</tr>
				</tbody>
			</table>
			<br>
		<div>
            <h3>{{'label.heading.family.member.of' | translate}}</h3>
           <table class="table table-condensed">
             <thead>
                 <tr>
                 <th>{{ 'label.heading.customername' | translate }}</th>
                  <th>{{ 'label.heading.customer.accountno' | translate }}</th>
                 <th>{{ 'label.heading.claimed.relation' | translate }}</th>
                </tr>
            </thead> 
             <tbody>
               <tr class="pointer-main" ng-repeat="familyMember in familyMemberOf">
               <td class="pointer" data-ng-click="routeToClient(familyMember.memberClientId)">      {{familyMember.displayName}}
               </td>
               <td class="pointer" data-ng-click="routeToClient(familyMember.memberClientId)">
                     {{familyMember.accountNo}}
               </td>
               <td class="pointer" data-ng-click="routeToClient(familyMember.memberClientId)">      {{familyMember.relationship.name}}
               </td>
            </tbody>
           </table>
        </div>
		</div>
		<a href="#/createfamilydetailsummary/{{id}}" class="btn btn-primary pull-right"><i
				class="icon-arrow-right icon-white"></i>
			{{'label.button.next' | translate}}</a>
		</tab>


		<tab heading="{{'label.heading.cashflow' | translate}}" select="incomeAndexpense()" ng-if="isBetaEnabled && isBetaEnabled == true">
			<br/>
			<a href="#/clients/{{id}}/createclientoccupationdetails" class="btn btn-primary pull-right"><i
					class="icon-plus icon-white"></i>
				{{'label.button.create.clientoccupation' | translate}}</a>


			<div class="form-horizontal well">
				<h2>{{'label.heading.occupationdetails' | translate}}</h2>
				<br>
				<table class="table">
					<thead>
					<tr>
						<th>{{ 'label.heading.occupationname' | translate }}</th>
						<th>{{ 'label.heading.quantity' | translate }}</th>
						<th>{{ 'label.heading.income' | translate }}</th>
						<th>{{ 'label.heading.expense' | translate }}</th>
						<th>{{ 'label.heading.net' | translate}}</th>
						<th>{{}}</th>
					</tr>
					</thead>
					<tbody>
					<tr class="pointer-main" ng-if="incomeAndExpense.incomeExpenseData.cashFlowCategoryData.categoryEnum.id == 1" ng-repeat="incomeAndExpense in incomeAndExpenses">
						<td class="pointer" data-ng-click="routeToClientIncome(incomeAndExpense.id)">
							{{incomeAndExpense.incomeExpenseData.name}}
						</td>
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.quintity}}
						</td>
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.totalIncome}}
						</td>
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.totalExpense}}
						</td>
						<td>
							<span>{{incomeAndExpense.totalIncome - incomeAndExpense.totalExpense}}</span>
						</td>
						<td class="pull-right">
							<button role="button" ng-click="showEditClientIncome(incomeAndExpense.id)" class="btn-link ng-binding">
								<i class="icon-edit icon-white"></i>
							</button>
						</td>

					</tr>
					</tbody>
				</table>
			</div>

			<a href="#/clients/{{id}}/createclientassetdetails" class="btn btn-primary pull-right"><i
					class="icon-plus icon-white"></i>
				{{'label.button.create.clientasset' | translate}}</a>

			<div class="form-horizontal well">
				<h2>{{'label.heading.assetdetails' | translate}}</h2>
				<br>
				<table class="table">
					<thead>
					<tr>
						<th>{{ 'label.heading.assetname' | translate }}</th>
						<th>{{ 'label.heading.quantity' | translate }}</th>
						<th>{{ 'label.heading.income' | translate }}</th>
						<th>{{ 'label.heading.expense' | translate }}</th>
						<th>{{ 'label.heading.net' | translate}}</th>
						<th>{{}}</th>
					</tr>
					</thead>
					<tbody>
					<tr class="pointer-main" ng-if="incomeAndExpense.incomeExpenseData.cashFlowCategoryData.categoryEnum.id == 2" ng-repeat="incomeAndExpense in incomeAndExpenses">
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.incomeExpenseData.name}}
						</td>
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.quintity}}
						</td>
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.totalIncome}}
						</td>
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.totalExpense}}
						</td>
						<td>
							<span>{{incomeAndExpense.totalIncome - incomeAndExpense.totalExpense}}</span>
						</td>
						<td class="pull-right">
							<button role="button" ng-click="showEditClientAsset(incomeAndExpense.id)" class="btn-link ng-binding">
								<i class="icon-edit icon-white"></i>
							</button>
						</td>
					</tr>
					</tbody>
				</table>
			</div>

			<a href="#/clients/{{id}}/createclienthouseholddetails" class="btn btn-primary pull-right"><i
					class="icon-plus icon-white"></i>
				{{'label.button.create.household.expense' | translate}}</a>

			<div class="form-horizontal well">
				<h2>{{'label.heading.householddetails' | translate}}</h2>
				<br>
				<table class="table">
					<thead>
					<tr>
						<th>{{ 'label.heading.expensename' | translate }}</th>
						<th>{{ 'label.heading.quantity' | translate }}</th>
						<th>{{ 'label.heading.expense' | translate }}</th>
						<th>{{}}</th>
					</tr>
					</thead>
					<tbody>
					<tr class="pointer-main" ng-if="incomeAndExpense.incomeExpenseData.cashFlowCategoryData.typeEnum.id == 2" ng-repeat="incomeAndExpense in incomeAndExpenses">
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.incomeExpenseData.name}}
						</td>
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.quintity}}
						</td>
						<td class="pointer" data-ng-click="">
							{{incomeAndExpense.totalExpense}}
						</td>
						<td class="pull-right">
							<button role="button" ng-click="showEditClientHouseHoldExpense(incomeAndExpense.id)" class="btn-link ng-binding">
								<i class="icon-edit icon-white"></i>
							</button>
						</td>
					</tr>
					</tbody>
				</table>
			</div>

			<div class="well">
				<h3 class="bolder">{{'label.view.summary' | translate}}</h3>
					<div class="row">
						<div class="col-md-5">
							<table class="table table-bordered table-striped">
								<tr>
									<td>{{'label.input.occ.income' | translate}}:</td>
									<td>{{totalIncomeOcc}}</td>
								</tr>
								<tr>
									<td>{{'label.input.asset.income' | translate}}:</td>
									<td>{{totalIncomeAsset}}</td>
								</tr>
								<tr>
									<td>{{'label.input.household.expense' | translate}}:</td>
									<td>{{totalHouseholdExpense}}</td>
								</tr>
								<tr>
									<td>{{'label.input.net.surplex' | translate}}:</td>
									<td>{{totalIncomeOcc + totalIncomeAsset - totalHouseholdExpense}}</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</tab>

		<tab heading="{{'label.heading.existingloan' | translate}}" select="existingLoans()" ng-if="isBetaEnabled && isBetaEnabled == true">
			<br/>
			<a href="#/clients/{{id}}/createexistingloan" class="btn btn-primary pull-right"><i
					class="icon-plus icon-white"></i>
				{{'label.button.create.existingloan' | translate}}</a>

			<div class="form-horizontal well">
				<h2>{{'label.heading.existingloan' | translate}}</h2>
				<br>
				<table class="table">
					<thead>
					<tr>
						<th>{{ 'label.heading.source' | translate }}</th>
						<th>{{ 'label.heading.purpose' | translate }}</th>
						<th>{{ 'label.heading.amountborrowed' | translate }}</th>
						<th>{{ 'label.heading.tenure' | translate }}</th>
						<th>{{ 'label.heading.outstanding.amount' | translate}}</th>
						<th>{{ 'label.heading.status' | translate}}</th>
						<th>{{}}</th>
					</tr>
					</thead>
					<tbody>
					<tr class="pointer-main" ng-repeat="existingLoan in existingLoans">
						<td class="pointer" ng-click="routeToViewExistingLoan(existingLoan.id)">
							{{existingLoan.source.name}}
						</td>
						<td class="pointer" ng-click="routeToViewExistingLoan(existingLoan.id)">
							{{existingLoan.externalLoanPurpose.name}}
						</td>
						<td class="pointer" ng-click="routeToViewExistingLoan(existingLoan.id)">
							{{existingLoan.amountBorrowed}}
						</td>
						<td class="pointer" ng-click="routeToViewExistingLoan(existingLoan.id)">
							{{existingLoan.loanTenure}}
						</td>
						<td class="pointer" ng-click="routeToViewExistingLoan(existingLoan.id)">
							{{existingLoan.currentOutstanding}}
						</td>
						<td class="pointer" ng-click="routeToViewExistingLoan(existingLoan.id)">
							<span>{{existingLoan.loanStatus.value}}</span>
						</td>
						<td class="pull-right">
							<button role="button" ng-click="showEditClientExistLoan(existingLoan.id)"
									class="btn-link ng-binding">
								<i class="icon-edit icon-white"></i>
							</button>
						</td>
					</tr>
					</tbody>
				</table>
			</div>
		</tab>


		<tab heading="{{datatable.registeredTableDisplayName == null ? datatable.registeredTableName : datatable.registeredTableDisplayName}}" ng-repeat="datatable in datatables"
		     select="dataTableChange(datatable)" has-permission='READ_{{datatable.registeredTableName}}'>
		    <div>
		        <div data-ng-hide="isClosedClient" class="btn-group pull-right">
		            <a ng-show="datatabledetails.isData" class="btn btn-danger pull-right"
		               ng-click="deleteAll(datatable.registeredTableName, client.id)" has-permission='DELETE_{{datatable.registeredTableName}}'><i
		                    class="icon-trash icon-white"></i>{{'label.button.deleteall' | translate}}</a>
		            <a data-ng-show="showDataTableAddButton"
		               ng-href="#/makedatatableentry/{{datatable.registeredTableName}}/{{client.id}}?fromEntity=client"
		               class="btn btn-primary" has-permission='CREATE_{{datatable.registeredTableName}}'><i
		                    class="icon-plus icon-white"></i>{{'label.button.add' | translate}}</a>
		            <a data-ng-show="showDataTableEditButton"
		               ng-href="#/viewsingledatatableentry/{{datatable.registeredTableName}}/{{client.id}}?mode=edit&&fromEntity=client"
		               class="btn btn-primary" has-permission='UPDATE_{{datatable.registeredTableName}}'><i
		                    class="icon-edit icon-white"></i>{{'label.button.edit' | translate}}</a>
		        </div>
		        <br>
		        <br>

				<div ng-show="datatabledetails.isData" ng-include="'views/system/view_datatable_data.html'">

				</div>
		  	</div>
		</tab>
		<tab heading="{{ 'label.heading.notes' | translate }}" has-permission='READ_CLIENTNOTE' select="getAllClientsNotes();">
		    <br/>
		    <form>
		        <div class="form-group">
		            <div class="col-sm-12 col-md-12">
		                <textarea rows="1" class="form-control marginbottom0px" id="textarea"
		                          placeholder="{{'label.input.enternote' | translate}}" ng-model="formData.note"></textarea>

		                <div class="notewrapper col-sm-12 col-md-12">
		                        <span class="pull-right noteaddbuttonwrapper">
		                            <button class="btn btn-primary" type="submit" ng-click="saveNote()"
		                                    has-permission='CREATE_CLIENTNOTE'>{{'label.button.add' |
		                                translate}}
		                            </button>
		                        </span>
		                </div>
		            </div>
		        </div>
		    </form>
		    <div class="col-md-12">
		        <br/>

		        <div ng-repeat="clientNote in clientNotes | orderBy:predicate:reverse">
		            <blockquote>
		                <p>{{clientNote.note}}</p>
		                {{clientNote.id}}
		                <small>{{'label.createdby' | translate}} :&nbsp;{{clientNote.createdByUsername}}</small>
		                <small>{{'label.createdon' | translate}} :&nbsp;{{clientNote.createdOn | DateFormat}}</small>
		            </blockquote>
		        </div>
		    </div>
		</tab>
		<tab heading="{{ 'label.heading.bureau' | translate }}" has-permission='READ_CLIENTNOTE' ng-click="getCreditBureauReportSummary()">
			<div class="span gray-head">
                    <span class="boldlabel">
                          <strong>{{'label.anchor.creditbureauteport' | translate}}</strong>
                    </span>
			<div class="pull-right" ng-disabled="isReportPresent">
				<button type="button" class="btn btn-primary" ng-click="creditBureauReportView();" has-permission='READ_CREDIT_BUREAU_REPORT'>{{'label.button.view.report.file' | translate}}</button>
			</div>
			</div>
			<div class="col-md-12" ng-if="isReportPresent">
				<table class="table table-bordered table-striped" ng-if="(creditScores.length > 0)">
					<tr>
						<td>
							<span><strong>{{'label.heading.creditscore.name' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.creditscore.cardname' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.creditscore.version' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.creditscore.date' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.creditscore.score' | translate}}</strong></span>
						</td>
					</tr>
					<tr ng-repeat="score in creditScores">
						<td>
							<span>{{score.scoreName}}</span>
						</td>
						<td>
							<span>{{score.scoreCardName}}</span>
						</td>
						<td>
							<span>{{score.scoreCardVersion}}</span>
						</td>
						<td>
							<span>{{score.scoreCardDate}}</span>
						</td>
						<td>
							<span>{{score.score}}</span>
						</td>
					</tr>
				</table>
			</div>
			<div class="col-md-12" ng-if="isReportPresent">
				<table class="table table-bordered table-striped" ng-if="(activeLoan.summaries.length > 0)">
					<tr>
						<td colspan="8">
							<span class="boldlabel"><strong>{{'label.heading.cb.report.active.loans.summary' | translate}}</strong></span>
						</td>
					</tr>
					<tr>
						<td>
							<span><strong>{{'label.heading.serialno' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.name.of.mfi' | translate}}</strong></span>
						</td>
						 <td>
                                <span><strong>{{'label.heading.customer.since' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.no.of.active.loans' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.total.outstanding.amount' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.total.emi.amount' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.disbursaldate' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.overdue.amount' | translate}}</strong></span>
						</td>
					</tr>
					<tr ng-repeat="summary in activeLoan.summaries | orderBy:'-totalOutstandingAmount' track by $index" ng-init="summaryIndex = $index">
						<td>
							<span>{{(summaryIndex+1)}}</span>
						</td>
						<td>
							<span>{{summary.lenderName}}</span>
						</td>
						<td>
                            <span>{{summary.customerSince |DateFormat}}</span>
                        </td>
						<td>
							<span>{{summary.noOfActiveLoans}}</span>
						</td>
						<td>
							<span>{{summary.totalOutstandingAmount |number}}</span>
						</td>
						<td>
							<span>{{summary.totalEMIAmount |number : 2}}</span>
						</td>
						<td>
							<span>{{summary.disbursalDate |DateFormat}}</span>
						</td>
						<td>
							<span>{{summary.totalOverDueAmount |number}}</span>
						</td>
					</tr>
					<tr>
						<td>
							<span><strong>{{'label.heading.total' | translate}}</strong></span>
						</td>
						<td>
							&nbsp;
						</td>
						<td>
							&nbsp;
						</td>
						<td>
							<span><strong>{{activeLoan.totalSummary.noOfActiveLoans}}</strong></span>
						</td>
						<td>
							<span><strong>{{activeLoan.totalSummary.totalOutstandingAmount | number:0}}</strong></span>
						</td>
						<td>
							<span><strong>{{activeLoan.totalSummary.totalEMIAmount | number:0}}</strong></span>
						</td>
						<td>
							&nbsp;
						</td>
						<td>
							<span><strong>{{activeLoan.totalSummary.totalOverDueAmount | number}}</strong></span>
						</td>
					</tr>
				</table>
			</div>
			<div class="col-md-12">
				<table class="table table-bordered table-striped" ng-if="closedLoan.summaries.length > 0">
					<tr>
						<td colspan="8">
							<span class="boldlabel"><strong>Closed Loans Summary</strong></span>
						</td>
					</tr>
					<tr>
						<td>
							<span><strong>{{'label.heading.serialno' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.name.of.mfi' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.customer.since' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.no.of,closed.loans' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.total.disbursal.amount' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.last.closure.date' | translate}}</strong></span>
						</td>
						<td>
							<span><strong>{{'label.heading.write.off.amount' | translate}}</strong></span>
						</td>
					</tr>
					<tr ng-repeat="summary in closedLoan.summaries | orderBy:'lastClosureDate' :true track by $index" ng-init="summaryIndex = $index">
						<td>
							<span>{{(summaryIndex+1)}}</span>
						</td>
						<td>
							<span>{{summary.lenderName}}</span>
						</td>
						<td>
							<span>{{summary.customerSince |DateFormat}}</span>
						</td>
						<td>
							<span>{{summary.noOfClosedLoans}}</span>
						</td>
						<td>
							<span>{{summary.totalDisbursalAmount |number}}</span>
						</td>
						<td>
							<span>{{summary.lastClosureDate |DateFormat}}</span>
						</td>
						<td>
							<span>{{summary.totalWriteOffAmount |number}}</span>
						</td>
					</tr>
					<tr>
						<td>
							<span><strong>{{'label.heading.total' | translate}}</strong></span>
						</td>
						<td>
							&nbsp;
						</td>
						<td>
							&nbsp;
						</td>
						<td>
							<span><strong>{{closedLoan.totalSummary.noOfClosedLoans}}</strong></span>
						</td>
						<td>
							<span><strong>{{closedLoan.totalSummary.totalDisbursalAmount | number}}</strong></span>
						</td>
						<td>
							&nbsp;
						</td>
						<td>
							<span><strong>{{closedLoan.totalSummary.totalWriteOffAmount | number}}</strong></span>
						</td>
					</tr>
				</table>
			</div>

		</tab>
	</tabset>
	<div>
		<audit-logs></audit-logs>
	</div>



</div>
