<div class="col-md-12" ng-controller="EditLoanProductController">
    <ul class="breadcrumb">
        <li><a href="#/products">{{'label.anchor.products' | translate}}</a></li>
        <li><a href="#/loanproducts">{{'label.anchor.loanproducts' | translate}}</a></li>
        <li><a href="#/viewloanproduct/{{product.id}}">{{product.name}}</a></li>
        <li class="active">{{'label.anchor.editloanproduct' | translate}}</li>
    </ul>
	<form name="editloanproductform" novalidate="" class="form-horizontal well" rc-submit="submit()">
	<api-validate></api-validate>
	<fieldset>
	<h3>{{ 'label.heading.details' | translate }}</h3>
	<hr>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.productname' | translate }}<span class="required">*</span>
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.productname' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" id="name" class="form-control" name="name" ng-model="formData.name"
	               required late-validate/>
	    </div>
	    <div class="col-sm-2">
	        <form-validate valattributeform="editloanproductform" valattribute="name"/>
	    </div>
	    <label class="control-label col-sm-2">{{ 'label.input.product.shortname' | translate }}<span class="required">*</span>
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.shortname' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" id="shortName" name="shortName" ng-model="formData.shortName"
	               class="form-control" maxlength="4" required late-validate/>
	    </div>
	    <div class="col-sm-2">
	        <form-validate valattributeform="editloanproductform" valattribute="shortName"/>
	    </div>
	</div>
	<div class="form-group">
   <label class="control-label col-sm-2">{{ 'label.input.loanproduct.group' | translate }}
        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.group' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select id="loanProductGroup" name="loanProductGroup"  ng-model="formData.loanProductGroupId" class="form-control"
                ng-options="group.id as group.name for group in product.templateData.loanProductGroupOptions"
                value="{{group.id}}">
            <option value="">{{'label.select.product.group' | translate}}</option>
        </select>
    </div>
    <div class="col-sm-2"></div>
    <div class="col-sm-6"></div>
</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.description' | translate }}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.description' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <textarea rows="2"class="form-control" ng-model="formData.description"></textarea>
	    </div>
	    <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.fund' | translate }}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.fund' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <select id="fundId" ng-model="formData.fundId" class="form-control"
	                ng-options="fund.id as fund.name for fund in product.fundOptions"
	                value="{{fund.id}}">
	            <option value="">{{'label.selectfund' | translate}}</option>
	        </select>
	    </div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.startdate' | translate }}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.startdate' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <input id="startDate" sort type="text" autocomplete="off" class="form-control"
	               datepicker-pop="{{df}}" ng-model="date.first" is-open="opened"
	               min="minDate" max="'2020-06-22'" ng-readonly="isDatePickerReadOnly"/>
	    </div>
	    <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.closedate' | translate }}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.closedate' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <input id="closeDate" sort type="text" autocomplete="off" class="form-control"
	               datepicker-pop="{{df}}" ng-model="date.second" is-open="opened1"
	               min="minDate" max="'2020-06-22'" ng-readonly="isDatePickerReadOnly"/>
	    </div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.includeinborrowerloancounter' | translate }}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.includeborrower' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="checkbox col-sm-2">
	        <label>
	            <input type="checkbox" ng-model="formData.includeInBorrowerCycle" ng-checked="formData.includeInBorrowerCycle">
	        </label>
	    </div>
		<label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.product.externalId' | translate }} </label>
		<div class="col-sm-2">
			<input type="text" autocomplete="off" id="externalId" name="externalId" ng-model="formData.externalId"
				   class="form-control"/>
		</div>
	</div>


	<div class="form-group">
		<label class="control-label col-sm-2">{{ 'label.input.applicable.for' | translate }}<span class="required">*</span>
			<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.applicable.for' | translate}}"
			   tooltip-append-to-body="true"></i>
		</label>

		<div class="col-sm-2">
			<select id="applicableForLoanType" name="applicableForLoanType" ng-model="formData.applicableForLoanType" class="form-control"
					ng-options="applicableForLoanType.id as applicableForLoanType.value for applicableForLoanType in product.templateData.loanProductApplicableForLoanTypeOptions"
					value="{{applicableForLoanType.id}}" ng-init="formData.applicableForLoanType = 1" data-ng-change="resetApplicableForLoanTypeData()"></select>
		</div>
		<div class="col-sm-2">
			<form-validate valattributeform="createloanproductform" valattribute="applicableForLoanType"/>
		</div>

		<label class="control-label col-sm-2" ng-if="formData.applicableForLoanType == INDIVIDUAL_CLIENT">{{ 'label.input.enable.restriction.based.on.client.profile' | translate }}</label>

		<div class="col-sm-2" ng-if="formData.applicableForLoanType == INDIVIDUAL_CLIENT">
			<input type="checkbox" id="isEnableRestrictionForClientProfile" name="isEnableRestrictionForClientProfile" ng-model="formData.isEnableRestrictionForClientProfile" ng-true-value="true" ng-false-value="false"/>
		</div>
		<div class="col-sm-2"></div>
	</div>

	<div ng-show="formData.isEnableRestrictionForClientProfile == 'true'">

		<div class="form-group">
			<label class="col-sm-1">&nbsp;</label>
			<div class="control-label col-sm-1">
				<span class="error" ng-show="submitted && formData.profileType == undefined">{{'label.error.required'|translate}}</span>
			</div>
			<div class="col-sm-2"  ng-repeat="clientProfileType in product.templateData.clientProfileTypeOptions">
				{{ clientProfileType.code | translate }}&nbsp;&nbsp;<input type="radio" name="clientProfileType" ng-model="formData.profileType" value="{{clientProfileType.id}}" ng-change="loadClientProfileTypeDatas()"/>
			</div>
		</div>

		<div class="form-group">
			<div class="col-sm-3 col-md-3 col-md-offset-1">
				<label class="control-label col-sm-9">{{ 'label.input.available' | translate }}</label>
				<select id="availableProfileTypeValues" ng-model="availableProfileTypeValues" name="availableProfileTypeValues" class="form-control multiselectmin" multiple>
					<option ng-repeat="availableProfileType in availableProfileTypeValuesOptions" value="{{availableProfileType.id}}">
						{{availableProfileType.name}}
					</option>
				</select>
			</div>
			<div class="col-sm-1 col-md-1 paddedtop25px">
				<div>
					<button id="addProfileTypeId" type="button" class="btn btn-primary" data-ng-click="addProfileType()"><i
							class="icon-double-angle-right"></i></button>
				</div>
				<br/>
				<br/>
				<div>
					<button id="removeProfileTypeId" type="button" class="btn btn-primary" data-ng-click="removeProfileType()"><i
							class="icon-double-angle-left"></i></button>
				</div>
			</div>
			<div class="col-sm-3 col-md-3">
				<label class="control-label col-sm-9">{{ 'label.input.selected' | translate}}<span class="required">*</span></label>
				<select id="selectedProfileTypeValues" name="selectedProfileTypeValues" ng-model="selectedProfileTypeValues" name="role" class="form-control multiselectmin" multiple>
					<option ng-repeat="selectedProfileType in selectedProfileTypeValuesOptions" value="{{selectedProfileType.id}}">
						{{selectedProfileType.name}}
					</option>
				</select>
			</div>
		</div>
	</div>


	<h3>{{ 'label.heading.currency' | translate }}</h3>
	<hr>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.currency' | translate }}<span class="required">*</span>
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.currency' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <select id="currencyCode" ng-model="formData.currencyCode" class="form-control"
	                ng-options="currency.code as currency.name for currency in product.currencyOptions"
	                value="{{currency.code}}"/>
	    </div>
	    <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.decimalplaces' | translate }}<span class="required">*</span>
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.decimalplaces' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" id="digitsAfterDecimal" name="decimalplace" class="form-control"
	               ng-model="formData.digitsAfterDecimal" required late-validate/>
	    </div>
	    <div class="col-sm-2">
	        <form-validate valattributeform="editloanproductform" valattribute="decimalplace"/>
	    </div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.currencyinmultiplesof' | translate }}<span class="required">*</span>
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.currencyinmultiplesof' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" id="inMultiplesOf" class="form-control" name="multiplesof"
	               ng-model="formData.inMultiplesOf" required late-validate/>
	    </div>
	    <div class="col-sm-2">
	        <form-validate valattributeform="editloanproductform" valattribute="multiplesof"/>
	    </div>
	</div>
    <div class="form-group">
        <label class="control-label col-sm-2">{{ 'label.input.installmentinmultiplesof' | translate }}</label>
        <div class="col-sm-2">
            <input type="text" autocomplete="off" id="installmentAmountInMultiplesOf" class="form-control" name="installmentAmountInMultiplesOf"
                   ng-model="formData.installmentAmountInMultiplesOf"/>
        </div>
    </div>
	<h3>{{ 'label.heading.terms' | translate }}</h3>
	<hr>
	<div class="form-group">
		<label class="control-label col-sm-2">{{ 'label.input.borrowercycletype' | translate }}
			<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.borrowercycletype' | translate}}"
			   tooltip-append-to-body="true"></i>
		</label>
	
		<div class="checkbox col-sm-2">
			<select id="borrowerCycleType" ng-model="formData.borrowerCycleType" class="form-control"
				ng-options="borrowerCycleType.id as borrowerCycleType.value for borrowerCycleType in product.borrowerCycleTypeOptions"
				value="{{borrowerCycleType.id}}"></select>
		</div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.principal' | translate }}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.principal' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <input id="minPrincipal" placeholder="{{'label.input.minimum' | translate}}" type="text" autocomplete="off"
	               class="form-control" number-format ng-model="formData.minPrincipal">
	    </div>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" placeholder="{{'label.input.default' | translate}}" id="principal" name="principal"
	               class="form-control" number-format ng-model="formData.principal" required late-validate/>
	    </div>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" placeholder="{{'label.input.maximum' | translate}}" id="maxPrincipal"
	               class="form-control" number-format ng-model="formData.maxPrincipal">
	    </div>
	    <div class="col-sm-2">
	        <form-validate valattributeform="editloanproductform" valattribute="principal"/>
	    </div>
	</div>
	<div class="form-group" ng-show="formData.borrowerCycleType != 0">
	    <label class="control-label col-sm-2">{{'label.heading.principalCycleVariations' | translate}}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.principalcyclevariations' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <a class="btn btn-primary" ng-click="addPrincipalVariation()">{{ 'label.button.add' | translate }}</a>
	    </div>
	    <div data-ng-show="pvFlag" class="col-md-9 col-sm-offset-2">
	        <table class="table">
	            <tr class="graybg">
	                <th></th>
	                <th class="center">{{'label.input.cyclenumber' | translate}}</th>
	                <th class="center">{{'label.input.minimum' | translate}}</th>
	                <th class="center">{{'label.input.default' | translate}}</th>
	                <th class="center">{{'label.input.maximum' | translate}}</th>
	                <th></th>
	            </tr>
	            <tr ng-repeat="borrowerCycleVariation in formData.principalVariationsForBorrowerCycle">
	                <td class="col-sm-2">
	                    <select id="principalValueUsageCondition{{$index}}"
	                            ng-model="borrowerCycleVariation.valueConditionType"
	                            ng-options="valueConditionType.id as valueConditionType.value for valueConditionType in product.valueConditionTypeOptions"
	                            class="marginleftn19px form-control" value="{{valueConditionType.id}}"/>
	                </td>
	                <td><input id="principalCycleNumber{{$index}}" type="text" autocomplete="off" class="form-control"
	                           number-format ng-model="borrowerCycleVariation.borrowerCycleNumber"/>
	                </td>
	                <td>
	                    <input type="hidden" id="principalborrowerCycleId{{$index}}" class="form-control"
	                           ng-model="borrowerCycleVariation.id"/>
	                    <input type="text" autocomplete="off" id="minPrincipalPerCycle{{$index}}" class="form-control"
	                           number-format ng-model="borrowerCycleVariation.minValue"/>
	                </td>
	                <td>
	                    <input id="principalPerCycle{{$index}}" type="text" autocomplete="off" class="form-control"
	                           number-format ng-model="borrowerCycleVariation.defaultValue"
	                           name="principalPerCycle{{$index}}"/>

	                </td>
	                <td><input type="text" autocomplete="off" id="maxPrincipalPerCycle{{$index}}" class="form-control"
	                           number-format ng-model="borrowerCycleVariation.maxValue"/></td>
	                <td><a ng-click="deletePrincipalVariation($index)"><i
	                        class="icon-remove icon-white"></i></a>

	                </td>
	            </tr>
	        </table>
	    </div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.numofrepayments' | translate }}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.numofrepayments' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <input id="minNumberOfRepayments" placeholder="{{'label.input.minimum' | translate}}" type="text" autocomplete="off"
	               class="form-control" ng-model="formData.minNumberOfRepayments">
	    </div>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" placeholder="{{'label.input.default' | translate}}" id="numberOfRepayments"
	               name="numofrepayments" class="form-control" ng-model="formData.numberOfRepayments" required
	               late-validate/>
	    </div>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" placeholder="{{'label.input.maximum' | translate}}" id="maxNumberOfRepayments"
	               class="form-control" ng-model="formData.maxNumberOfRepayments">
	    </div>
	    <div class="col-sm-2">
	        <form-validate valattributeform="editloanproductform" valattribute="numofrepayments"/>
	    </div>
	</div>

	<div class="form-group" ng-show="formData.borrowerCycleType != 0">
	    <label class="control-label col-sm-2">{{'label.heading.numerOfRepaymentCycleVariations' | translate}}
	        <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.numerofrepaymentcyclevariations' | translate}}" tooltip-append-to-body="true"></i>
	    </label>
	    <div class="col-sm-2">
	        <a class="btn btn-primary" ng-click="addNumberOfRepaymentVariation()">{{ 'label.button.add' | translate }}</a>
	    </div>
	    <div data-ng-show="rvFlag" class="col-md-9 col-sm-offset-2">
	        <table class="table">
	            <tr class="graybg">
	                <th></th>
	                <th class="center">{{'label.input.cyclenumber' | translate}}</th>
	                <th class="center">{{'label.input.minimum' | translate}}</th>
	                <th class="center">{{'label.input.default' | translate}}</th>
	                <th class="center">{{'label.input.maximum' | translate}}</th>
	                <th></th>
	            </tr>
	            <tr ng-repeat="borrowerCycleVariation in formData.numberOfRepaymentVariationsForBorrowerCycle">
	                <td class="col-sm-2">
	                    <select class="marginleftn19px form-control"
	                            id="repaymentValueUsageCondition{{$index}}"
	                            ng-model="borrowerCycleVariation.valueConditionType"
	                            ng-options="valueConditionType.id as valueConditionType.value for valueConditionType in product.valueConditionTypeOptions"
	                            value="{{valueConditionType.id}}"/>
	                </td>
	                <td><input id="repaymentCycleNumber{{$index}}" type="text" autocomplete="off" class="form-control"
	                           ng-model="borrowerCycleVariation.borrowerCycleNumber"/>
	                </td>
	                <td>
	                    <input type="hidden" id="repaymentborrowerCycleId{{$index}}" class="form-control"
	                           ng-model="borrowerCycleVariation.id"/>
	                    <input type="text" autocomplete="off" id="minrepaymentPerCycle{{$index}}" class="form-control"
	                           ng-model="borrowerCycleVariation.minValue"/>
	                </td>
	                <td>
	                    <input id="repaymentPerCycle{{$index}}" type="text" autocomplete="off" class="form-control"
	                           ng-model="borrowerCycleVariation.defaultValue"/>

	                </td>
	                <td><input type="text" autocomplete="off" id="maxrepaymentPerCycle{{$index}}" class="form-control"
	                           ng-model="borrowerCycleVariation.maxValue"/></td>
	                <td><a ng-click="deleterepaymentVariation($index)"><i
	                        class="icon-remove icon-white"></i></a>

	                </td>
	            </tr>
	        </table>
	    </div>
	</div>

    <div class="form-group">
        <div class="col-sm-3">
            <input type="checkbox" name="name1" ng-model="formData.isLinkedToFloatingInterestRates" ng-change = "changeStatus()"/>
            {{'label.input.islinedtofloatinginterestrates' | translate}}
        </div>
    </div>

    <div class="form-group" ng-show="formData.isLinkedToFloatingInterestRates">
        <label class="control-label col-sm-2">{{ 'label.input.floatinginterestrate' | translate }}
            <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.floatinginterestrate' | translate}}"
               tooltip-append-to-body="true"></i>
        </label>

        <div class="col-sm-2">
            <select id="floatingrateoptions" name="floatingrateoptions"
                    ng-model="formData.floatingRatesId"
                    ng-options="floatingrateoption.id as floatingrateoption.name for floatingrateoption in floatingRateOptions"
                    value="{{floatingrateoption.id}}" class="form-control">
                <option value="">{{'label.selectfloatingrateoption' | translate}}</option>
            </select>
        </div>

        <div class="col-sm-2">
            <input id="differentialinterest" name="differentialinterest" class="form-control" type="text" autocomplete="off"
                   ng-model="formData.interestRateDifferential"
                   placeholder="{{'label.input.differentialrate' | translate}}" number-format/>
        </div>

        <div class="col-sm-3">
            <input type="checkbox" name="name1" ng-model="formData.isFloatingInterestRateCalculationAllowed"/>
            {{'label.input.isfloatingcalculationallowed' | translate}}
        </div>

    </div>

    <div class="form-group" ng-show="formData.isLinkedToFloatingInterestRates">
        <label class="control-label col-sm-2">{{ 'label.input.floatinginterestrate' | translate }}
            <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.floatinginterestrate' | translate}}"
               tooltip-append-to-body="true"></i>
        </label>

        <div class="col-sm-2">
            <input id="minValue" name="minValue" class="form-control" type="text" autocomplete="off"
                   ng-model="formData.minDifferentialLendingRate"
                   placeholder="{{'label.input.minfloatinginterestrate' | translate}}" number-format/>
        </div>
        <div class="col-sm-2">
            <input id="default" name="default" class="form-control" type="text" autocomplete="off"
                   ng-model="formData.defaultDifferentialLendingRate"
                   placeholder="{{'label.input.defaultfloatinginterestrate' | translate}}" number-format/>
        </div>
        <div class="col-sm-2">
            <input id="maxValue" name="maxValue" class="form-control" type="text" autocomplete="off"
                   ng-model="formData.maxDifferentialLendingRate"
                   placeholder="{{'label.input.maxfloatinginterestrate' | translate}}" number-format/>
        </div>
    </div>

	<div class="form-group" ng-show="!formData.isLinkedToFloatingInterestRates">
		<div class="col-sm-6">
			<input type="checkbox" name="configuration" ng-model="configureInterestRatesChart" /> {{'label.input.configure.interest.rates.chart' | translate}}&nbsp;<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.configure.interest.rates.chart' | translate}}" tooltip-append-to-body="true"></i>
		</div>
	</div>
			
	<div class="form-group" ng-if="configureInterestRatesChart && !formData.isLinkedToFloatingInterestRates">
		<label class="control-label col-sm-2">{{ 'label.input.nominal.interestrates.for.loan.period' | translate }} <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.add.interest.rate.to.list' | translate}}" tooltip-append-to-body="true"></i></label>
		<div class="col-sm-2">
			<input type="number" id="interestrate" class="form-control" ng-model="interestRate.value"/>
		</div>
		<div class="col-sm-3">
			<button type="button" class="btn btn-primary" ng-click="addInterest()">{{ 'label.button.add' | translate }}
			</button>
		</div>
	</div>

	<div class="form-group" ng-if="configureInterestRatesChart &&!formData.isLinkedToFloatingInterestRates">
		<label class="control-label col-sm-2">&nbsp;</label>
		<div class="col-sm-3" data-ng-if="formData.interestRatesListPerPeriod.length > 0">
			<table class="table">
				<thead>
					<tr class="graybg">
						<th>{{'label.heading.interestrate' | translate}}</th>
						<th>{{'label.heading.actions' | translate}}</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="rate in formData.interestRatesListPerPeriod">
						<td>
							<label> {{rate | number}} </label>
						</td>
						<td>
							<button data-ng-if="formData.interestRatesListPerPeriod.length > 0" type="button" class="btn-link ng-binding"><i class="icon-remove icon-white" ng-click="deleteInterestRateFromList($index)"></i>
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<div class="form-group" ng-if="configureInterestRatesChart && !formData.isLinkedToFloatingInterestRates">
		<label class="control-label col-sm-2">{{ 'label.input.default.nominal.interestrate' | translate }} <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.select.default.interest.rate.from.list' | translate}}" tooltip-append-to-body="true"></i><span class="required">*</span></label>
		<div class="col-sm-2">
			<select class="form-control" name="interestRatePerPeriod" id="interestRatePerPeriod" ng-options="rate for rate in formData.interestRatesListPerPeriod" ng-model="formData.interestRatePerPeriod">
			<option value="">{{'label.selectone' | translate}}</option>
			</select>
		</div>
		<div class="col-sm-2">
			<select class="form-control" id="interestRateFrequencyType" ng-model="formData.interestRateFrequencyType" ng-options="interestRateFrequencyType.id as interestRateFrequencyType.value for interestRateFrequencyType in product.interestRateFrequencyTypeOptions" value="{{interestRateFrequencyType.id}}"></select>
		</div>
		<div class="col-sm-2">
			<form-validate valattributeform="createloanproductform" valattribute="interestRatePerPeriod" />
		</div>
	</div>

	<div class="form-group" ng-show="!formData.isLinkedToFloatingInterestRates && !configureInterestRatesChart">
		<label class="control-label col-sm-2">{{ 'label.input.nominalinterestrate' | translate }}<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.nominalinterestrate' | translate}}" tooltip-append-to-body="true"></i>
		</label>
		<div class="col-sm-2">
		<input id="minInterestRatePerPeriod" placeholder="{{'label.input.minimum' | translate}}" type="text" autocomplete="off" class="form-control" number-format ng-model="formData.minInterestRatePerPeriod">
		</div>
		<div class="col-sm-2">
			<input type="text" autocomplete="off" id="interestRatePerPeriod" placeholder="{{'label.input.default' | translate}}" name="interestRatePerPeriod" class="form-control" ng-model="formData.interestRatePerPeriod" number-format late-validate/>
		</div>
		<div class="col-sm-2">
			<input id="maxInterestRatePerPeriod" placeholder="{{'label.input.maximum' | translate}}" type="text" autocomplete="off" number-format class="form-control" ng-model="formData.maxInterestRatePerPeriod">
		</div>
		<div class="col-sm-2">
			<select class="form-control" id="interestRateFrequencyType" ng-model="formData.interestRateFrequencyType" ng-options="interestRateFrequencyType.id as interestRateFrequencyType.value for interestRateFrequencyType in product.interestRateFrequencyTypeOptions" value="{{interestRateFrequencyType.id}}" />
		</div>
			<div class="col-sm-2">
				<form-validate valattributeform="editloanproductform" valattribute="interestRatePerPeriod" />
		</div>
	</div>

	<div class="form-group" ng-if="formData.borrowerCycleType != 0 && configureInterestRatesChart">
		<label class="control-label col-sm-2">{{'label.heading.interestRateCycleVariations' | translate}}<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.interestratecyclevariations' | translate}}" tooltip-append-to-body="true"></i>
		</label>
		<div class="col-sm-2">
			<a class="btn btn-primary" ng-click="addInterestRateVariation()">{{ 'label.button.add' | translate }}</a>
		</div>
		<div data-ng-show="irFlag" class="col-md-9 col-sm-offset-2">
			<table class="table">
				<tr class="graybg">
					<th></th>
					<th class="center">{{'label.input.cyclenumber' | translate}}</th>
					<th class="center">{{'label.input.add.interestrate' | translate}}</th>
					<th class="center"></th>
					<th class="center">{{'label.input.default.interestrate' | translate}}</th>
					<th class="center">{{'label.heading.actions' | translate}}</th>
				</tr>
				<tr ng-repeat="borrowerCycleVariation in formData.interestRateVariationsForBorrowerCycle">
					<td class="col-sm-2">
						<select class="marginleftn19px form-control" id="interestRateValueUsageCondition{{$index}}" ng-model="borrowerCycleVariation.valueConditionType" ng-options="valueConditionType.id as valueConditionType.value for valueConditionType in product.valueConditionTypeOptions" value="{{valueConditionType.id}}"></select>
					</td>
					<td class="col-sm-2">
						<input id="interestRateCycleNumber{{$index}}" type="text" autocomplete="off" class="form-control" ng-model="borrowerCycleVariation.borrowerCycleNumber" />
					</td>
					<td class="col-sm-2">
						<input type="number" id="interestratesPerCycle{{$index}}" class="form-control" ng-model="borrowerCycleVariation.tempValue" />
						<div class="col-sm-3" data-ng-if="borrowerCycleVariation.interestRatesListPerCycle.length > 0">
							<table class="table">
								<thead>
									<tr class="graybg">
										<th>{{'label.heading.interest' | translate}}</th>
										<th>{{'label.heading.actions' | translate}}</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="rate in borrowerCycleVariation.interestRatesListPerCycle">
										<td>
											<label> {{rate | number}} </label>
										</td>
										<td>
											<button type="button" class="btn-link ng-binding">
													<i class="icon-remove icon-white" ng-click="deleteInterestFromCycle($parent.$index,$index)"></i>
											</button>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</td>
					<td class="col-sm-2 center">
						<button type="button" class="btn btn-primary" ng-click="addInterestPerCycle($index)">{{ 'label.button.add' | translate }}
						</button>
					</td>
					<td class="col-sm-2">
						<select class="form-control" name="principalPerCycle{{$index}}" id="interestRatePerCycle{{$index}}" ng-options="rate for rate in borrowerCycleVariation.interestRatesListPerCycle" ng-model="borrowerCycleVariation.defaultValue">
						<option value="">{{'label.menu.select' | translate}}</option>
						</select>
					</td>
					<td class="col-sm-2 center">
						<a ng-click="deleteInterestRateVariation($index)"><i class="icon-remove icon-white"></i></a>
					</td>
				</tr>
			</table>
		</div>
	</div>

	<div class="form-group" ng-show="formData.borrowerCycleType != 0 && !configureInterestRatesChart">
		<label class="control-label col-sm-2">{{'label.heading.interestRateCycleVariations' | translate}}<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.interestratecyclevariations' | translate}}" tooltip-append-to-body="true"></i>
		</label>
	    <div class="col-sm-2">
	        <a class="btn btn-primary" ng-click="addInterestRateVariation()">{{ 'label.button.add' | translate }}</a>
	    </div>
	    <div data-ng-show="irFlag" class="col-md-9 col-sm-offset-2">
	        <table class="table">
	            <tr class="graybg">
	                <th></th>
	                <th class="center">{{'label.input.cyclenumber' | translate}}</th>
	                <th class="center">{{'label.input.minimum' | translate}}</th>
	                <th class="center">{{'label.input.default' | translate}}</th>
	                <th class="center">{{'label.input.maximum' | translate}}</th>
	                <th></th>
	            </tr>
	            <tr ng-repeat="borrowerCycleVariation in formData.interestRateVariationsForBorrowerCycle">
	                <td class="col-sm-2">
	                    <select class="marginleftn19px form-control"
	                            id="interestRateValueUsageCondition{{$index}}"
	                            ng-model="borrowerCycleVariation.valueConditionType"
	                            ng-options="valueConditionType.id as valueConditionType.value for valueConditionType in product.valueConditionTypeOptions"
	                            value="{{valueConditionType.id}}"/>
	                </td>
	                <td><input id="interestRateCycleNumber{{$index}}" type="text" autocomplete="off" class="form-control"
	                           ng-model="borrowerCycleVariation.borrowerCycleNumber"/>
	                </td>
	                <td>
	                    <input type="hidden" id="interestRateborrowerCycleId{{$index}}"
	                           class="input-small" ng-model="borrowerCycleVariation.id"/>
	                    <input type="text" autocomplete="off" id="mininterestRatePerCycle{{$index}}" class="form-control"
	                           ng-model="borrowerCycleVariation.minValue"/>
	                </td>
	                <td>
	                    <input id="interestRatePerCycle{{$index}}" type="text" autocomplete="off" class="form-control"
	                           ng-model="borrowerCycleVariation.defaultValue"
	                           name="principalPerCycle{{$index}}"/>

	                </td>
	                <td><input type="text" autocomplete="off" id="maxInterestRatePerCycle{{$index}}" class="form-control"
	                           ng-model="borrowerCycleVariation.maxValue"/></td>
	                <td><a ng-click="deleteInterestRateVariation($index)"><i
	                        class="icon-remove icon-white"></i></a>

	                </td>
	            </tr>
	        </table>
	    </div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.repaidevery' | translate }}</label>
	    <div class="col-sm-2">
	        <input id="repaymentEvery" name="repaymentEvery" class="form-control" type="text" autocomplete="off"
	               ng-model="formData.repaymentEvery" required late-validate/>
	    </div>
	    <div class="col-sm-2">
	        <select id="repaymentFrequencyType" class="form-control"
	                ng-model="formData.repaymentFrequencyType"
	                ng-options="repaymentFrequencyType.id as repaymentFrequencyType.value for repaymentFrequencyType in product.repaymentFrequencyTypeOptions"
	                value="{{repaymentFrequencyType.id}}"/>
	    </div>
	    <div class="col-sm-2">
	        <form-validate valattributeform="editloanproductform" valattribute="repaymentEvery"/>
	    </div>
	</div>
<div class="form-group">
	<label class="control-label col-sm-2">{{ 'label.input.loanTerm' | translate }}
		<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.tenure' | translate}}" tooltip-append-to-body="true"></i>
	</label>
	<div class="col-sm-2">
		<input id="minLoanTerm" placeholder="{{'label.input.minimum' | translate}}" type="text" autocomplete="off"
			   class="form-control" number-format ng-model="formData.minLoanTerm">
	</div>
	<div class="col-sm-2">
		<input type="text" autocomplete="off" placeholder="{{'label.input.maximum' | translate}}" id="maxLoanTerm"
			   class="form-control" number-format ng-model="formData.maxLoanTerm">
	</div>
	<div class="col-sm-2">
		<select id="loanTenureFrequencyType" class="form-control"
				ng-model="formData.loanTenureFrequencyType"
				ng-options="repaymentFrequencyType.id as repaymentFrequencyType.value for repaymentFrequencyType in product.repaymentFrequencyTypeOptions"
				value="{{repaymentFrequencyType.id}}">
				<option value="">--{{'label.menu.durationType' | translate}}--</option>
		</select>
	</div>
	<div class="col-sm-2">
		<form-validate valattributeform="editloanproductform" valattribute="loanTerm"/>
	</div>
</div>

	<div class="form-group">
		<label class="control-label col-sm-2">{{ 'label.input.minimum.duration.between.disbursal.and.first.repayment' | translate }}
			<i class="icon-question-sign" tooltip="{{'label.tooltip.minimumDaysOrrPeriodsBetweenDisbursalAndFirstRepaymentType' | translate}}"
			   tooltip-append-to-body="true"></i>
		</label>
		<div class="col-sm-2">
			<select class="form-control input-xlarge"  ng-model="formData.minimumDaysOrrPeriodsBetweenDisbursalAndFirstRepaymentType"
					ng-options="o.id as o.name for o in minDurationType"  value="{{minimumDaysOrrPeriodsBetweenDisbursalAndFirstRepaymentType.id}}"
					ng-change="variableName(formData.minimumDaysOrrPeriodsBetweenDisbursalAndFirstRepaymentType)">
			</select>
		</div>
		<div class="col-sm-2" ng-show="minimumDaysBetweenDisbursalAndFirstRepaymentShow">
			<input id="minimumDaysBetweenDisbursalAndFirstRepayment" class="form-control"
				   placeholder="{{'label.input.number.of.days' | translate}}"
				   type="text" autocomplete="off"   ng-model="formData.minimumDaysBetweenDisbursalAndFirstRepayment">
		</div>
		<div class="col-sm-2" ng-show="minimumPeriodsBetweenDisbursalAndFirstRepaymentShow">
			<input id="minimumPeriodsBetweenDisbursalAndFirstRepayment" class="form-control"
				   placeholder="{{'label.input.number.of.repayment' | translate}}"
				   type="text" autocomplete="off"   ng-model="formData.minimumPeriodsBetweenDisbursalAndFirstRepayment">
		</div>

		<div class="col-sm-2">
        <label class="control-label col-sm-2">{{'label.heading.to' | translate }}</label>
	    </div>

	    <div class="col-sm-2" ng-show="maxDaysBetweenDisbursalAndFirstRepaymentShow">
        <input id="maxDaysBetweenDisbursalAndFirstRepayment" class="form-control"
               placeholder="{{'label.input.number.of.days' | translate}}"
               type="text" autocomplete="off"   ng-model="formData.maxDaysBetweenDisbursalAndFirstRepayment">
	    </div>
	    <div class="col-sm-2" ng-show="!maxDaysBetweenDisbursalAndFirstRepaymentShow">
	        <input id="maxPeriodsBetweenDisbursalAndFirstRepayment" class="form-control"
	               placeholder="{{'label.input.number.of.repayment' | translate}}"
	               type="text" autocomplete="off"   ng-model="formData.maxPeriodsBetweenDisbursalAndFirstRepayment">
	    </div>

	</div>
	<div class="form-group">
		<label class="control-label col-sm-2">{{ 'label.input.minimum.days.between.approval.and.disbursement' | translate }}</label>

		<div class="col-sm-2">
			<input id="minimumDaysBetweenApprovalAndDisbursement" class="form-control" placeholder="{{'label.input.number.of.days' | translate}}"
				   type="text" autocomplete="off" ng-model="formData.minimumDaysBetweenApprovalAndDisbursement">
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-6">
			<input type="checkbox" name="name1" ng-model="formData.isMinDurationApplicableForAllDisbursements"/>
			{{'label.input.minDurationapplicableforalldisbursements' | translate}}
		</div>
	</div>
	<div class="form-group">
			<div class="col-sm-6">
				<input type="checkbox" name="isGlim" ng-model="formData.isGlim"/>
				{{'label.input.isglimproduct' | translate}}
			</div>
	</div>
	<h3>{{ 'label.heading.settings' | translate }}</h3>
	<hr>
	<div class="form-group">
        <label class="control-label col-sm-2">{{ 'label.input.amortization' | translate }}<span class="required">*</span></label>
        <div class="col-sm-2">
            <select id="amortizationType" ng-model="formData.amortizationType" class="form-control"
                ng-options="amortizationType.id as amortizationType.value for amortizationType in product.amortizationTypeOptions"
                value="{{amortizationType.id}}"/>
    </div>
    <label class="control-label col-sm-3 col-sm-offset-1">{{ 'label.input.interestmethod' | translate }}<span
            class="required">*</span></label>

    <div class="col-sm-2">
        <select id="interestType" ng-model="formData.interestType" class="form-control"
                ng-options="interestType.id as interestType.value for interestType in product.interestTypeOptions"
                value="{{interestType.id}}"/>
    </div>
</div>
<div class="form-group" >
	<label class="control-label col-sm-2" ng-show="formData.amortizationType == 1">{{ 'label.input.installmenttcalculationperiod' | translate }}
		<i class="icon-question-sign" tooltip="{{'label.tooltip.installmenttcalculationperiod' | translate}}"
		   tooltip-append-to-body="true"></i>
	</label>

	<div class="col-sm-2" ng-show="formData.amortizationType == 1">
		<select id="installmentCalculationPeriodType" ng-model="formData.installmentCalculationPeriodType"
				class="form-control"
				ng-options="interestCalculationPeriodType.id as interestCalculationPeriodType.value for interestCalculationPeriodType in product.interestCalculationPeriodTypeOptions"
				value="{{interestCalculationPeriodType.id}}"></select>
	</div>

	<label class="control-label col-sm-3 col-sm-offset-1"  ng-show="formData.interestType == 0">{{ 'label.input.isflatinterestrate' | translate }}<span
			class="required">*</span>
		<i class="icon-question-sign" tooltip="{{'label.tooltip.isflatinterestrate' | translate}}"
		   tooltip-append-to-body="true"></i>
	</label>

	<div class="col-sm-2"   ng-show="formData.interestType == 0">
		<label class="checkbox control-label">
			<input id="isFlatInterestRate" type="checkbox"
				   ng-model="formData.isFlatInterestRate">
		</label>
	</div>
	<label class="control-label col-sm-3 col-sm-offset-1"  ng-show="formData.isFlatInterestRate">{{ 'label.input.considerTenureForIRRCalculation' | translate }}<span
            class="required">*</span>
    </label>

    <div class="col-sm-2"   ng-show="formData.isFlatInterestRate">
        <label class="checkbox control-label">
            <input id="considerTenureForIRRCalculation" type="checkbox"
                   ng-model="formData.considerTenureForIRRCalculation">
        </label>
    </div>
</div>
<div class="form-group">
    <label class="control-label col-sm-2">{{ 'label.input.interestcalculationperiod' | translate }}<span
            class="required">*</span>
        <i class="icon-question-sign" tooltip="{{'label.tooltip.interestcalculationperiod' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2">
        <select id="interestCalculationPeriodType" ng-model="formData.interestCalculationPeriodType"
                class="form-control"
                ng-options="interestCalculationPeriodType.id as interestCalculationPeriodType.value for interestCalculationPeriodType in product.interestCalculationPeriodTypeOptions"
                value="{{interestCalculationPeriodType.id}}"/>
    </div>
    <label class="control-label col-sm-3 col-sm-offset-1" ng-show="formData.interestCalculationPeriodType == 1">{{ 'label.input.allowpartialperiodinterestcalcualtion' | translate }}<span
            class="required">*</span>
        <i class="icon-question-sign" tooltip="{{'label.tooltip.allowpartialperiodinterestcalcualtion' | translate}}"
           tooltip-append-to-body="true"></i>
    </label>

    <div class="col-sm-2"  ng-show="formData.interestCalculationPeriodType == 1">
        <label class="checkbox control-label">
            <input id="allowPartialPeriodInterestCalcualtion" type="checkbox"
                   ng-model="formData.allowPartialPeriodInterestCalcualtion">
        </label>
    </div>
</div>


	<div class="form-group">
		<label class="control-label col-sm-2">{{ 'label.input.repaymentstrategy' | translate }}<span
				class="required">*</span></label>

		<div class="col-sm-2">
			<select id="transactionProcessingStrategyId" ng-model="formData.transactionProcessingStrategyId"
					class="form-control"
					ng-options="transactionProcessingStrategy.id as transactionProcessingStrategy.name for transactionProcessingStrategy in product.transactionProcessingStrategyOptions"
					value="{{transactionProcessingStrategy.id}}"/>
		</div>
		<label class="control-label col-sm-3 col-sm-offset-1"  ng-show="(formData.interestCalculationPeriodType == 0 || formData.allowPartialPeriodInterestCalcualtion)">{{ 'label.input.brokenperiodmethodtype' | translate }}
			<i class="icon-question-sign" tooltip="{{'label.tooltip.brokenperiodmethodtype' | translate}}"
			   tooltip-append-to-body="true"></i>
		</label>

		<div class="col-sm-2"  ng-show="(formData.interestCalculationPeriodType == 0 || formData.allowPartialPeriodInterestCalcualtion)">
			<select id="brokenPeriodMethodType" ng-model="formData.brokenPeriodMethodType"
					class="form-control"
					ng-options="brokenPeriodMethodType.id as brokenPeriodMethodType.value for brokenPeriodMethodType in product.brokenPeriodMethodTypeOptions"
					value="{{brokenPeriodMethodType.id}}"></select>
		</div>
	</div>
    <div class="form-group">
        <label class="control-label col-sm-2">{{ 'label.input.grace' | translate }}</label>
        <div class="col-sm-2">
            <input id="graceOnPrincipalPayment" class="form-control"
            	placeholder="{{'label.input.onprincipalpayment' | translate}}"
            	type="text" autocomplete="off" ng-model="formData.graceOnPrincipalPayment">
        </div>
        <div class="col-sm-2">
            <input id="graceOnInterestPayment" placeholder="{{'label.input.oninterestpayment' | translate}}"
               	type="text" autocomplete="off" class="form-control" ng-model="formData.graceOnInterestPayment">
        </div>
		<div class="col-sm-2" ng-hide="response.uiDisplayConfigurations.loanAccount.isHiddenField.recurringMoratoriumOnPrincipalPeriods">
            <input id="recurringMoratoriumOnPrincipalPeriods" placeholder="{{'label.input.recurringmoratoriumonprincipalperiods' | translate}}"
               	type="text" autocomplete="off" class="form-control" ng-model="formData.recurringMoratoriumOnPrincipalPeriods">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">{{ 'label.input.interestfreeperiod' | translate }}</label>
        <div class="col-sm-2">
            <input id="graceOnInterestCharged" type="text" autocomplete="off" class="form-control"	ng-model="formData.graceOnInterestCharged">
        </div>
        <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.arearstolerance' | translate }}</label>
        <div class="col-sm-2">
            <input id="inArrearsTolerance" type="text" autocomplete="off" class="form-control" number-format ng-model="formData.inArrearsTolerance">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">{{'label.input.daysinyears' | translate }}<span
                class="required">*</span></label>

        <div class="col-sm-2">
            <select id="daysInYearType" class="form-control" ng-model="formData.daysInYearType"
                    ng-options="type.id as type.value for type in product.daysInYearTypeOptions"
                    value="{{type.id}}"></select>
        </div>
        <label class="control-label col-sm-2 col-sm-offset-2">{{ 'label.input.daysinmonth' |
            translate }}<span class="required">*</span></label>

        <div class="col-sm-2">
            <select id="daysInMonthType" class="form-control" ng-model="formData.daysInMonthType"
                    ng-options="type.id as type.value for type in product.daysInMonthTypeOptions"
                    value="{{type.id}}"></select>
        </div>
    </div>
		<div class="form-group">
			<label class="control-label col-sm-2">{{'label.input.weeksinyears' | translate }}</label>
			<div class="col-sm-2">
				<select id="weeksInYearType" class="form-control" ng-model="formData.weeksInYearType"
						ng-options="type.id as type.value for type in product.weeksInYearTypeOptions"
						value="{{type.id}}"></select>
			</div>
		</div>
    <div class="form-group">
    	<label class="control-label col-sm-4">{{ 'label.input.no.of.overdue.days.to.move.loan.into.arrears'
                   | translate }}</label>
        <div class="col-sm-2">
            <input id="graceOnArrearsAgeing" class="form-control" placeholder="{{'label.input.onduedate' | translate}}"
             type="text" autocomplete="off" ng-model="formData.graceOnArrearsAgeing">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-4">{{ 'label.input.no.of.overdue.days.to.change.loan.into.npa'
                   | translate }}</label>
        <div class="col-sm-2">
            <input id="overdueDaysForNPA" class="form-control"
                          placeholder="{{'label.input.overduedaysfornpa' | translate}}"
                          type="text" autocomplete="off" ng-model="formData.overdueDaysForNPA">
	    </div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-4">{{'label.input.stop.loan.processing.on.npa'| translate }}<span class="required">*</span></label>
		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input id="stoploanprocessingonnpa" type="checkbox"
					   ng-model="formData.stopLoanProcessingOnNpa">
			</label>
		</div>
	</div>
    <div class="form-group" >
        <label class="control-label col-sm-4">{{'label.input.loan.account.moves.out.of.npa.only.on.arrears.completion'
            | translate }}<span class="required">*</span></label>


        <div class="col-sm-2">
            <label class="checkbox control-label">
                <input id="accountMovesOutOfNPAOnlyOnArrearsCompletion" type="checkbox"
                       ng-model="formData.accountMovesOutOfNPAOnlyOnArrearsCompletion">
            </label>
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-sm-4">{{ 'label.input.candefineinstallmentamount' | translate }}</label>

        <div class="col-sm-2">
            <label class="checkbox control-label">
                <input type="checkbox" ng-model="formData.canDefineInstallmentAmount"/>
            </label>
        </div>
    </div>
		<div class="form-group">
		<label class="control-label col-sm-4">{{ 'label.input.cancrossmaturitydate' | translate }}</label>

		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input type="checkbox" ng-model="canCrossMaturityDateOnFixingEMI"
					   checked="true"/>
			</label>
		</div>

	</div>
	<div class="form-group">
	    <label class="control-label col-sm-4">{{ 'label.input.calculateIrr' | translate }}
 			<i class="icon-question-sign" tooltip="{{'label.tooltip.calculateIrr' | translate}}"
           		tooltip-append-to-body="true"></i>
	    </label>

	    <div class="col-sm-2">
	        <label class="checkbox control-label">
	            <input type="checkbox" ng-model="formData.calculateIrr"/>
	        </label>
	    </div>
	</div>

	<div class="form-group">
		<label class="control-label col-sm-4">{{ 'label.input.maxemiallowed' | translate }}</label>

		<div class="col-sm-2">
			<input type="text" autocomplete="off" id="maxInstalmentAmount" class="form-control"
				   name="maxInstalmentAmount"
				   ng-model="formData.maxInstalmentAmount"/>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-4">{{ 'label.input.adjustfirstinstallmentamount' | translate }}</label>

		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input type="checkbox" ng-model="formData.adjustFirstEMIAmount"/>
			</label>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-4">{{ 'label.input.firstinstallmentinmultiplesof' | translate }}</label>

		<div class="col-sm-2">
			<input type="text" autocomplete="off" id="adjustedInstallmentInMultiplesOf" class="form-control"
				   name="adjustedInstallmentInMultiplesOf"
				   ng-model="formData.adjustedInstallmentInMultiplesOf"/>
		</div>
	</div>
		<div class="form-group" ng-show="!formData.adjustFirstEMIAmount">
			<label class="control-label col-sm-4">{{ 'label.input.adjustinterestamountforrounding' | translate }}</label>

			<div class="col-sm-2">
				<label class="checkbox control-label">
					<input type="checkbox" ng-model="formData.adjustInterestForRounding"/>
				</label>
			</div>
		</div>
	    <div class="form-group" ng-show="formData.adjustInterestForRounding">
	        <label class="control-label col-sm-4">{{ 'label.input.exclude.adjusted.rounded.amount.with.interest' | translate }}</label>

	        <div class="col-sm-2">
	            <label class="checkbox control-label">
	                <input type="checkbox" ng-model="formData.excludeAdjustedRoundedAmountWithInterest"/>
	            </label>
	        </div>
	    </div>
	    <div class="form-group">
        <label class="control-label col-sm-4">{{ 'label.input.preclose.emi.rounding' | translate }}</label>

        <div class="col-sm-2">
            <label class="checkbox control-label">
                <input type="checkbox" ng-model="formData.precloseEmiRounding"/>
            </label>
        </div>
    </div>
		<div class="form-group">
			<label class="control-label col-sm-4">{{ 'label.input.closeLoanOnOverpayment' | translate }}</label>

			<div class="col-sm-2">
				<label class="checkbox control-label">
					<input type="checkbox" ng-model="formData.closeLoanOnOverpayment"/>
				</label>
			</div>
		</div>

    <div class="form-group">
        <label class="control-label col-sm-4">{{ 'label.input.thresholdforlastinstallment' | translate }}</label>
        <div class="col-sm-2">
            <input id="principalThresholdForLastInstallment" type="text" autocomplete="off" class="form-control"	ng-model="formData.principalThresholdForLastInstallment">
        </div>
    </div>

		<div class="form-group">
			<label class="control-label col-sm-4">{{'label.input.isvariableinstallmentsallowed'
				| translate }}<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.variableinstallments' | translate}}"
								 tooltip-append-to-body="true"></i></label>

			<div class="col-sm-2">
				<label class="checkbox control-label">
					<input id="allowVariableInstallments" type="checkbox"
						   ng-model="formData.allowVariableInstallments">
				</label>
			</div>
		</div>

    <div class="form-group" ng-show="formData.allowVariableInstallments">
        <label class="control-label col-sm-2">{{ 'label.input.variableinstallments' | translate }}
        </label>

        <div class="col-sm-2">
            <input id="minimumgap" name="minimumgap" class="form-control" type="text" autocomplete="off"
                   ng-model="formData.minimumGap"
                   placeholder="{{'label.input.minimumgap' | translate}}" number-format/>
        </div>

        <div class="col-sm-2">
            <input id="maximumgap" name="maximumgap" class="form-control" type="text" autocomplete="off"
                   ng-model="formData.maximumGap"
                   placeholder="{{'label.input.maximumgap' | translate}}" number-format/>
        </div>
    </div>

	<div class="form-group">
		<label class="control-label col-sm-4">{{'label.input.syncExpectedWithDisbursementDate'
			| translate }} <i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.syncExpectedWithDisbursementDate' | translate}}"
							  tooltip-append-to-body="true"></i></label>

		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input id="syncExpectedWithDisbursementDate" type="checkbox"
					   ng-model="formData.syncExpectedWithDisbursementDate">
			</label>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-4">{{'label.input.canUseForTopup'  | translate }}
			<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.canUseForTopup' | translate}}"
			   tooltip-append-to-body="true"></i></label>

		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input id="canUseForTopup" type="checkbox"
					   ng-model="formData.canUseForTopup">
			</label>
		</div>
	</div>

	<div class="form-group">
		<label class="control-label col-sm-4">{{'label.input.allowupfrontcollection'  | translate }}</label>

		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input id="allowUpfrontCollection" type="checkbox"
					   ng-model="formData.allowUpfrontCollection">
			</label>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-4">{{ 'label.input.percentageffdisbursementtobetransfered' | translate }}</label>

		<div class="col-sm-2">
			<input id="percentageOfDisbursementToBeTransferred" type="text" autocomplete="off" class="form-control"
				   ng-model="formData.percentageOfDisbursementToBeTransferred">
		</div>
	</div>
	<div class="form-group" ng-if="allowLoanProductForGroupBankAccount">
		<label  class="control-label col-sm-4">{{ 'label.input.allowdisbursementtogroupbankaccounts' | translate }}
    		<i class="icon-question-sign" tooltip="{{'label.tooltip.allowdisbursementtogroupbankaccounts' | translate}}"
           tooltip-append-to-body="true"></i>
    	</label>

	    <div class="col-sm-2">
	        <input id="allowdisbursementtogroupbankaccounts" type="checkbox" ng-model="formData.allowDisbursementToGroupBankAccounts"/>
	       
	    </div>
	</div>
	<div class="form-group">
        <label class="control-label col-sm-4">{{'label.input.splitdisbursementforcharges'  | translate }}</label>

        <div class="col-sm-2">
            <label class="checkbox control-label">
                <input id="splitDisbursementForCharges" type="checkbox"
                       ng-model="formData.splitDisbursementForCharges">
            </label>
        </div>
    </div>

    <div class="form-group" ng-if="formData.splitDisbursementForCharges">
        <label class="control-label col-sm-4">{{'label.input.paymenttypeforchargeDisbursement'  | translate }}</label>
        <div class="col-sm-2">
            <select id="paymentTypeIdForChargeDisbursement" ng-model="formData.paymentTypeIdForChargeDisbursement" class="form-control"
                    ng-options="paymentType.id as paymentType.name for paymentType in product.paymentTypeOptions"
                    value="{{paymentType.id}}">
                <option value="">{{'label.menu.selectone' | translate}}</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-4">{{'label.input.disable.excess.amount.adjustment'  | translate }}</label>

        <div class="col-sm-2">
            <label class="checkbox control-label">
                <input id="disableAdjustExcessAmount" type="checkbox"
                       ng-model="formData.disableAdjustExcessAmount">
            </label>
        </div>
    </div>

    <h3>{{ 'label.heading.interestRecalculation' | translate }}</h3>
	<hr>
	<div class="form-group">
		<label class="control-label col-sm-2">{{ 'label.input.recalculateinterest' | translate }}</label>

		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input type="checkbox" ng-model="formData.isInterestRecalculationEnabled"/>
			</label>
		</div>
	</div>
    <div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
        <label class="control-label col-sm-2">{{'label.input.preclose.interest.calculation.strategy'
            | translate }}<span class="required">*</span>
        </label>

        <div class="col-sm-2">
            <select id="preClosureInterestCalculationStrategy" class="form-control"
                    ng-model="formData.preClosureInterestCalculationStrategy"
                    ng-options="type.id as type.code | translate for type in product.preClosureInterestCalculationStrategyOptions"
                    value="{{type.id}}"></select>
        </div>
        <label class="control-label col-sm-2 col-sm-offset-2">{{'label.input.interest.recalculation.reschdule.strategy'
            | translate }}<span class="required">*</span></label>

        <div class="col-sm-2">
            <select id="rescheduleStrategyMethod" class="form-control"
                    ng-model="formData.rescheduleStrategyMethod"
                    ng-options="type.id as type.value for type in product.rescheduleStrategyTypeOptions"
                    value="{{type.id}}"></select>
        </div>
    </div>

    <div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
		<label class="control-label col-sm-2">{{'label.input.interest.recalculation.compounding.method'
			| translate }}<span class="required">*</span></label>

		<div class="col-sm-2">
			<select id="interestRecalculationCompoundingMethod" class="form-control"
					ng-model="formData.interestRecalculationCompoundingMethod"
					ng-options="type.id as type.value for type in product.interestRecalculationCompoundingTypeOptions"
					value="{{type.id}}"></select>
		</div>
	</div>

	<div class="form-group"
		 data-ng-show="formData.isInterestRecalculationEnabled && formData.interestRecalculationCompoundingMethod != 0">
		<label class="control-label col-sm-2">{{ 'label.input.compounding.posted.as.interest' | translate }}</label>

		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input type="checkbox" ng-model="formData.isCompoundingToBePostedAsTransaction"/>
			</label>
		</div>
	</div>

    <div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled && formData.interestRecalculationCompoundingMethod != 0">
        <label class="control-label col-sm-2">{{'label.input.frequency.for.compounding'
            | translate }}<span class="required">*</span>
            <i class="icon-question-sign" tooltip="{{'label.tooltip.frequencytocompounding' | translate}}" tooltip-append-to-body="true"></i>
        </label>

        <div class="col-sm-2">
            <select id="recalculationCompoundingFrequencyType" class="form-control"
                    ng-model="formData.recalculationCompoundingFrequencyType"
                    ng-options="type.id as type.value for type in product.interestRecalculationFrequencyTypeOptions"
                    value="{{type.id}}"></select>
        </div>

		<div>
			<div class="col-sm-2" data-ng-show="formData.recalculationCompoundingFrequencyType == 4">
				<select id="recalculationCompoundingFrequencyNthDayType" class="form-control" ng-model="formData.recalculationCompoundingFrequencyNthDayType"
						ng-options="recalculationCompoundingFrequencyNthDayType.id as recalculationCompoundingFrequencyNthDayType.value for recalculationCompoundingFrequencyNthDayType in product.interestRecalculationNthDayTypeOptions"
						value="{{recalculationCompoundingFrequencyNthDayType.id}}"><option value=""></option><option value="onDay">On day</option></select>&nbsp;
			</div>
			<div class="col-sm-2" data-ng-show="(formData.recalculationCompoundingFrequencyType == 4 && formData.recalculationCompoundingFrequencyNthDayType != -2) || formData.recalculationCompoundingFrequencyType == 3">
				<select id="recalculationCompoundingFrequencyDayOfWeekType" class="form-control" ng-model="formData.recalculationCompoundingFrequencyDayOfWeekType"
						ng-options="recalculationCompoundingFrequencyDayOfWeekType.id as recalculationCompoundingFrequencyDayOfWeekType.value for recalculationCompoundingFrequencyDayOfWeekType in product.interestRecalculationDayOfWeekTypeOptions"
						value="{{recalculationCompoundingFrequencyDayOfWeekType.id}}"><option value="">DAY</option></select>&nbsp;
			</div>
			<div class="col-sm-2" data-ng-show="formData.recalculationCompoundingFrequencyType == 4 && formData.recalculationCompoundingFrequencyNthDayType == -2">
				<select id="recalculationCompoundingFrequencyOnDayType" class="form-control" ng-model="formData.recalculationCompoundingFrequencyOnDayType"
						ng-options="recalculationCompoundingFrequencyOnDayType as recalculationCompoundingFrequencyOnDayType for recalculationCompoundingFrequencyOnDayType in interestRecalculationOnDayTypeOptions"
						value="{{recalculationCompoundingFrequencyOnDayType}}"></select>&nbsp;
			</div>
		</div>
    </div>
    <div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled && formData.interestRecalculationCompoundingMethod != 0
        && formData.recalculationCompoundingFrequencyType != 1">
        <label class="control-label col-sm-2">{{'label.input.frequenc.interval.for.compounding'
            | translate }}<span class="required">*</span>
            <i class="icon-question-sign" tooltip="{{'label.tooltip.frequencycompoundinginterval' | translate}}" tooltip-append-to-body="true"></i>
        </label>

        <div class="col-sm-2">
            <input id="recalculationCompoundingFrequencyInterval" type="text" autocomplete="off" class="form-control" ng-model="formData.recalculationCompoundingFrequencyInterval">
        </div>
		<div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled && formData.interestRecalculationCompoundingMethod != 0
        && (formData.recalculationCompoundingFrequencyType != 0 && formData.recalculationCompoundingFrequencyType != 2)">
			<label class="control-label col-sm-2">{{'label.input.allow.compounding.on.eod'
				| translate }}<span class="required">*</span>
				<i class="icon-question-sign" tooltip="{{'label.tooltip.loanproduct.enablecompoundingoneod' | translate}}" tooltip-append-to-body="true"></i>
			</label>
			<div class="col-sm-2">
				<input id="allowCompoundingOnEod" type="checkbox" ng-model="formData.allowCompoundingOnEod"/>
			</div>
		</div>
	</div>

    <div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
		<label class="control-label col-sm-2">{{'label.input.frequency.for.recalculte.outstanding.principal'
			| translate }}<span class="required">*</span></label>

		<div class="col-sm-2">
			<select id="recalculationRestFrequencyType" class="form-control"
					ng-model="formData.recalculationRestFrequencyType"
					ng-options="type.id as type.value for type in product.interestRecalculationFrequencyTypeOptions"
					value="{{type.id}}"></select>
		</div>

		<div>
			<div class="col-sm-2" data-ng-show="formData.recalculationRestFrequencyType == 4">
				<select id="recalculationRestFrequencyNthDayType" class="form-control" ng-model="formData.recalculationRestFrequencyNthDayType"
						ng-options="recalculationRestFrequencyNthDayType.id as recalculationRestFrequencyNthDayType.value for recalculationRestFrequencyNthDayType in product.interestRecalculationNthDayTypeOptions"
						value="{{recalculationRestFrequencyNthDayType.id}}"><option value=""></option></select>&nbsp;
			</div>
			<div class="col-sm-2" data-ng-show="(formData.recalculationRestFrequencyType == 4 && formData.recalculationRestFrequencyNthDayType != -2) || formData.recalculationRestFrequencyType == 3">
				<select id="recalculationRestFrequencyDayOfWeekType" class="form-control" ng-model="formData.recalculationRestFrequencyDayOfWeekType"
						ng-options="recalculationRestFrequencyDayOfWeekType.id as recalculationRestFrequencyDayOfWeekType.value for recalculationRestFrequencyDayOfWeekType in product.interestRecalculationDayOfWeekTypeOptions"
						value="{{recalculationRestFrequencyDayOfWeekType.id}}"><option value="">DAY</option></select>&nbsp;
			</div>
			<div class="col-sm-2" data-ng-show="formData.recalculationRestFrequencyType == 4 && formData.recalculationRestFrequencyNthDayType == -2">
				<select id="recalculationRestFrequencyOnDayType" class="form-control" ng-model="formData.recalculationRestFrequencyOnDayType"
						ng-options="recalculationRestFrequencyOnDayType as recalculationRestFrequencyOnDayType for recalculationRestFrequencyOnDayType in interestRecalculationOnDayTypeOptions"
						value="{{recalculationRestFrequencyOnDayType}}"></select>&nbsp;
			</div>
		</div>
	</div>
    <div class="form-group" data-ng-if="formData.isInterestRecalculationEnabled && formData.recalculationRestFrequencyType != 1">
        <label class="control-label col-sm-2">{{'label.input.frequenc.interval.for.recalculte.outstanding.principal'
            | translate }}<span class="required">*</span></label>
        <div class="col-sm-2">
            <input id="recalculationRestFrequencyInterval" name="recalculationRestFrequencyInterval" type="text" autocomplete="off" class="form-control" ng-model="formData.recalculationRestFrequencyInterval" required late-Validate/>
        </div>
        <div class="col-sm-2">
            <form-validate valattributeform="editloanproductform" valattribute="recalculationRestFrequencyInterval"/>
        </div>
	</div>
    <div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
        <label class="control-label col-sm-2">{{'label.input.arrearsbasedonoriginalschedule'
            | translate }}<span class="required">*</span></label>

        <div class="col-sm-2">
            <label class="checkbox control-label">
                <input id="isArrearsBasedOnOriginalSchedule" type="checkbox"
                       ng-model="formData.isArrearsBasedOnOriginalSchedule">
            </label>
        </div>
    </div>
	<div class="form-group" data-ng-show="formData.isInterestRecalculationEnabled">
		<label class="control-label col-sm-2">{{'label.input.issubsidyapplicable' | translate}}</label>
		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input id="isSubsidyApplicable" name="isSubsidyApplicable" type="checkbox"
					   ng-model="formData.isSubsidyApplicable">
			</label>
		</div>
	</div>
	<h3>{{ 'label.heading.gauranteeRequirements' | translate }}</h3>
	<hr>
	<div class="form-group">
		<label class="control-label col-sm-2">{{ 'label.input.holdguaranteefunds' | translate }}</label>
		<div class="col-sm-2">
			<label class="checkbox control-label">
				<input type="checkbox" ng-model="formData.holdGuaranteeFunds"/>
			</label>
		</div>
	</div>

	<div class="form-group" data-ng-show="formData.holdGuaranteeFunds">
		<label class="control-label col-sm-2">{{'label.input.mandatory.guarantee'
			| translate }}<span class="required">*</span></label>

		<div class="col-sm-2">
			<input id="mandatoryGuarantee" type="text" autocomplete="off" class="form-control" ng-model="formData.mandatoryGuarantee"/>

		</div>
	</div>

	<div class="form-group" data-ng-show="formData.holdGuaranteeFunds">
		<label class="control-label col-sm-2">{{'label.input.minimum.guarantee.from.own.funds'
			| translate }}</label>

		<div class="col-sm-2">
			<input id="minimumGuaranteeFromOwnFunds" type="text" autocomplete="off" class="form-control" ng-model="formData.minimumGuaranteeFromOwnFunds"/>

		</div>
		<label class="control-label col-sm-2 col-sm-offset-2">{{'label.input.minimum.guarantee.from.guarantor'
			| translate }}</label>

		<div class="col-sm-2"><input id="minimumGuaranteeFromGuarantor" type="text" autocomplete="off" class="form-control" ng-model="formData.minimumGuaranteeFromGuarantor"/>
		</div>
	</div>

		<h3>{{ 'label.heading.tranchedetails' | translate }}</h3>
	<hr>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.multidisburseloan' | translate }}</label>
	    <div class="checkbox col-sm-2">
	        <label>
	            <input type="checkbox" ng-model="formData.multiDisburseLoan"/>
	        </label>
	    </div>
	</div>
		<div class="form-group" ng-show="formData.multiDisburseLoan">
			<label class="control-label col-sm-2">{{ 'label.input.consideralldisbursementsinloanschedule' | translate }}
			</label>
			<div class="checkbox col-sm-2">
				<label>
					<input type="checkbox" ng-model="formData.considerAllDisbursementsInSchedule" />
				</label>
			</div>

			<label class="control-label col-sm-3">{{ 'label.input.considerfuturedisbursementsinloanschedule' | translate }}
			</label>
			<div class="checkbox col-sm-2">
				<label>
					<input type="checkbox" ng-model="formData.considerFutureDisbursementsInSchedule" />
				</label>
			</div>
		</div>
		<div class="form-group" ng-show="formData.multiDisburseLoan">
			<label class="control-label col-sm-2">{{ 'label.input.allownegativeloanbalances' | translate }}
			</label>
			<div class="checkbox col-sm-2">
				<label>
					<input type="checkbox" ng-model="formData.allowNegativeLoanBalance" />
				</label>
			</div>

		</div>
	<div class="form-group" ng-show="formData.multiDisburseLoan">

		<label class="control-label col-sm-2">{{ 'label.input.islimittranche' | translate }}
			<i class="icon-question-sign" tooltip="{{'label.tooltip.isMultiDisburseLoan' | translate}}"
			   tooltip-append-to-body="true"></i>
		</label>

		<div class="checkbox col-sm-2">
			<label>
				<input type="checkbox" ng-model="isLimitTrnache"/>
			</label>
		</div>
		<div ng-show="isLimitTrnache" class="col-sm-2">
			<input ng-show="isLimitTrnache" type="text" autocomplete="off" class="form-control" id="maxTrancheCount" name="maxTrancheCount"
				   ng-model="formData.maxTrancheCount"/>
		</div>

		<label class="control-label col-sm-3 col-sm-offset-1">{{ 'label.input.outstandingloanbalance' | translate }}
			<i class="icon-question-sign" tooltip="{{'label.tooltip.maxAllowedOutstandingBalance' | translate}}"
			   tooltip-append-to-body="true"></i>
		</label>
	    <div class="col-sm-2">
	        <input type="text" autocomplete="off" class="form-control" id="outstandingLoanBalance"
	               name="outstandingLoanBalance" number-format ng-model="formData.outstandingLoanBalance"/>
	    </div>
	</div>
		<div class="form-group" ng-show="formData.multiDisburseLoan">
			<label class="control-label col-sm-2">{{ 'label.input.enableemibaseddisbursements' | translate }}
				<i class="icon-question-sign" tooltip="{{'label.tooltip.emibasedondisbursements' | translate}}"
				   tooltip-append-to-body="true"></i>
			</label>

			<div class="checkbox col-sm-2">
				<label>
					<input type="checkbox" ng-model="formData.isEmiBasedOnDisbursements" />
				</label>
			</div>
		</div>


		<div class="form-group" ng-show="formData.multiDisburseLoan">
			<h4>{{ 'label.heading.loanaccountclosure' | translate }}</h4>

			<div class="col-sm-4">
				<div class="radio" ng-repeat="trancheLoanClosureType in trancheLoanClosureTypeOptions">
					<label>
						<input type="radio"  ng-model="formData.trancheLoanClosureType"
							   ng-value="trancheLoanClosureType.id"> {{trancheLoanClosureType.code | translate}}
					</label>
				</div>
			</div>
		</div>
		<div class="form-group" ng-show="formData.multiDisburseLoan">
			<h4>{{ 'label.heading.loandisbursementamountlimit' | translate }}</h4>

			<div class="col-sm-4">
				<div class="radio" ng-repeat="trancheAmountLimitType in trancheAmountLimitTypeOptions">
					<label>
						<input type="radio"  ng-model="formData.trancheAmountLimitType"
							   ng-value="trancheAmountLimitType.id"> {{trancheAmountLimitType.code | translate}}
					</label>
				</div>
			</div>
		</div>
		<h3>{{ 'label.heading.configurableAttributes' | translate }}</h3>
		<hr>
		<div class="form-group">
			<label class="control-label col-sm-2 width20">{{ 'label.input.isConfigLoanAttributes' | translate }}</label>
			<div class="checkbox col-sm-2">
				<label>
					<input type="checkbox" ng-model="allowAttributeConfiguration" ng-change="setAttributeValues()"/>
				</label>
			</div>
		</div>
		<div class="form-group" ng-show="allowAttributeConfiguration">
			<label class="control-label col-sm-1 width20">{{ 'label.input.amortization' | translate }}</label>
			<div class="col-sm-2">
				<input type="checkbox" ng-model="amortization"/>
			</div>
			<label class="control-label col-sm-2">{{ 'label.input.interestmethod' | translate }}</label>
			<div class="col-sm-2">
				<input type="checkbox" ng-model="interestMethod"/>
			</div>
		</div>
		<div class="form-group" ng-show="allowAttributeConfiguration">
			<label class="control-label col-sm-1 width20">{{ 'label.input.repaymentstrategy' | translate }}</label>
			<div class="col-sm-2">
				<input type="checkbox" ng-model="transactionProcessingStrategy"/>
			</div>
			<label class="control-label col-sm-2 ">{{ 'label.input.interestcalculationperiod' | translate }}</label>
			<div class="col-sm-2">
				<input type="checkbox" ng-model="interestCalcPeriod"/>
			</div>
		</div>
		<div class="form-group" ng-show="allowAttributeConfiguration">

			<label class="control-label col-sm-1 width20">{{ 'label.input.arearstolerance' | translate }}</label>
			<div class="col-sm-2">
				<input type="checkbox" ng-model="arrearsTolerance"/>
			</div>
			<label class="control-label col-sm-2">{{ 'label.input.repaidevery' | translate }}</label>
			<div class="col-sm-2">
				<input type="checkbox" ng-model="repaymentFrequency"/>
			</div>
		</div>
		<div class="form-group" ng-show="allowAttributeConfiguration">

			<label class="control-label col-sm-1 width20">{{ 'label.input.grace' | translate }}</label>
			<div class="col-sm-2">
				<input type="checkbox" ng-model="graceOnPrincipalAndInterest"/>
			</div>
			<label class="control-label col-sm-2">{{ 'label.input.no.of.overdue.days.to.move.loan.into.arrears' | translate }}</label>
			<div class="col-sm-2">
				<input type="checkbox" ng-model="graceOnArrearsAging"/>
			</div>
		</div>
	<h3>{{ 'label.heading.charges' | translate }}</h3>
	<hr>
	<div class="form-group">
	    <div class="col-sm-3">
	        <select id="chargeId" ng-model="chargeId" class="form-control"
	                ng-options="charge.id as charge.name for charge in product.chargeOptions | filter:formData.currencyCode:strict"
	                value="{{charge.id}}">
	            <option class="displaynone" value="">{{'label.selectcharge' | translate}}</option>
	        </select>
	    </div>
	    <div class="col-sm-1">
	        <button type="button" class="btn btn-primary"
	                ng-click="chargeSelected(chargeId)">{{ 'label.button.add' | translate }}
	        </button>
	    </div>
	</div>
	<div class="form-group col-md-12">
	    <table class="table width100">
	        <tr class="graybg">
	            <th>{{'label.heading.name' | translate}}</th>
	            <th>{{'label.heading.type' | translate}}</th>
	            <th></th>
	            <th>{{'label.heading.amount' | translate}}</th>
	            <th></th>
	            <th>{{'label.heading.collectedon' | translate}}</th>
	            <th></th>
	            <th>{{'label.heading.date' | translate}}</th>
	            <th>{{'label.checkbox.ismandatory' | translate}}</th>
				<th>{{'label.checkbox.ischargeamountnoneditable' | translate}}</th>
	            <th>{{'label.heading.actions' | translate}}</th>
	        </tr>
	        <tr ng-repeat="charge in charges" ng-hide="charge.penalty">
	            <td>{{charge.name}},{{charge.currency.displaySymbol}}</td>
	            <td>{{charge.chargeCalculationType.value}}</td>
	            <td></td>
	            <td>{{charge.amount|number}}</td>
	            <td></td>
	            <td>{{charge.chargeTimeType.value}}</td>
	            <td></td>
	            <td></td>
				<td><input type="checkbox" ng-model="charge.isMandatory"/></td>
				<td><input type="checkbox" ng-model="charge.isAmountNonEditable"/></td>
	            <td><a ng-click="deleteCharge($index)"><i class="icon-remove icon-white"></i></a></td>
	        </tr>
	    </table>
	</div>
	<h3>{{ 'label.heading.overduepenalitycharge' | translate }}</h3>
	<hr>
	<div class="form-group">
	    <div class="col-sm-3">
	        <select id="penalityId" ng-model="penalityId" class="form-control"
	                ng-options="penality.id as penality.name for penality in overduecharges  | filter:formData.currencyCode:strict"
	                value="{{penality.id}}">
	            <option class="displaynone" value="">{{'label.selectoverduecharge' | translate}}</option>
	        </select>
	    </div>
	    <div class="col-sm-1">
	        <button type="button" class="btn btn-primary"
	                ng-click="chargeSelected(penalityId)">{{ 'label.button.add' | translate }}
	        </button>
	    </div>
	</div>
	<div class="form-group col-md-12">
	    <table class="table width100">
	        <tr class="graybg">
	            <th>{{'label.heading.name' | translate}}</th>
	            <th>{{'label.heading.type' | translate}}</th>
	            <th></th>
	            <th>{{'label.heading.amount' | translate}}</th>
	            <th></th>
	            <th>{{'label.heading.collectedon' | translate}}</th>
	            <th></th>
	            <th>{{'label.heading.date' | translate}}</th>
				<th>{{'label.checkbox.ismandatory' | translate}}</th>
				<th>{{'label.checkbox.ischargeamountnoneditable' | translate}}</th>
	            <th>{{'label.heading.actions' | translate}}</th>
	        </tr>
	        <tr ng-repeat="charge in charges" ng-show="charge.penalty">
	            <td>{{charge.name}},{{charge.currency.displaySymbol}}</td>
	            <td>{{charge.chargeCalculationType.value}}</td>
	            <td></td>
	            <td>{{charge.amount|number}}</td>
	            <td></td>
	            <td>{{charge.chargeTimeType.value}}</td>
	            <td></td>
	            <td></td>
				<td><input type="checkbox" ng-model="charge.isMandatory"/></td>
				<td><input type="checkbox" ng-model="charge.isAmountNonEditable"/></td>
	            <td><a ng-click="deleteCharge($index)"><i class="icon-remove icon-white"></i></a></td>
	        </tr>
	    </table>
	</div>
	<h3>{{ 'label.heading.accounting' | translate }}</h3>
	<hr>
	<div class="radio-inline">
		<label>
			<input type="radio" ng-model="formData.accountingRule" value="1" ng-change="resetStatus()" />{{'label.input.none' |
			translate}}
		</label>
	</div>
	<div class="radio-inline">
		<label>
			<input type="radio" ng-model="formData.accountingRule" value="2" ng-change="resetStatus()" />{{'label.input.cash' |
			translate}}
		</label>
	</div>
	<div class="radio-inline">
		<label>
			<input type="radio" ng-model="formData.accountingRule" value="3" ng-change="resetStatus()" />{{'label.input.periodicaccrual'
			| translate}}
		</label>
	</div>
	<div class="radio-inline">
		<label>
			<input type="radio" ng-model="formData.accountingRule" value="4" ng-change="resetStatus()" />{{'label.input.upfrontaccrual'
			| translate}}
		</label>
	</div>
	<hr>
	<div class="form-group" ng-show="isAccountingEnabled()">
		<label class="control-label col-sm-2 width40">{{ 'label.input.enable.overdue.accounting' | translate }}</label>
	
		<div class="checkbox col-sm-2">
			<label>
				<input type="checkbox" ng-model="formData.isOverdueAccountingEnabled" />
			</label>
		</div>
	</div>
	<div class="form-group" ng-show="isPeriodicAccrualAccountingEnabled() && isIRDEnabledConfig">
		<label class="control-label col-sm-2 width40">{{ 'label.input.enable.accrual.interest.receivable.notdue.due' |
			translate }}</label>
	
		<div class="checkbox col-sm-2">
			<label>
				<input type="checkbox" ng-model="formData.isIRDEnabled" ng-change="changelabel(formData.isIRDEnabled)" />
			</label>
		</div>
	</div>
	<div class="col-md-12" ng-show="isAccountingEnabled()">
	<div class="form-group">
	    <h4>{{"label.heading.assets" | translate}}</h4>
	    <label class="control-label col-sm-2">{{ 'label.input.fundsource' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.fundsource' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="fundSourceAccountId" ng-model="formData.fundSourceAccountId" chosen="assetAccountOptions"
	                ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
	                value="{{assetAccount.id}}">
	        </select>
	    </div>
	    <label class="control-label col-sm-2">{{ 'label.input.loanportfolio' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.loanportfolio' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="loanPortfolioAccountId" class="form-control" ng-model="formData.loanPortfolioAccountId"
	                chosen="assetAccountOptions"
	                ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
	                value="{{assetAccount.id}}">
	        </select>
	    </div>
	</div>
	<div class="form-group" ng-show="isAccrualAccountingEnabled()">
	    <label class="control-label col-sm-2">{{ interestReceivableLabel | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.receivableinterest' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="receivableInterestAccountId" class="form-control"
	                ng-model="formData.receivableInterestAccountId" chosen="assetAndLiabilityAccountOptions"
	                ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAndLiabilityAccountOptions"
	                value="{{assetAccount.id}}">
	        </select>
	    </div>
	    <label class="control-label col-sm-2">{{ 'label.input.receivablefees' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.receivablefees' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="receivableFeeAccountId" ng-model="formData.receivableFeeAccountId"
	                chosen="assetAccountOptions"
	                ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
	                value="{{assetAccount.id}}">
	        </select>
	    </div>
	</div>
	<div class="form-group" ng-show="isAccrualAccountingEnabled()">
	    <label class="control-label col-sm-2">{{ 'label.input.receivablepenalties' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.receivablepenalties' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="receivablePenaltyAccountId" ng-model="formData.receivablePenaltyAccountId"
	                chosen="assetAccountOptions"
	                ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
	                value="{{assetAccount.id}}">
	        </select>
		</div>
		<div ng-show="formData.isIRDEnabled">
			<label class="control-label col-sm-2">{{ 'label.input.interest.receivable.and.due' | translate }}<span class="required">*</span></label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.overdueloanportfolio' | translate}}"></i>
			<div class="col-sm-3">
				<select id="interestReceivableAndDueAccountId" ng-model="formData.interestReceivableAndDueAccountId" chosen="assetLiabilityAndIncomeAccountOptions"
				 ng-options="assetLiabilityAndIncomeAccount.id as (assetLiabilityAndIncomeAccount.name +' ('+ assetLiabilityAndIncomeAccount.glCode +')') for assetLiabilityAndIncomeAccount in assetLiabilityAndIncomeAccountOptions"
				 value="{{assetLiabilityAndIncomeAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
				</select>
			</div>
		</div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.transfersinsuspense' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.transfersinsuspense' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="transfersInSuspenseAccountId" ng-model="formData.transfersInSuspenseAccountId"
	                chosen="assetAccountOptions"
	                ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
	                value="{{assetAccount.id}}">
	        </select>
	    </div>
		<label class="control-label col-sm-2">{{ 'label.input.valuedatesuspense' | translate }}<span class="required">*</span></label>
		<i class="icon-question-sign col-sm-1 icon-white"
		   tooltip="{{'label.tooltip.valuedatesuspense' | translate}}"></i>
		<div class="col-sm-3">
			<select id="valueDateSuspenseAccountId" ng-model="formData.valueDateSuspenseAccountId"
					chosen="assetAccountOptions"
					ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
					value="{{assetAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
			</select>
		</div>
	</div>
	<hr>
	<div class="form-group">
	    <h4>{{"label.heading.income" | translate}}</h4>
	    <label class="control-label col-sm-2">{{ 'label.input.incomefrominterest' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.incomefrominterest' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="interestOnLoanAccountId" ng-model="formData.interestOnLoanAccountId"
	                chosen="incomeAccountOptions"
	                ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAccountOptions"
	                value="{{incomeAccount.id}}">
	        </select>
	    </div>
	    <label class="control-label col-sm-2">{{ 'label.input.incomefromfees' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.incomefromfees' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="incomeFromFeeAccountId" ng-model="formData.incomeFromFeeAccountId"
	                chosen="incomeAccountOptions"
	                ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAccountOptions"
	                value="{{incomeAccount.id}}">
	        </select>
	    </div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.incomefrompenalties' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.incomefrompenalties' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="incomeFromPenaltyAccountId" ng-model="formData.incomeFromPenaltyAccountId"
	                chosen="incomeAccountOptions"
	                ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAccountOptions"
	                value="{{incomeAccount.id}}">
	        </select>
	    </div>
	    <label class="control-label col-sm-2">{{ 'label.input.recoverypayments' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.recoverypayments' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="incomeFromRecoveryAccountId" ng-model="formData.incomeFromRecoveryAccountId"
	                chosen="incomeAccountOptions"
	                ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAccountOptions"
	                value="{{incomeAccount.id}}">
	        </select>
	    </div>
	</div>
	<div class="form-group">
	    <label class="control-label col-sm-2">{{ 'label.input.lossandgainfromadjustment' | translate }}<span class="required">*</span></label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.lossandgainfromadjustment' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="lossGainWithAdjustmentAccountId" ng-model="formData.lossGainWithAdjustmentAccountId"
	                chosen="incomeAccountOptions"
	                ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAccountOptions"
	                value="{{incomeAccount.id}}">
	                <option value="">{{'label.menu.selectone'| translate }}</option>
	        </select>
		</div>
	</div>
	<hr>
	<div class="form-group">
	    <h4>{{"label.heading.expenses" | translate}}</h4>
	    <label class="control-label col-sm-2">{{ 'label.input.loseswrittenoff' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.loseswrittenoff' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="writeOffAccountId" ng-model="formData.writeOffAccountId" chosen="expenseAccountOptions"
	                ng-options="expenseAccount.id as (expenseAccount.name +' ('+ expenseAccount.glCode +')') for expenseAccount in expenseAccountOptions"
	                value="{{expenseAccount.id}}">
	        </select>
	    </div>
	</div>
	<hr>
	<div class="form-group">
	    <h4>{{"label.heading.liabilities" | translate}}</h4>
	    <label class="control-label col-sm-2">{{ 'label.input.overpaymentliability' | translate }}</label>
	    <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.overpaymentliability' | translate}}"></i>
	    <div class="col-sm-3">
	        <select id="overpaymentLiabilityAccountId" ng-model="formData.overpaymentLiabilityAccountId"
	                chosen="liabilityAccountOptions"
	                ng-options="liabilityAccount.id as (liabilityAccount.name +' ('+ liabilityAccount.glCode +')') for liabilityAccount in liabilityAccountOptions"
	                value="{{liabilityAccount.id}}">
	        </select>
	    </div>
		<label class="control-label col-sm-2" ng-show="isPeriodicAccrualAccountingEnabled()">{{ 'label.input.npainterestsuspense' | translate }}<span class="required">*</span></label>
		<i ng-show="isPeriodicAccrualAccountingEnabled()" class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.npainterestsuspense' | translate}}"></i>

		<div class="col-sm-3" ng-show="isPeriodicAccrualAccountingEnabled()">
			<select id="npaInterestSuspenseAccountId" ng-model="formData.npaInterestSuspenseAccountId"
					chosen="incomeAndLiabilityAccountOptions"
					ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAndLiabilityAccountOptions"
					value="{{incomeAccount.id}}">
				<option value="">{{'label.menu.selectone'| translate }}</option>
			</select>
		</div>
	</div>
		<div class="form-group"  ng-show="isPeriodicAccrualAccountingEnabled()">
			<label class="control-label col-sm-2">{{ 'label.input.npafeessuspense' | translate }}<span class="required">*</span></label>
			<i class="icon-question-sign col-sm-1 icon-white"
			   tooltip="{{'label.tooltip.npafeessuspense' | translate}}"></i>

			<div class="col-sm-3">
				<select id="npaFeeSuspenseAccountId" ng-model="formData.npaFeeSuspenseAccountId"
						chosen="incomeAndLiabilityAccountOptions"
						ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAndLiabilityAccountOptions"
						value="{{incomeAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
				</select>
			</div>

			<label class="control-label col-sm-2">{{ 'label.input.npapenaltiessuspense' | translate }}<span class="required">*</span></label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.npapenaltiessuspense' | translate}}"></i>

			<div class="col-sm-3">
				<select id="npaPenaltySuspenseAccountId" ng-model="formData.npaPenaltySuspenseAccountId"
						chosen="incomeAndLiabilityAccountOptions"
						ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAndLiabilityAccountOptions"
						value="{{incomeAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
				</select>
			</div>

		</div>
		<div class="form-group">
			<label class="control-label col-sm-2">{{ 'label.input.valuedatesuspensepayable' | translate }}<span class="required">*</span></label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.valuedatesuspensepayable' | translate}}"></i>
	
			<div class="col-sm-3">
				<select id="valueDateSuspensePayableAccountId" ng-model="formData.valueDateSuspensePayableAccountId"
						chosen="liabilityAccountOptions"
						ng-options="liabilityAccount.id as (liabilityAccount.name +' ('+ liabilityAccount.glCode +')') for liabilityAccount in liabilityAccountOptions"
						value="{{liabilityAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
				</select>
			</div>
			<div ng-show="formData.disableAdjustExcessAmount">
			<label class="control-label col-sm-2">{{ 'label.input.excesspaymentliability' | translate }}<span ng-if ="formData.disableAdjustExcessAmount" class="required">*</span></label>
             <i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.excesspaymentliability' | translate}}"></i>

            <div class="col-sm-3">
                <select id="excessPaymentLiabilityAccountId" ng-model="formData.excessPaymentLiabilityAccountId"
                    chosen="liabilityAccountOptions"
                    ng-options="liabilityAccount.id as (liabilityAccount.name +' ('+ liabilityAccount.glCode +')') for liabilityAccount in liabilityAccountOptions"
                    value="{{liabilityAccount.id}}">
                    <option value="">{{'label.menu.selectone'| translate }}</option>
                </select>
            </div>
            </div>
		</div>
	<hr>
	<div class="form-group" ng-if="formData.isSubsidyApplicable && isAccountingEnabled()">
		<h3>{{'label.heading.subsidy' | translate}}
		</h3>
		<div class="form-group">
			<label class="control-label col-sm-2">{{ 'label.input.subsidyFundSource' | translate }}</label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.input.subsidyFundSource' | translate}}"></i>
			<div class="col-sm-2">
				<select id="subsidyFundSource" ng-model="formData.subsidyFundSourceId" chosen="liabilityAccountOptions"
						ng-options="liabilityAccount.id as (liabilityAccount.name +' ('+ liabilityAccount.glCode +')') for liabilityAccount in liabilityAccountOptions"
						value="{{liabilityAccount.id}}">
				</select>
			</div>
			<label class="control-label col-sm-3 col-sm-offset-1">{{ 'label.input.subsidyAccount' | translate}}</label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.input.subsidyAccount' | translate}}"></i>
			<div class="col-sm-2">
				<select id="subsidyAccount" ng-model="formData.subsidyAccountId" chosen="assetAccountOptions"
						ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
						value="{{assetAccount.id}}">
				</select>
			</div>
		</div>
	</div>
	<div class="form-group" ng-show="formData.isOverdueAccountingEnabled">
		<h3>{{'label.heading.overdue' | translate}}
		</h3>
	
		<div class="form-group">
			<label class="control-label col-sm-2">{{ 'label.input.overdue.loan.portfolio' | translate }}<span class="required">*</span></label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.overdueloanportfolio' | translate}}"></i>
			<div class="col-sm-3">
				<select id="overdueLoanPortfolioAccountId" ng-model="formData.overdueLoanPortfolioAccountId" chosen="assetLiabilityAndIncomeAccountOptions"
				 ng-options="assetLiabilityAndIncomeAccount.id as (assetLiabilityAndIncomeAccount.name +' ('+ assetLiabilityAndIncomeAccount.glCode +')') for assetLiabilityAndIncomeAccount in assetLiabilityAndIncomeAccountOptions"
				 value="{{assetLiabilityAndIncomeAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
				</select>
			</div>
			<label class="control-label col-sm-2">{{ 'label.input.overdue.interest.on.loans' | translate }}<span class="required">*</span></label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.overdueloanportfolio' | translate}}"></i>
			<div class="col-sm-3">
				<select id="overdueReceivableInterestAccountId" ng-model="formData.overdueReceivableInterestAccountId" chosen="assetLiabilityAndIncomeAccountOptions"
				 ng-options="assetLiabilityAndIncomeAccount.id as (assetLiabilityAndIncomeAccount.name +' ('+ assetLiabilityAndIncomeAccount.glCode +')') for assetLiabilityAndIncomeAccount in assetLiabilityAndIncomeAccountOptions"
				 value="{{assetLiabilityAndIncomeAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
				</select>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-sm-2">{{ 'label.input.overdue.income.from.fees' | translate }}<span class="required">*</span></label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.overdueloanportfolio' | translate}}"></i>
			<div class="col-sm-3">
				<select id="overdueReceivableFeeAccountId" ng-model="formData.overdueReceivableFeeAccountId" chosen="assetLiabilityAndIncomeAccountOptions"
				 ng-options="assetLiabilityAndIncomeAccount.id as (assetLiabilityAndIncomeAccount.name +' ('+ assetLiabilityAndIncomeAccount.glCode +')') for assetLiabilityAndIncomeAccount in assetLiabilityAndIncomeAccountOptions"
				 value="{{assetLiabilityAndIncomeAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
				</select>
			</div>
			<label class="control-label col-sm-2">{{ 'label.input.overdue.income.from.penalties' | translate }}<span class="required">*</span></label>
			<i class="icon-question-sign col-sm-1 icon-white" tooltip="{{'label.tooltip.overdueloanportfolio' | translate}}"></i>
			<div class="col-sm-3">
				<select id="overdueReceivablePenaltyAccountId" ng-model="formData.overdueReceivablePenaltyAccountId" chosen="assetLiabilityAndIncomeAccountOptions"
				 ng-options="assetLiabilityAndIncomeAccount.id as (assetLiabilityAndIncomeAccount.name +' ('+ assetLiabilityAndIncomeAccount.glCode +')') for assetLiabilityAndIncomeAccount in assetLiabilityAndIncomeAccountOptions"
				 value="{{assetLiabilityAndIncomeAccount.id}}">
					<option value="">{{'label.menu.selectone'| translate }}</option>
				</select>
			</div>
		</div>
	</div>
	<hr>
	<h4>{{'label.heading.advancedaccountingrules' | translate}}[<a ng-click="showOrHide(showOrHideValue)">{{showOrHideValue}}</a>]</h4>
	<div class="col-md-12" ng-show="showOrHideValue == 'hide'">
	    <div class="col-md-8">{{'label.heading.configurefundsourcesforpaymentchannels' | translate}}</div>
	    <div class="col-md-4">
	        <a class="btn btn-primary" ng-click="addConfigureFundSource()">{{ 'label.button.add' | translate }}</a>
	    </div>
	    <table class="table">
	        <tr class="graybg">
	            <th class="width30">{{'label.heading.paymenttype' | translate}}</th>
	            <th></th>
	            <th class="width30">{{'label.heading.fundsource' | translate}}</th>
	            <th></th>
	            <th class="width30">{{'label.heading.actions' | translate}}</th>
	        </tr>
	        <tr ng-repeat="configureFundOption in configureFundOptions">
	            <td class="width30">
	                <select id="configureFundOptions[{{$index}}].paymentTypeId"
	                        class="form-control"
	                        ng-model="configureFundOption.paymentTypeId"
	                        ng-options="paymentType.id as paymentType.name for paymentType in paymentTypeOptions"
	                        value="{{paymentType.id}}">
	                        <option value="">{{'label.menu.selectone'| translate }}</option>
	                </select>
	            </td>
	            <td></td>
	            <td class="width30">
	                <select id="configureFundOptions[{{$index}}].fundSourceAccountId"
	                        ng-model="configureFundOption.fundSourceAccountId"
	                        chosen="configureFundOption.assetAccountOptions"
	                        ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
	                        value="{{assetAccount.id}}">
	                        <option value="">{{'label.menu.selectone'| translate }}</option>
	                </select>
	            </td>
	            <td></td>
	            <td class="width30">
	                <a ng-click="deleteFund($index)"><i class="icon-remove icon-white"></i></a>
	            </td>
	        </tr>
	    </table>
	    <div class="col-md-8">{{'label.heading.mapfeestoincomeaccounts' | translate}}</div>
	    <div class="col-md-4">
	        <a class="btn btn-primary" ng-click="mapFees()">{{ 'label.button.add' | translate }}</a>
	    </div>
	    <table class="table">
	        <tr class="graybg">
	            <th>{{'label.heading.fees' | translate}}</th>
	            <th></th>
	            <th>{{'label.heading.incomeaccount' | translate}}</th>
	            <th></th>
				<th>{{'label.heading.fundsource' | translate}}</th>
				<th></th>
	            <th>{{'label.heading.actions' | translate}}</th>
	        </tr>
	        <tr ng-repeat="specificMapping in specificIncomeAccountMapping">
                <td>
                    <select id="specificIncomeAccountMapping[{{$index}}].chargeId"
                            ng-model="specificMapping.chargeId" class="form-control"
                            ng-options="charge.id as charge.name for charge in chargeOptions"
                            value="{{charge.id}}" ng-disabled = "isNotAllowedToChangeCharge(specificMapping.chargeId)" ng-change="changeChargeOfFeeSpecificIncomeAccount('{{specificMapping.chargeId}}')">
							<option value="">{{'label.menu.selectone'| translate }}</option>
					</select>
                </td>
                <td></td>
                <td>
                    <select id="specificIncomeAccountMapping[{{$index}}].incomeAccountId"
                            ng-model="specificMapping.incomeAccountId" class="form-control"
                            chosen="incomeAndLiabilityAccountOptions"
                            ng-options="account.id as (account.name +' ('+ account.glCode +')') for account in incomeAndLiabilityAccountOptions"
                            value="{{account.id}}">
                            <option value="">{{'label.menu.selectone'| translate }}</option>
                    </select>
                </td>
	            <td></td>
				<td>
					<select id="specificIncomeAccountMapping[{{$index}}].fundSourceAccountId"
							ng-model="specificMapping.fundSourceAccountId" class="form-control"
							chosen="assetAccountOptions"
							ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
							value="{{assetAccount.id}}">
						<option value="">{{'label.menu.selectone'| translate }}</option>
					</select>
				</td>
	            <td>
	                <a ng-click="deleteFee($index)"><i class="icon-remove icon-white"></i></a>
	            </td>
	        </tr>
	    </table>
	    <div class="col-md-8">{{'label.heading.mappenaltiestospecificincomeaccounts' | translate}}</div>
	    <div class="col-md-4">
	        <a class="btn btn-primary" ng-click="mapPenalty()">{{ 'label.button.add' | translate }}</a>
	    </div>
	    <table class="table">
	        <tr class="graybg">
	            <th>{{'label.heading.penalty' | translate}}</th>
	            <th></th>
	            <th>{{'label.heading.incomeaccount' | translate}}</th>
	            <th></th>
				<th>{{'label.heading.fundsource' | translate}}</th>
				<th></th>
	            <th>{{'label.heading.actions' | translate}}</th>
	        </tr>
	        <tr ng-repeat="penaltySpecificIncomeaccount in penaltySpecificIncomeaccounts">
	            <td>
	                <select id="penaltySpecificIncomeaccounts[{{$index}}].chargeId"
	                        class="form-control"
	                        ng-model="penaltySpecificIncomeaccount.chargeId"
	                        ng-options="charge.id as charge.name for charge in penaltyOptions"
	                        value="{{charge.id}}" ng-change="changeChargeOfPenaltySpecificIncomeAccount('{{penaltySpecificIncomeaccount.chargeId}}')">
	                        <option value="">{{'label.menu.selectone'| translate }}</option>
	                </select>
	            </td>
	            <td></td>
	            <td>
	                <select id="penaltySpecificIncomeaccounts[{{$index}}].incomeAccountId"
	                        class="form-control"
	                        ng-model="penaltySpecificIncomeaccount.incomeAccountId"
	                        ng-options="incomeAccount.id as (incomeAccount.name +' ('+ incomeAccount.glCode +')') for incomeAccount in incomeAccountOptions"
	                        value="{{incomeAccount.id}}">
	                        <option value="">{{'label.menu.selectone'| translate }}</option>
	                </select>
	            </td>
	            <td></td>
				<td>
					<select id="penaltySpecificIncomeaccounts[{{$index}}].fundSourceAccountId"
							class="form-control"
							ng-model="penaltySpecificIncomeaccount.fundSourceAccountId"
							chosen="assetAccountOptions"
							ng-options="assetAccount.id as (assetAccount.name +' ('+ assetAccount.glCode +')') for assetAccount in assetAccountOptions"
							value="{{assetAccount.id}}">
						<option value="">{{'label.menu.selectone'| translate }}</option>
					</select>
				</td>
				<td></td>
	            <td><a ng-click="deletePenalty($index)"><i class="icon-remove"></i></a></td>
	        </tr>
	    </table>
		<!-- add write off reason to expense account-->
		<div class="col-md-8">{{'label.heading.mapwriteoffreasontoexpenseaccounts' | translate}}</div>
		<div class="col-md-4">
			<a class="btn btn-primary" ng-click="mapWriteOffReason()">{{ 'label.button.add' | translate }}</a>
		</div>
		<table class="table width100">
			<tr class="graybg">
				<th class="width30">{{'label.heading.writeoffreason' | translate}}</th>
				<th></th>
				<th class="width30">{{'label.heading.expenseaccount' | translate}}</th>
				<th></th>
				<th class="width30">{{'label.heading.actions' | translate}}</th>
			</tr>
			<tr ng-repeat="codeValueAccountMapping in codeValueSpecificAccountMappings">
				<td class="width30">
					<select id="codeValueSpecificAccountMappings[{{$index}}].codeValueId"
							ng-model="codeValueAccountMapping.codeValueId" class="form-control"
							ng-options="writeOffReasonOption.id as writeOffReasonOption.name for writeOffReasonOption in writeOffReasonOptions"
							value="{{writeOffReasonOption.id}}">
							<option value="">{{'label.menu.selectone'| translate }}</option>
					</select>
				</td>
				<td></td>
				<td class="width30">
					<select id="codeValueSpecificAccountMappings[{{$index}}].expenseAccountId"
							ng-model="codeValueAccountMapping.expenseAccountId"
							chosen="expenseAccountOptions"
							ng-options="account.id as (account.name +' ('+ account.glCode +')') for account in expenseAccountOptions"
							value="{{account.id}}">
							<option value="">{{'label.menu.selectone'| translate }}</option>
					</select>
				</td>
				<td></td>
				<td class="width30">
					<a ng-click="deleteCodeValue($index)"><i class="icon-remove icon-white"></i></a>
				</td>
			</tr>
		</table>
		<div class="col-md-8">{{'label.heading.mapTransactionTypeToPortfolio' | translate}}</div>
	    <div class="col-md-4">
	        <a class="btn btn-primary" ng-click="mapTransaction()">{{ 'label.button.add' | translate }}</a>
	    </div>
	    <table class="table">
	        <tr class="graybg">
	            <th class="width30">{{'label.heading.transactionType' | translate}}</th>
                <th></th>
                <th class="width30">{{'label.heading.loanPortfolio.account' | translate}}</th>
                <th></th>
                <th class="width30">{{'label.heading.actions' | translate}}</th>
	        </tr>
	        <tr ng-repeat="transactionTypeMapping in transactionTypeMappings">
            <td class="width30">
                <select id="transactionTypeMapping[{{$index}}].transactionTypeId"
                        ng-model="transactionTypeMapping.transactionTypeId" class="form-control"
                        ng-options="transactionType.id as transactionType.value for transactionType in transactionTypeOptions"
                        value="{{transactionType.id}}">
                        <option value="">{{'label.menu.selectone'| translate }}</option>
                </select>
            </td>
            <td></td>
            <td class="width30">
                <select id="transactionTypeMapping[{{$index}}].loanPortfolioAccountId"
                        ng-model="transactionTypeMapping.loanPortfolioAccountId"
                        chosen="assetAndLiabilityAccountOptions"
                        ng-options="account.id as (account.name +' ('+ account.glCode +')') for account in assetAndLiabilityAccountOptions"
                        value="{{account.id}}">
                        <option value="">{{'label.menu.selectone'| translate }}</option>
                </select>
            </td>
            <td></td>
            <td class="width30">
                <a ng-click="deleteTransaction($index)"><i class="icon-remove icon-white"></i></a>
            </td>
            </tr>
	    </table>
	</div>
	</div>
	<div class="col-md-offset-5 paddedtop">
	    <a id="cancel" href="#/viewloanproduct/{{product.id}}" type="reset" class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</a>
	    <button id="save" type="submit" ng-click="submitted = true" class="btn btn-primary" has-permission='UPDATE_LOANPRODUCT'>{{'label.button.save'
	        | translate}}
	    </button>
	</div>
	</fieldset>
	</form>
</div>
