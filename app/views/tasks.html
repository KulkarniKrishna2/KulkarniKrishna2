<div class="col-md-12" ng-controller="TaskController">
	<ul class="breadcrumb">
        <li class="active">{{'label.anchor.tasks' | translate}}</li>
    </ul>
    <unsuccessful-response></unsuccessful-response>
	<div class="well">
		<div style="color:red" ng-show="error">{{'label.error.select.client' | translate}}</div>
		<fieldset>
			<legend>{{'label.heading.pendingtasks' | translate}}</legend>
			<api-validate></api-validate>
			<tabset tabset-name="taskTabset">
				<tab heading="{{'label.heading.checkerinbox' | translate}}" has-permission='ALL_FUNCTIONS_READ' >
				    <div class="head-affix">
				        <table class="table condensed-table">
				            <div class="form-inline">
				                <div class="form-group">
				                    <span class="input-append grpinputicons">
				                        <input ng-autofocus="true" autocomplete="off" typeahead-on-select="viewUser($item)" placeholder="{{'label.input.searchbyuser' | translate}}" type="text" ng-model="user" typeahead="users.username as users.username for users in checkerTemplate.appUsers | filter:$viewValue | limitTo:8" class="form-control">
				                        <button type="button" ng-click="isCollapsed = !isCollapsed" class="btn control btn-default"><i class="icon-chevron-down"></i></button>
				                        <button type="button" ng-click="search()" class="btn btn-primary control"><i class="icon-search icon-white"></i></button>
				                    </span>
				                </div>
				                <div class="form-group">
				                    <span>
				                        <button type="button" class="btn btn-success" data-ng-click="approveOrRejectChecker('approve')"><i class="icon-ok"></i>{{'label.button.approve' | translate}}</button>
				                        <button type="button" class="btn btn-danger" data-ng-click="deleteChecker()"><i class="icon-trash"></i>{{'label.button.delete' | translate}}</button>
				                        <button type="button" class="btn btn-warning" data-ng-click="approveOrRejectChecker('reject')"><i class="icon-remove"></i>{{'label.button.reject' | translate}}</button>
				                    </span>
				                </div>
				            </div>
				        </table>
				    </div>
				    <div collapse="isCollapsed" class="blockoverlay" style="overflow-y: scroll">
				        <div class="form-group">
				            <input type="text" autocomplete="off" placeholder="{{'label.input.fromdate' | translate}}" datepicker-pop="{{df}}"
				                   ng-model="date.from" is-open="opened"  max="'2020-06-22'"
				                   date-disabled="disabled(date, mode)" class="form-control" ng-readonly="isDatePickerReadOnly"/>
				        </div>
				        <div class="form-group">
				            <div>
				                <input type="text" autocomplete="off" placeholder="{{'label.input.todate' | translate}}" datepicker-pop="{{df}}"
				                       ng-model="date.to" is-open="opened1" max="'2020-06-22'"
				                       date-disabled="disabled(date, mode)" class="form-control" ng-readonly="isDatePickerReadOnly"/>
				            </div>
				        </div>
				        <div class="form-group">
				            <div>
				                <select ng-model="formData.action" class="form-control">
				                    <option value="">{{'label.all' | translate}}</option>
				                    <option value="">--{{'label.selectaction' | translate}}--</option>
				                    <option ng-repeat="action in checkerTemplate.actionNames" value="{{action}}">{{action}}</option>
				                </select>
				            </div>
				        </div>
				        <div class="form-group">
				            <div>
				                <select ng-model="formData.entity" class="form-control">
				                    <option value="">{{'label.all' | translate}}</option>
				                    <option value="">--{{'label.selectaction' | translate}}--</option>
				                    <option ng-repeat="entity in checkerTemplate.entityNames" value="{{entity}}">{{entity}}</option>
				                </select>
				            </div>
				        </div>
				        <div class="form-group">
				            <div>
				                <input type="text" autocomplete="off" placeholder="{{'label.input.resourceid' | translate}}"
				                       ng-model="formData.resourceId" class="form-control">
				            </div>
				        </div>
				        <span><a ng-click="search()" class="btn btn-primary"><i class="icon-search icon-white"></i>{{'label.button.advancesearch'
				            | translate}}</a>
				            <br/><br/>
				        </span>
				    </div>
				    <script type="text/ng-template" id="deletechecker.html">
        <div class="modal-header silver">
            <h3 class="bolder">{{'label.heading.delete' | translate}}</h3>
        </div>
        <div class="modal-body">
            <api-validate></api-validate>
            <br>
            <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
            <button class="btn btn-primary" ng-click="delete()">{{'label.button.confirm' | translate}}</button>
        </div>
    </script>
				    <script type="text/ng-template" id="approvechecker.html">
        <div class="modal-header silver">
            <h3 class="bolder">{{'label.heading.approve' | translate}}</h3>
        </div>
        <div class="modal-body">
            <api-validate></api-validate>
            <br>
            <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
            <button class="btn btn-primary" ng-click="approve()">{{'label.button.confirm' | translate}}</button>
        </div>
    </script>
				    <div ng-show="searchData">
				        <table class="table" style="margin-top: -20px;">
				            <thead>
				            <tr class="graybg">
				                <th><input type="checkbox" ng-click="checkerInboxAllCheckBoxesClicked()" ng-checked="checkerInboxAllCheckBoxesMet()"/></th>
				                <th>{{'label.heading.id' | translate}}</th>
				                <th>{{'label.heading.madeondate' | translate}}</th>
				                <th>{{'label.heading.status' | translate}}</th>
				                <th>{{'label.heading.user' | translate}}</th>
				                <th>{{'label.heading.action' | translate}}</th>
				                <th>{{'label.heading.entity' | translate}}</th>
				            </tr>
				            </thead>
				            <tbody>
				            <tr class="pointer-main" ng-repeat="data in searchData">
				                <td><input type="checkbox" data-ng-model="checkData[data.id]"/></td>
				                <td class="pointer" data-ng-click="routeTo(data.id)">{{data.id}}</td>
				                <td class="pointer" data-ng-click="routeTo(data.id)">{{data.madeOnDate | DateFormat}}</td>
				                <td class="pointer" data-ng-click="routeTo(data.id)">{{data.processingResult}}</td>
				                <td class="pointer" data-ng-click="routeTo(data.id)">{{data.maker}}</td>
				                <td class="pointer" data-ng-click="routeTo(data.id)">{{data.actionName}}</td>
				                <td class="pointer" data-ng-click="routeTo(data.id)">{{data.entityName}}</td>
				            </tr>
				            </tbody>
				        </table>
				    </div>
				</tab>
				<tab heading="{{'label.heading.clientapproval' | translate}}" has-permission='READ_CLIENT' ng-click="resetsearchparams()">

				    <div class="head-affix">
				        <table class="table condensed-table">
				            <thead>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.office' | translate }}</label>
									<select chosen="offices" id="officeId_client" ng-model="officeId"
											ng-options="office.id as office.name for office in offices" value="{{office.id}}"
											ng-change="officeSelected(officeId)" >
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.staff' | translate }}</label>
									<select chosen="loanOfficers" id="loanOfficerId_client" ng-model="loanOfficerId"
											ng-options="loanOfficer.id as loanOfficer.displayName for loanOfficer in loanOfficers | filter: 'true'  "
											value="{{loanOfficer.id}}" ng-change="loanOfficerSelected(loanOfficerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>

								</th>
								<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.center' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.center' | translate}}"></i>
									<select chosen="centers" id="centerId_client" name="center" ng-model="centerId"
											ng-options="center.id as center.name for center in centers" value="{{center.id}}"
											ng-change="centerSelected(centerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.group' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.group' | translate}}"></i>
									<select chosen="groups" id="groupId_client" ng-model="groupId" ng-options="group.id as group.name for group in groups"
											value="{{group.id}}" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<div class="rowleft">
									<button  class="btn btn-primary" data-ng-click="clientSearch()" has-permission='ACTIVATE_CLIENT'><i
											class="icon-search"></i>{{'label.button.search' | translate}}
									</button>
										</div>
								</th>
							</tr>
							<tr>
								<th>
									<input ng-autofocus="true" ng-model="filterText" type="text" autocomplete="off" class="input-sm form-control"
										   placeholder="{{'label.input.filterbyname' | translate}}">
								</th>
								<th>
									<button type="button" class="btn btn-success" data-ng-click="approveClient()" has-permission='ACTIVATE_CLIENT'><i
											class="icon-ok"></i>{{'label.button.approve' | translate}}
									</button>
								</th>
							</tr>
				            </thead>
				        </table>
				    </div>
				    <script type="text/ng-template" id="approveclient.html">
        <div class="modal-header silver">
            <h3 class="bolder">{{'label.heading.enterclientsactivationdate' |
                translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h3>
        </div>
        <div class="modal-body modal-big">
            <api-validate></api-validate>
            <br>
            <input type="text" autocomplete="off" datepicker-pop="{{df}}" ng-model="date.actDate" is-open="opened"
                   max="restrictDate" ng-readonly="isDatePickerReadOnly"/>
        </div>
        <div class="modal-footer">
            <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
			<button class="btn btn-primary" ng-click="clientApproval(date.actDate)">{{'label.button.confirm' | translate}}
            </button>
        </div>
    </script>
				    <table class="table condensed-table" data-ng-show="clientData">

				        <tr>
				            <td>
				                <table class="table condensed-table">
				                    <thead>
				                    <tr class="graybg">
				                        <th><input type="checkbox" ng-click="clientApprovalAllCheckBoxesClicked()" ng-checked="clientApprovalAllCheckBoxesMet()"/></th>
				                        <th>{{'label.heading.name' | translate}}</th>
				                        <th>{{'label.heading.accnum' | translate}}</th>
				                        <th>{{'label.heading.staff' | translate}}</th>
										<th>{{'label.heading.office' | translate}}</th>
				                    </tr>
				                    </thead>
				                    <tbody>
				                    <tr class="pointer-main"
				                        data-ng-repeat="client in clientData | filter:filterText">
				                        <td><input type="checkbox" data-ng-model="approveData[client.id]"/></td>
				                        <td class="pointer" data-ng-click="routeToClient(client.id)">{{client.displayName}}</td>
				                        <td class="pointer" data-ng-click="routeToClient(client.id)">{{client.accountNo}}</td>
				                        <td class="pointer" data-ng-click="routeToClient(client.id)">{{client.staffName}}</td>
										<td class="pointer" data-ng-click="routeToClient(client.id)">{{client.officeName}}</td>

				                    </tr>
				                    </tbody>
				                </table>
				            </td>
				        </tr>
				    </table>
				</tab>
				<tab heading="{{'label.heading.loanapproval' | translate}}" has-permission='READ_LOAN' ng-click="resetsearchparams()"  >
				    <div class="head-affix">
				        <table class="table condensed-table">
				            <thead>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.office' | translate }}</label>
									<select chosen="offices" id="officeId_loanaprrove" ng-model="officeId"
											ng-options="office.id as office.name for office in offices" value="{{office.id}}"
											ng-change="officeSelected(officeId)">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.staff' | translate }}</label>
									<select chosen="loanOfficers" id="loanOfficerId_loanapprove" ng-model="loanOfficerId"
											ng-options="loanOfficer.id as loanOfficer.displayName for loanOfficer in loanOfficers | filter: 'true'  "
											value="{{loanOfficer.id}}" ng-change="loanOfficerSelected(loanOfficerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>

								</th>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.center' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.center' | translate}}"></i>

									<select chosen="centers" id="centerId_loanapprove" name="center" ng-model="centerId"
											ng-options="center.id as center.name for center in centers" value="{{center.id}}"
											ng-change="centerSelected(centerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>

									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.group' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.group' | translate}}"></i>
									<select chosen="groups" id="groupId_loanapprove" ng-model="groupId" ng-options="group.id as group.name for group in groups"
											value="{{group.id}}" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
							</tr>
							<tr>
								<th>
									<label class="control-label col-sm-5">{{ 'label.input.expecteddisbursementon' | translate }}</label>
									<input type="text" autocomplete="off" datepicker-pop="{{df}}" id = "expectedDisbursementOn" ng-model="expectedDisbursementOn" is-open="opened" max="restrictDate" ng-readonly="isDatePickerReadOnly"/>
								</th>
								<th>
									<div class="rowleft">
										<button  class="btn btn-primary" data-ng-click="loanApproveSearch()" has-permission='APPROVE_LOAN'><i
												class="icon-search"></i>{{'label.button.search' | translate}}
										</button>
									</div>
								</th>
							</tr>
				            <tr>
				                <th>
				                    <input ng-autofocus="true" ng-model="filterText1" type="text" autocomplete="off" class="input-sm form-control"
				                           placeholder="{{'label.input.filterbyname' | translate}}">
				                </th>
				                <th>
				                    <button type="button" class="btn btn-success" data-ng-click="approveLoan()" has-permission='APPROVE_LOAN'><i class="icon-ok">
									</i>{{'label.button.approve'| translate}}
				                    </button>
				                </th>
				            </tr>
				            </thead>
				        </table>
				    </div>
					<script type="text/ng-template" id="approveloan.html">
						<div class="modal-header silver">
							<h3 class="bolder">{{'label.heading.enterloanapprovaldate' |
								translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h3>
						</div>
						<div class="modal-body modal-big">
							<api-validate></api-validate>
							<br>
							<input type="text" autocomplete="off" datepicker-pop="{{df}}" ng-model="date.actDate" is-open="opened"
								   max="restrictDate" ng-readonly="isDatePickerReadOnly"/>
						</div>
						<div class="modal-footer">
							<button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
							<button class="btn btn-primary" ng-click="loanApproval(date.actDate)">{{'label.button.confirm' | translate}}
							</button>
						</div>
					</script>
				    <table data-ng-show="loanApproveData" class="table condensed-table">

				        <tr ng-show="loanApproveData.length > 0">
				            <td>
				                <table class="table condensed-table">
				                    <thead>
				                    <tr class="graybg">
				                        <th><input type="checkbox" ng-click="loanApprovalAllCheckBoxesClicked()" ng-checked="loanApprovalAllCheckBoxesMet()"/></th>
				                        <th>{{'label.heading.client' | translate}}</th>
				                        <th>{{'label.heading.loan' | translate}}</th>
				                        <th>{{'label.heading.amount' | translate}}</th>
				                        <th>{{'label.heading.loanpurpose' | translate}}</th>
									</tr>
				                    </thead>
				                    <tbody>
				                    <tr class="pointer-main"
										data-ng-repeat="loan in loanApproveData | filter:filterText1">
				                        <td><input type="checkbox" ng-model="loanTemplate[loan.id]"></td>
				                        <td  ng-if = "loan.loanType.value == 'GLIM' || loan.loanType.value == 'Group'" class="pointer"><a href='#/viewgroup/{{loan.group.id}}'>{{loan.group.name}}</a></td>
				                        <td ng-if = "loan.loanType.value == 'Individual' || loan.loanType.value == 'JLG'" class="pointer"><a href='#/viewclient/{{loan.clientId}}'>{{loan.clientName}}</a></td>
				                        <td class="pointer"><a href='#/viewloanaccount/{{loan.id}}'>{{loan.loanProductName}}({{loan.accountNo}})</a>
				                        </td>
				                        <td class="pointer">{{loan.principal | number}}</td>
				                        <td class="pointer">{{loan.loanPurposeName}}</td>
									</tr>
				                    </tbody>
				                </table>
				            </td>
				        </tr>
				    </table>
				</tab>
				<tab heading="{{'label.heading.loandisbursal' | translate}}" has-permission='READ_LOAN' ng-click="resetsearchparams()">
				    <div class="head-affix" class="col-sm-12">
				        <table class="table condensed-table" ng-show = "showSearchParameters">
				            <thead>
							<tr>
								<th>
									<label class="control-label col-sm-3">{{ 'label.input.office' | translate }}<span
											class="required">*</span></label>
									<select chosen="offices" id="officeId_loandisburse" ng-model="officeId"
											ng-options="office.id as office.name for office in offices" value="{{office.id}}"
											ng-change="officeSelected(officeId)" >
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-3">{{ 'label.input.staff' | translate }}</label>
									<select chosen="loanOfficers" id="loanOfficerId_loandisburse" ng-model="loanOfficerId"
											ng-options="loanOfficer.id as loanOfficer.displayName for loanOfficer in loanOfficers | filter: 'true'  "
											value="{{loanOfficer.id}}" ng-change="loanOfficerSelected(loanOfficerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>

								</th>
							</tr>
							<tr>
								<th>
									<label class="control-label col-sm-3">{{ 'label.input.center' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.center' | translate}}"></i>
									<select chosen="centers" id="centerId_loandisburse" name="center" ng-model="centerId"
											ng-options="center.id as center.name for center in centers" value="{{center.id}}"
											ng-change="centerSelected(centerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-3">{{ 'label.input.group' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.group' | translate}}"></i>
									<select chosen="groups" id="groupId_loandisburse" ng-model="groupId" ng-options="group.id as group.name for group in groups"
											value="{{group.id}}" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
							</tr>
							<tr>
								<th>
									<label class="control-label col-sm-3">{{ 'label.input.approvedondate' | translate }}</label>
									<input type="text" datepicker-pop="dd MMMM yyyy" id = "approvedOn" ng-model="approvedOn" is-open="opened" max="restrictDate"/>
								</th>
								<th>
									<label class="control-label col-sm-5">{{ 'label.input.expecteddisbursementon' | translate }}</label>
									<input type="text" autocomplete="off" datepicker-pop="{{df}}" id = "expectedDisbursementOn" ng-model="expectedDisbursementOn" is-open="opened" max="restrictDate" ng-readonly="isDatePickerReadOnly"/>
								</th>
							</tr>
							<tr>
								<th>
									<label class="control-label col-sm-3">{{ 'label.input.disbursementchannel' | translate }}</label>
									<select chosen="paymentTypes" id="disbursementchannel" ng-model="paymentTypeId"
											ng-options="paymentType.id as paymentType.name for paymentType in paymentTypes"
											value="{{paymentType.id}}" class="form-control">
										<option value="">{{'label.paymenttype' | translate}}</option>
									</select>

								</th>
								<th>
									<div class="col-sm-5">
										<button  class="btn btn-primary" data-ng-click="loanDisburseSearch()" has-permission='DISBURSE_LOAN'><i
												class="icon-search"></i>{{'label.button.search' | translate}}
										</button>
									</div>
								</th>
							</tr>
						</thead>
						</table>
						<table class="table condensed-table" ng-show = "hideResult">
				            <thead>
				            <tr>
				                <th>
				                    <input id="transactionAmount" type="text" autocomplete="off" name="amount" ng-model="formData.transactionAmount" class="form-control"
                   					number-format required late-Validate ng-readonly="true">
				                </th>
				                <th>
				                    <button type="button" class="btn btn-success" data-ng-click="disburseLoan()" has-permission='DISBURSE_LOAN'><i class="icon-ok"></i>{{'label.button.disburse'
				                        | translate}}
				                    </button>
				                </th>
				                <th>
				                    <button type="button" class="btn btn-success" data-ng-click="viewSearchParameters()">{{'label.button.viewsearchparameters' | translate}}
				                    </button>
				                </th>
				            </tr>
				            <tr>
				                <th>
				                    <input ng-autofocus="true" ng-model="filterText2" type="text" class="input-sm form-control"
				                           placeholder="{{'label.input.filterbyname' | translate}}">
				                </th>
				            </tr>
				            </thead>
				        </table>
				    </div>
					<script type="text/ng-template" id="disburseloan.html">
						<div class="modal-header silver">
							<h3 class="bolder">{{'label.heading.enterloandisbursaldate' |
								translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h3>
						</div>
						<div class="modal-body modal-big">
							<api-validate></api-validate>
							<br>
							<input type="text" autocomplete="off" datepicker-pop="{{df}}" ng-model="date.actDate" is-open="opened"
								   max="restrictDate" ng-readonly="isDatePickerReadOnly"/>
						</div>
						<div class="modal-footer">
							<button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
							<button class="btn btn-primary" ng-click="loandisburse(date.actDate)">{{'label.button.confirm' | translate}}
							</button>
						</div>
					</script>
				    <div>
				        <table class="table condensed-table" data-ng-show="loanDisburseData" ng-hide = "showSearchParameters">
				            <thead>
				            <tr class="graybg">
				            	<th><input type="checkbox" ng-click="loanDisbursalAllCheckBoxesClicked()" ng-checked="loanDisbursalAllCheckBoxesMet()"/></th>
				                <th>{{'label.heading.client' | translate}}</th>
				                <th>{{'label.heading.loanproduct' | translate}}</th>
								<th>{{'label.heading.principal' | translate}}</th>
								<th>{{'label.heading.disbursementchannel' | translate}}</th>
								<th>{{'label.input.receiptnumber' | translate}}</th>
								<th>{{'label.input.notes' | translate}}</th>
				            </tr>
				            </thead>
				            <tbody>
				            <tr class="pointer-main"
								data-ng-repeat="loan in loanDisburseData | filter:filterText2">
				            	<td><input type="checkbox" ng-model="loanDisbursalTemplate[loan.id]" ng-change="getTotalAmount(loanDisburseData)"></td> 
				                <td  ng-if = "loan.loanType.value == 'GLIM' || loan.loanType.value == 'Group'" class="pointer"><a href='#/viewgroup/{{loan.group.id}}'>{{loan.group.name}}</a></td>
				                <td ng-if = "loan.loanType.value == 'Individual' || loan.loanType.value == 'JLG'" class="pointer"><a href='#/viewclient/{{loan.clientId}}'>{{loan.clientName}}</a></td>
				                <td class="pointer"><a href="#/viewloanaccount/{{loan.id}}">{{loan.loanProductName}}({{loan.accountNo}})</a></td>
				                <td class="pointer"><a href="#/viewloanaccount/{{loan.id}}">{{loan.principal | number}}</a></td>
								<td class="pointer"><a href="#/viewloanaccount/{{loan.id}}">{{loan.expectedDisbursalPaymentType.name}}</a></td>
								<td>
									<input ng-model="loan.receiptNumber" type="text" autocomplete="off" class="input-sm form-control">
								</td>
								<td>
									<input ng-model="loan.note" type="text" class="input-sm form-control">
								</td>
				            </tr>
				            </tbody>
				        </table>
				    </div>
				</tab>

				<tab heading="{{'label.heading.rdapproval' | translate}}" has-permission='READ_RECURRINGDEPOSITACCOUNT' ng-click="resetsearchparams()">
					<div class="head-affix">
						<table class="table condensed-table">
							<thead>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.office' | translate }}</label>
									<select chosen="offices" id="officeId_rdapproval" ng-model="officeId"
											ng-options="office.id as office.name for office in offices" value="{{office.id}}"
											ng-change="officeSelected(officeId)" >
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.staff' | translate }}</label>
									<select chosen="loanOfficers" id="loanOfficerId_rdapproval" ng-model="loanOfficerId"
											ng-options="loanOfficer.id as loanOfficer.displayName for loanOfficer in loanOfficers | filter: 'true'  "
											value="{{loanOfficer.id}}" ng-change="loanOfficerSelected(loanOfficerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>

								</th>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.center' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.center' | translate}}"></i>
									<select chosen="centers" id="centerId_rdapproval" name="center" ng-model="centerId"
											ng-options="center.id as center.name for center in centers" value="{{center.id}}"
											ng-change="centerSelected(centerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.group' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.group' | translate}}"></i>
									<select chosen="groups" id="groupId_rdapproval" ng-model="groupId" ng-options="group.id as group.name for group in groups"
											value="{{group.id}}" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<div class="rowleft">
										<button  class="btn btn-primary" data-ng-click="rdApprovalSearch()" has-permission='APPROVE_RECURRINGDEPOSITACCOUNT'><i
												class="icon-search"></i>{{'label.button.search' | translate}}
										</button>
									</div>
								</th>
							</tr>
							<tr>
								<th>
									<input ng-autofocus="true" ng-model="filterText3" type="text" autocomplete="off" class="input-sm form-control"
										   placeholder="{{'label.input.filterbyname' | translate}}">
								</th>
								<th>
									<button type="button" class="btn btn-success" data-ng-click="approverd()" has-permission='APPROVE_RECURRINGDEPOSITACCOUNT'><i class="icon-ok"></i>{{'label.button.approve'
										| translate}}
									</button>
								</th>
							</tr>
							</thead>
						</table>
					</div>
					<script type="text/ng-template" id="approverdaccount.html">
						<div class="modal-header silver">
							<h3 class="bolder">{{'label.heading.enterrdapprovaldate' |
								translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h3>
						</div>
						<div class="modal-body modal-big">
							<api-validate></api-validate>
							<br>
							<input type="text" autocomplete="off" datepicker-pop="{{df}}" ng-model="date.actDate" is-open="opened"
								   max="restrictDate" ng-readonly="isDatePickerReadOnly"/>
						</div>
						<div class="modal-footer">
							<button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
							<button class="btn btn-primary" ng-click="rdapprove(date.actDate)">{{'label.button.confirm' | translate}}
							</button>
						</div>
					</script>
					<div>
						<table class="table condensed-table" data-ng-show="rdapprovedata">
							<thead>
							<tr class="graybg">
								<th><input type="checkbox" ng-click="rdapprovalallcheckboxesclicked()" ng-checked="rdapprovalallcheckboxesmet()"/></th>
								<th>{{'label.heading.client' | translate}}</th>
								<th>{{'label.heading.recurringdepositproduct' | translate}}</th>
								<th>{{'label.heading.recurringdepositamount' | translate}}</th>
							</tr>
							</thead>
							<tbody>
							<tr class="pointer-main"
								data-ng-repeat="rd in rdapprovedata | filter:filterText3">
								<td><input type="checkbox" ng-model="rdapprovetemplate[rd.id]"></td>
								<td class="pointer"><a href="#/viewclient/{{rd.clientId}}">{{rd.clientName}}</a></td>
								<td class="pointer"><a href="#/viewrecurringdepositaccount/{{rd.id}}">{{rd.depositProductName}}({{rd.accountNo}})</a></td>
								<td class="pointer"><a href="#/viewrecurringdepositaccount/{{rd.id}}">{{rd.mandatoryRecommendedDepositAmount | number}}</a></td>
							</tr>
							</tbody>
						</table>
					</div>
				</tab>

				<tab heading="{{'label.heading.rdactivation' | translate}}" has-permission='READ_RECURRINGDEPOSITACCOUNT' ng-click="resetsearchparams()">
					<div class="head-affix">
						<table class="table condensed-table">
							<thead>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.office' | translate }}</label>
									<select chosen="offices" id="officeId_rdactivation" ng-model="officeId"
											ng-options="office.id as office.name for office in offices" value="{{office.id}}"
											ng-change="officeSelected(officeId)" >
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.staff' | translate }}</label>
									<select chosen="loanOfficers" id="loanOfficerId_rdactivation" ng-model="loanOfficerId"
											ng-options="loanOfficer.id as loanOfficer.displayName for loanOfficer in loanOfficers | filter: 'true'  "
											value="{{loanOfficer.id}}" ng-change="loanOfficerSelected(loanOfficerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>

								</th>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.center' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.center' | translate}}"></i>
									<select chosen="centers" id="centerId_rdactivation" name="center" ng-model="centerId"
											ng-options="center.id as center.name for center in centers" value="{{center.id}}"
											ng-change="centerSelected(centerId)" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.group' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.group' | translate}}"></i>
									<select chosen="groups" id="groupId_rdactivation" ng-model="groupId" ng-options="group.id as group.name for group in groups"
											value="{{group.id}}" class="form-control">
										<option value="">{{'label.all' | translate}}</option>
									</select>
								</th>
								<th>
									<div class="rowleft">
										<button  class="btn btn-primary" data-ng-click="rdactivationSearch()" has-permission='APPROVE_RECURRINGDEPOSITACCOUNT'><i
												class="icon-search"></i>{{'label.button.search' | translate}}
										</button>
									</div>
								</th>
							</tr>
							<tr>
								<th>
									<input ng-autofocus="true" ng-model="filterText4" type="text" autocomplete="off" class="input-sm form-control"
										   placeholder="{{'label.input.filterbyname' | translate}}">
								</th>
								<th>
									<button type="button" class="btn btn-success" data-ng-click="activaterd()" has-permission='APPROVE_RECURRINGDEPOSITACCOUNT'>
										<i class="icon-ok"></i>{{'label.button.activate'
										| translate}}
									</button>
								</th>
							</tr>
							</thead>
						</table>
					</div>
					<script type="text/ng-template" id="activaterdaccount.html">
						<div class="modal-header silver">
							<h3 class="bolder">{{'label.heading.enterrdactivationdate' |
								translate}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h3>
						</div>
						<div class="modal-body modal-big">
							<api-validate></api-validate>
							<br>
							<input type="text" autocomplete="off" datepicker-pop="{{df}}" ng-model="date.actDate" is-open="opened"
								   max="restrictDate" ng-readonly="isDatePickerReadOnly"/>
						</div>
						<div class="modal-footer">
							<button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
							<button class="btn btn-primary" ng-click="rdactivate(date.actDate)">{{'label.button.confirm' | translate}}
							</button>
						</div>
					</script>
					<div>
						<table class="table condensed-table" data-ng-show="rdactivatedata">
							<thead>
							<tr class="graybg">
								<th><input type="checkbox" ng-click="rdactivateallcheckboxesclicked()" ng-checked="rdactivateallcheckboxesmet()"/></th>
								<th>{{'label.heading.client' | translate}}</th>
								<th>{{'label.heading.recurringdepositproduct' | translate}}</th>
								<th>{{'label.heading.recurringdepositamount' | translate}}</th>
							</tr>
							</thead>
							<tbody>
							<tr class="pointer-main"
								data-ng-repeat="rd in rdactivatedata | filter:filterText4">
								<td><input type="checkbox" ng-model="rdactivatetemplate[rd.id]"></td>
								<td class="pointer"><a href="#/viewclient/{{rd.clientId}}">{{rd.clientName}}</a></td>
								<td class="pointer"><a href="#/viewrecurringdepositaccount/{{rd.id}}">{{rd.depositProductName}}({{rd.accountNo}})</a></td>
								<td class="pointer"><a href="#/viewrecurringdepositaccount/{{rd.id}}">{{rd.mandatoryRecommendedDepositAmount | number}}</a></td>
							</tr>
							</tbody>
						</table>
					</div>
				</tab>

				<tab heading="{{'label.heading.rescheduleloan' | translate}}" has-permission='RESCHEDULE_LOAN'>
                    <div class="head-affix">
                        <table class="table condensed-table">
                            <thead>
                            <tr>
                                <th>
                                    <input ng-autofocus="true" ng-model="filterText2" type="text" autocomplete="off" class="input-sm form-control"
                                           placeholder="{{'label.input.filterbyname' | translate}}">
                                </th>
                                <th>
                                    <button type="button" class="btn btn-success" data-ng-click="approveBulkLoanReschedule()" has-permission='APPROVE_LOANRESCHEDULE'><i class="icon-ok"></i>{{'label.button.approve'
                                        | translate}}
                                    </button>
                                </th>
                            </tr>
                            </thead>
                        </table>
                    </div>
                    <script type="text/ng-template" id="loanreschedule.html">
                        <div class="modal-header silver">
                            <h3 class="bolder">{{'label.heading.rescheduleloan' | translate}}</h3>
                        </div>
                        <div class="modal-body">
                            <api-validate></api-validate>
                            <br>
                            <button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
                            <button class="btn btn-primary" ng-click="approveLoanReschedule()">{{'label.button.confirm' | translate}}</button>
                        </div>
                    </script>
                    <div>
                        <table class="table condensed-table">
                            <thead>
                            <tr class="graybg">
                                 <th><input type="checkbox" ng-click="checkerInboxAllCheckBoxesClickedForBulkLoanRescheduleApproval()" ng-checked="checkerInboxAllCheckBoxesMetForBulkLoanRescheduleApproval()"/></th>
                                <th>{{'label.heading.client' | translate}}</th>
                                <th>{{'label.heading.reschulerequest' | translate}}</th>
                                <th>{{'label.heading.loanaccountnum' | translate}}</th>
                                <th>{{'label.heading.reschedulefrom' | translate}}</th>
                                <th>{{'label.heading.reschedulereason' | translate}}</th>
                            </tr>
                            </thead>
                            <tbody>
                            	<tr dir-paginate="loanReschedule in loanRescheduleData | itemsPerPage: itemsPerPage">
					            	<td><input type="checkbox" data-ng-model="checkForBulkLoanRescheduleApprovalData[loanReschedule.id]"/></td>
					                <td><a href="#/viewclient/{{loanReschedule.clientId}}">{{loanReschedule.clientName}}</a></td>
					                <td><a href="#/loans/{{loanReschedule.loanId}}/viewreschedulerequest/{{loanReschedule.id}}">{{loanReschedule.id}}</a></td>
					                <td><a href="#/viewloanaccount/{{loanReschedule.loanId}}">{{loanReschedule.loanAccountNumber}}</a></td>
					                <td><a>{{loanReschedule.rescheduleFromDate | DateFormat}}</a></td>
					                <td><a>{{loanReschedule.rescheduleReasonCodeValue.name}}</a></td>
				            	</tr>
                            </tbody>
                        </table>
                    </div>
                </tab>
				<tab ng-hide="true" heading="{{'label.heading.bankaccounttransferdetails' | translate}}"  has-permission='INITIATE_TRANSFER' ng-click="resetsearchparams()">
					<div class="head-affix">
						<table class="table condensed-table">
							<thead>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.office' | translate }}<span
											class="required">*</span></label>
									<select chosen="offices" id="officeId_transfer" ng-model="officeId"
											ng-options="office.id as office.name for office in offices" value="{{office.id}}"
											ng-change="officeSelected(officeId)"  ng-required="true">
										<option value="">{{'label.selectoffice' | translate}}</option>
									</select>
									<span class="error" ng-show="showMsg">{{'label.error.required'|translate}}</span>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.staff' | translate }}</label>
									<select chosen="loanOfficers" id="loanOfficerId_transfer" ng-model="loanOfficerId"
											ng-options="loanOfficer.id as loanOfficer.displayName for loanOfficer in loanOfficers | filter: 'true'  "
											value="{{loanOfficer.id}}" ng-change="loanOfficerSelected(loanOfficerId)" class="form-control">
										<option value="">{{'label.selectloanofficer' | translate}}</option>
									</select>

								</th>
							<tr>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.center' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.center' | translate}}"></i>
									<select chosen="centers" id="centerId_transfer" name="center" ng-model="centerId"
											ng-options="center.id as center.name for center in centers" value="{{center.id}}"
											ng-change="centerSelected(centerId)" class="form-control">
										<option value="">{{'label.selectcenter' | translate}}</option>
									</select>
								</th>
								<th>
									<label class="control-label col-sm-2">{{ 'label.input.group' | translate }}</label>
									<i class="icon-question-sign" tooltip="{{'label.tooltip.group' | translate}}"></i>
									<select chosen="groups" id="groupId_transfer" ng-model="groupId" ng-options="group.id as group.name for group in groups"
											value="{{group.id}}" class="form-control">
										<option value="">{{'label.selectgroup' | translate}}</option>
									</select>
								</th>
								<th>
									<div class="rowleft">
										<button  class="btn btn-primary" data-ng-click="bankTransferSearch()" has-permission='INITIATE_TRANSFER'><i
												class="icon-search"></i>{{'label.button.search' | translate}}
										</button>
									</div>
								</th>
							</tr>
							<tr>
								<th>
									<input ng-autofocus="true" ng-model="filterText2" type="text" autocomplete="off" class="input-sm form-control"
										   placeholder="{{'label.input.filterbyname' | translate}}">
								</th>
								<th>
									<button type="button" class="btn btn-success" data-ng-click="bankTransferInitiate()" has-permission='INITIATE_TRANSFER'><i class="icon-ok"></i>{{'label.button.initiate'
										| translate}}
									</button>
								</th>
							</tr>
							</thead>
						</table>
					</div>
					<script type="text/ng-template" id="initiateTransfer.html">

						<div class="modal-footer">
							<button class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
							<button class="btn btn-primary" ng-click="initiateTransfer()">{{'label.button.confirm' | translate}}
							</button>
						</div>
					</script>
					<div>
						<table class="table condensed-table" data-ng-show="transferDetails">
							<thead>
							<tr class="graybg">
								<th></th>
								<th>{{'label.heading.transfertype' | translate}}</th>
								<th>{{'label.heading.transactiondate' | translate}}</th>
								<th>{{'label.heading.amount' | translate}}</th>
								<th>{{'label.heading.status' | translate}}</th>
							</tr>

							</thead>
							<tbody>
							<tr data-ng-repeat="traanferData in transferDetails" class="pointer-main">
								<td><input type="checkbox" ng-model="bankTransferTemplate[traanferData.id]"></td>
								<td class="pointer" data-ng-click="viewTransferDetails(traanferData)">{{traanferData.transferType.value}}</td>
								<td class="pointer" data-ng-click="viewTransferDetails(traanferData)">{{traanferData.transactionDate | DateFormat}}</td>
								<td class="pointer" data-ng-click="viewTransferDetails(traanferData)">{{traanferData.amount}}</td>
								<td class="pointer" data-ng-click="viewTransferDetails(traanferData)">{{traanferData.status.value}}</td>
							</tr>
							</tbody>
						</table>
					</div>
				</tab>

			</tabset>
		</fieldset>
	</div>
</div>
