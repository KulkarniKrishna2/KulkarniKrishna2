<div ng-controller="FldgManualSettlementController">
    <ul class="breadcrumb">
        <li><a href="#/viewtranche">{{'label.anchor.fldgtranche' | translate}}</a></li>
        <li><a href="#/fldgsettlement/{{trancheId}}">{{'label.anchor.fldgsettlement' | translate}}</a></li>
        <li class="active">{{'label.input.fldgmanualsettelemnt' | translate}}</li>
    </ul>
    <form name="fldgManualSettlement" novalidate="" class="form-horizontal well" rc-submit="submit()">
        <api-validate></api-validate>
        <fieldset>
            <legend>{{'label.input.fldgmanualsettelemnt'
                | translate}}&nbsp;</legend>
            <div class="col-md-5">
                <table class="table-bordered table view-table">
                    <tr>
                        <td>{{'label.heading.name' | translate}}</td>
                        <td>{{trancheDetails.name}}</td>
                    </tr>
                    <tr>
                        <td>{{'label.heading.disbursementammount' | translate}}</td>
                        <td>{{trancheDetails.disbursementAmount | number:2}}</td>
                    </tr>
                    <tr>
                        <td>{{'label.heading.provisioningpercentage' | translate}}</td>
                        <td>{{trancheDetails.percentage | number:2}}</td>
                    </tr>
                    <tr>
                        <td>{{'label.input.trancheamount' | translate}}</td>
                        <td>{{trancheDetails.trancheAmount | number:2}}</td>
                    </tr>
                </table>
            </div>
            <div class="col-md-10">
                <legend>{{ 'label.input.closedLoans'
                    | translate}}&nbsp;</legend>
                <div>
                    <div class="form-group">
                        <label class="control-label col-sm-2">
                            {{'label.input.loanaccountnumber' | translate}}&nbsp;
                            <span class="required">*</span>
                        </label>
                        <div class="col-sm-3">
                            <input id="accountNumber" type="text" autocomplete="off" name="accountNumber" ng-model="formData.accountNumber"
                                class="form-control" required late-validate />
                        </div>
                        <div class="col-sm-2">
                            <form-validate valattributeform="fldgManualSettlement" valattribute="accountNumber" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2">{{'label.heading.amount' | translate}}&nbsp;<span class="required">*</span></label>
                        <div class="col-sm-3">
                            <input id="overDueAmount" type="text" autocomplete="off" name="overDueAmount" ng-model="formData.amount"
                                class="form-control" required late-validate />
                        </div>
                        <div class="col-sm-2">
                            <form-validate valattributeform="fldgManualSettlement" valattribute="overDueAmount" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2">{{'label.heading.settledby' | translate}}&nbsp;<span
                                class="required">*</span></label>
                        <div class="col-sm-3">
                            <select id="settlementTypeId" name="settlementTypeId" ng-model="formData.settledById" class="form-control"
                                ng-options="settlementTypeOption.id as settlementTypeOption.value for settlementTypeOption in settlementOptions"
                                value="{{settlementTypeOption.id}}" required late-validate>
                                <option value="">{{'label.menu.selectone' | translate}}</option>
                            </select>
                        </div>
                        <div class="col-sm-2">
                            <form-validate valattributeform="fldgManualSettlement" valattribute="settlementTypeId" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2">{{ 'label.input.description' | translate }}
                        </label>

                        <div class="col-sm-3">
                            <textarea rows="2" class="form-control" ng-model="formData.description"></textarea>
                        </div>
                    </div>

                </div>
                <div class="center">
                    <a id="cancel" href="#/fldgsettlement/{{trancheId}}" type="submit" class="btn btn-default">{{'label.button.cancel'
                        | translate}}&nbsp;</a>&nbsp;
                    <button id="save" type="submit" has-permission='CREATE_FLDG_SETTLEMENT' class="btn btn-primary">{{'label.anchor.save'
                        | translate}}&nbsp;</button>
                </div>
            </div>
        </fieldset>
    </form>
</div>