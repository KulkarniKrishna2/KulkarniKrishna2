<div class="col-md-12" data-ng-controller="WorkflowBankApprovalListController">
    <div>
        <h3 class="paddedleft">
            <strong>{{'label.heading.kotak.credit.approval.list' | translate}}</strong>
        </h3>
    </div>
    <div>
        <api-validate></api-validate>
    </div>
    <hr/>
        <table class="table">
        <tr>
            <td class="col-md-3">
                <div>
                    <select chosen="offices" id="office" ng-model="formData.officeId" class="form-control"
                            ng-options="office.id as office.name for office in offices" value="{{office.id}}"
                            data-placeholder="Office">
                        <option value="">{{'label.alloffice' | translate}}</option>
                    </select>
                </div>
            </td>
            <td class="col-md-1">
            <td class="col-md-3">
                <div>
                    <select  id="stage" ng-model="formData.workflowLoanStatus"
                            class="form-control"
                            ng-options="status for status in workflowLoanStatusList"
                            value="{{workflow}}"
                            data-placeholder="Stage">
                        <option value="">{{'label.allStatus' | translate}}</option>
                    </select>
                </div>
            </td>
            <td class="col-md-1">
            <td class="col-md-3">
                <div>
                    <input type="text" id="clientId" ng-model = "formData.clientId" 
                    placeholder="{{'label.placeholder.clientId' | translate}}" class="form-control">
                </div>
            </td>
            <td class="col-md-1">
        </tr>
        <tr>
            <td  class="col-sm-3>
                <div">
                    <input id="taskCreatedDate" type="text" name="taskCreatedDate" 
                       datepicker-pop="{{df}}"
                       placeholder="{{'label.placeholder.task.created.date' | translate}}" 
                      ng-model="formData.taskCreatedDate" is-open="opened1" class="form-control"
                      ng-readonly = "true"/>
                </div>
            </td>
            <td class="col-md-1">
            <td  class="col-sm-3">
                <div>
                    <input id="expectedDisbursementDate" type="text" name="expectedDisbursementDate" 
                       datepicker-pop="{{df}}"
                       placeholder="{{'label.placeholder.expected.disbursement.date' | translate}}"
                     ng-model="formData.expectedDisbursementDate" is-open="opened1" 
                     ng-readonly = "true" class="form-control"/>
                </div>
            </td>
            <td class="col-md-1">
            <td  class="col-sm-3">
                <div>
                    <div>
                        <button class="btn btn-primary" ng-click="getWorkFlowBankApprovalTasks(filterBy)"><i
                                class="icon-search"></i>{{'label.button.fetchdetails' | translate}}</button>
                    </div>
                </div>
            <td>
            <td class="col-md-1">
        </tr>

    </table>
    <div id="home" class="row">
        <div class="col-md-12">
            <div class="card-content no-h-padding">
                <tabset class="paddedtop paddedbottom10">
                   <tab ng-repeat="taskType in taskTypes" ng-click="changeInTab(taskType.grouping)"   ng-if = "taskType.showtab" class='{{taskType.active}}'>
                        <tab-heading>
                            {{taskType.name | translate}}
                        </tab-heading>
                       <a id="bulkapproval" class="btn btn-primary pull-right ng-binding"
                          ng-click="doBulkBankApprovalAction(approvalIdList)"
                          ng-if = "isShowBulkApprovalButton && taskPagination.currentPageItems" has-permission = "BULK_APPROVE_TASK_CLIENT_LEVEL_BANK_APPROVE">
                           {{'label.button.bulk.bank.approval' | translate}}
                       </a>
                        <div class="table-responsive" 
                            data-ng-show="taskPagination.currentPageItems.length > 0">
                            <table id="bankapprovals" class="table table-striped card-table">
                                <thead>
                                <th class="col-md-1" ng-if="taskType.grouping === 'SystemApprove'"><input type="checkbox" ng-model="taskPagination.isAllChecked" data-toggle="tooltip" data-placement="top" ng-change="pushAllApprovalIdIntoList(taskPagination, taskPagination.isAllChecked)" tooltip="{{'label.input.selectall' | translate}}"/></th>
                                <th class="col-md-2">{{'label.heading.officeName' | translate}}</th>
                                <th class="col-md-2">{{'label.heading.clientname' | translate}}({{'label.heading.FCSM.No' | translate}})</th>
                                <th class="col-md-1">{{'label.heading.loanproduct' | translate}}</th>
                                <th class="col-md-1">{{'label.heading.status' | translate}}</th>
                                <th class="col-md-2">{{'label.heading.date' | translate}}</th>
                                </thead>
                                <tbody>
                                <tr ng-repeat="workflowBankApproval in taskPagination.currentPageItems" >
                                    <td  ng-if="taskType.grouping === 'SystemApprove'">
                                        <input class="pull-left" type="checkbox" ng-model="workflowBankApproval.isChecked" ng-change="
						                       pushApprovalIdIntoList(workflowBankApproval,$index,workflowBankApproval.isChecked)" ></th>
                                    </td>
                                    <td class=" pointer" ng-click="goToBankApprovalView(workflowBankApproval, taskType.grouping)">
                                        {{workflowBankApproval.officeName}}
                                    </td>
                                    <td class=" pointer" ng-click="goToBankApprovalView(workflowBankApproval, taskType.grouping)">
                                     <span> {{workflowBankApproval.clientName}} 
                                     ({{workflowBankApproval.clientFCSMNumber}}) </span>
                                    </td>
                                    <td class=" pointer" ng-click="goToBankApprovalView(workflowBankApproval, taskType.grouping)">
                                      {{workflowBankApproval.productName}}({{workflowBankApproval.requestLoanAmount}})
                                    </td>
                                    <td class=" pointer" ng-click="goToBankApprovalView(workflowBankApproval, taskType.grouping)">
                                        <i tooltip-placement="right" class="icon-circle " ng-style="getColor(workflowBankApproval.workflowLoanStatus.code)"></i>
                                        {{workflowBankApproval.workflowLoanStatus.value}}
                                    </td>    
                                    <td class=" pointer" ng-click="goToBankApprovalView(workflowBankApproval, taskType.grouping)">
                                        {{workflowBankApproval.taskCreatedDate}}
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <ul class="pager">
                                <li class="previous">
                                    <a id="prev" ng-click="taskPagination.previous()" href=""
                                       ng-hide="!taskPagination.hasPrevious()">&larr; {{'label.button.previous' | translate}}</a>
                                </li>
                                <li class="next">
                                    <a id="next" ng-click="taskPagination.next()" href=""
                                       ng-hide="!taskPagination.hasNext()">{{'label.button.next' | translate}} &rarr;</a></li>
                            </ul>
                        </div>

                        <div class="" style="padding:10px;" data-ng-hide="taskPagination.currentPageItems && taskPagination.currentPageItems.length > 0">
                            <div class="alert alert-info" style="border-style: dashed;">
                                <span class="fa fa-info-circle"></span> {{'info.message.taskList.noTasks' | translate}}
                            </div>
                        </div>
                    </tab>
                </tabset>
            </div>
        </div>
    </div>
</div>